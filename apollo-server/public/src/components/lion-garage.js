/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};function t(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}var r=function(){return(r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function n(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}function i(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function o(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))}function s(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function a(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const c="undefined"!=typeof window&&null!=window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,l=(e,t,r=null)=>{for(;t!==r;){const r=t.nextSibling;e.removeChild(t),t=r}},u=`{{lit-${String(Math.random()).slice(2)}}}`,h=`\x3c!--${u}--\x3e`,d=new RegExp(`${u}|${h}`);class p{constructor(e,t){this.parts=[],this.element=t;const r=[],n=[],i=document.createTreeWalker(t.content,133,null,!1);let o=0,s=-1,a=0;const{strings:c,values:{length:l}}=e;for(;a<l;){const e=i.nextNode();if(null!==e){if(s++,1===e.nodeType){if(e.hasAttributes()){const t=e.attributes,{length:r}=t;let n=0;for(let e=0;e<r;e++)f(t[e].name,"$lit$")&&n++;for(;n-- >0;){const t=c[a],r=m.exec(t)[2],n=r.toLowerCase()+"$lit$",i=e.getAttribute(n);e.removeAttribute(n);const o=i.split(d);this.parts.push({type:"attribute",index:s,name:r,strings:o}),a+=o.length-1}}"TEMPLATE"===e.tagName&&(n.push(e),i.currentNode=e.content)}else if(3===e.nodeType){const t=e.data;if(t.indexOf(u)>=0){const n=e.parentNode,i=t.split(d),o=i.length-1;for(let t=0;t<o;t++){let r,o=i[t];if(""===o)r=y();else{const e=m.exec(o);null!==e&&f(e[2],"$lit$")&&(o=o.slice(0,e.index)+e[1]+e[2].slice(0,-"$lit$".length)+e[3]),r=document.createTextNode(o)}n.insertBefore(r,e),this.parts.push({type:"node",index:++s})}""===i[o]?(n.insertBefore(y(),e),r.push(e)):e.data=i[o],a+=o}}else if(8===e.nodeType)if(e.data===u){const t=e.parentNode;null!==e.previousSibling&&s!==o||(s++,t.insertBefore(y(),e)),o=s,this.parts.push({type:"node",index:s}),null===e.nextSibling?e.data="":(r.push(e),s--),a++}else{let t=-1;for(;-1!==(t=e.data.indexOf(u,t+1));)this.parts.push({type:"node",index:-1}),a++}}else i.currentNode=n.pop()}for(const e of r)e.parentNode.removeChild(e)}}const f=(e,t)=>{const r=e.length-t.length;return r>=0&&e.slice(r)===t},v=e=>-1!==e.index,y=()=>document.createComment(""),m=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;function b(e,t){const{element:{content:r},parts:n}=e,i=document.createTreeWalker(r,133,null,!1);let o=_(n),s=n[o],a=-1,c=0;const l=[];let u=null;for(;i.nextNode();){a++;const e=i.currentNode;for(e.previousSibling===u&&(u=null),t.has(e)&&(l.push(e),null===u&&(u=e)),null!==u&&c++;void 0!==s&&s.index===a;)s.index=null!==u?-1:s.index-c,o=_(n,o),s=n[o]}l.forEach((e=>e.parentNode.removeChild(e)))}const g=e=>{let t=11===e.nodeType?0:1;const r=document.createTreeWalker(e,133,null,!1);for(;r.nextNode();)t++;return t},_=(e,t=-1)=>{for(let r=t+1;r<e.length;r++){const t=e[r];if(v(t))return r}return-1};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const w=new WeakMap,E=e=>"function"==typeof e&&w.has(e),S={},N={};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
class k{constructor(e,t,r){this.__parts=[],this.template=e,this.processor=t,this.options=r}update(e){let t=0;for(const r of this.__parts)void 0!==r&&r.setValue(e[t]),t++;for(const e of this.__parts)void 0!==e&&e.commit()}_clone(){const e=c?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),t=[],r=this.template.parts,n=document.createTreeWalker(e,133,null,!1);let i,o=0,s=0,a=n.nextNode();for(;o<r.length;)if(i=r[o],v(i)){for(;s<i.index;)s++,"TEMPLATE"===a.nodeName&&(t.push(a),n.currentNode=a.content),null===(a=n.nextNode())&&(n.currentNode=t.pop(),a=n.nextNode());if("node"===i.type){const e=this.processor.handleTextExpression(this.options);e.insertAfterNode(a.previousSibling),this.__parts.push(e)}else this.__parts.push(...this.processor.handleAttributeExpressions(a,i.name,i.strings,this.options));o++}else this.__parts.push(void 0),o++;return c&&(document.adoptNode(e),customElements.upgrade(e)),e}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const O=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:e=>e}),C=` ${u} `;class T{constructor(e,t,r,n){this.strings=e,this.values=t,this.type=r,this.processor=n}getHTML(){const e=this.strings.length-1;let t="",r=!1;for(let n=0;n<e;n++){const e=this.strings[n],i=e.lastIndexOf("\x3c!--");r=(i>-1||r)&&-1===e.indexOf("--\x3e",i+1);const o=m.exec(e);t+=null===o?e+(r?C:h):e.substr(0,o.index)+o[1]+o[2]+"$lit$"+o[3]+u}return t+=this.strings[e],t}getTemplateElement(){const e=document.createElement("template");let t=this.getHTML();return void 0!==O&&(t=O.createHTML(t)),e.innerHTML=t,e}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const x=e=>null===e||!("object"==typeof e||"function"==typeof e),I=e=>Array.isArray(e)||!(!e||!e[Symbol.iterator]);class A{constructor(e,t,r){this.dirty=!0,this.element=e,this.name=t,this.strings=r,this.parts=[];for(let e=0;e<r.length-1;e++)this.parts[e]=this._createPart()}_createPart(){return new D(this)}_getValue(){const e=this.strings,t=e.length-1,r=this.parts;if(1===t&&""===e[0]&&""===e[1]){const e=r[0].value;if("symbol"==typeof e)return String(e);if("string"==typeof e||!I(e))return e}let n="";for(let i=0;i<t;i++){n+=e[i];const t=r[i];if(void 0!==t){const e=t.value;if(x(e)||!I(e))n+="string"==typeof e?e:String(e);else for(const t of e)n+="string"==typeof t?t:String(t)}}return n+=e[t],n}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class D{constructor(e){this.value=void 0,this.committer=e}setValue(e){e===S||x(e)&&e===this.value||(this.value=e,E(e)||(this.committer.dirty=!0))}commit(){for(;E(this.value);){const e=this.value;this.value=S,e(this)}this.value!==S&&this.committer.commit()}}class P{constructor(e){this.value=void 0,this.__pendingValue=void 0,this.options=e}appendInto(e){this.startNode=e.appendChild(y()),this.endNode=e.appendChild(y())}insertAfterNode(e){this.startNode=e,this.endNode=e.nextSibling}appendIntoPart(e){e.__insert(this.startNode=y()),e.__insert(this.endNode=y())}insertAfterPart(e){e.__insert(this.startNode=y()),this.endNode=e.endNode,e.endNode=this.startNode}setValue(e){this.__pendingValue=e}commit(){if(null===this.startNode.parentNode)return;for(;E(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=S,e(this)}const e=this.__pendingValue;e!==S&&(x(e)?e!==this.value&&this.__commitText(e):e instanceof T?this.__commitTemplateResult(e):e instanceof Node?this.__commitNode(e):I(e)?this.__commitIterable(e):e===N?(this.value=N,this.clear()):this.__commitText(e))}__insert(e){this.endNode.parentNode.insertBefore(e,this.endNode)}__commitNode(e){this.value!==e&&(this.clear(),this.__insert(e),this.value=e)}__commitText(e){const t=this.startNode.nextSibling,r="string"==typeof(e=null==e?"":e)?e:String(e);t===this.endNode.previousSibling&&3===t.nodeType?t.data=r:this.__commitNode(document.createTextNode(r)),this.value=e}__commitTemplateResult(e){const t=this.options.templateFactory(e);if(this.value instanceof k&&this.value.template===t)this.value.update(e.values);else{const r=new k(t,e.processor,this.options),n=r._clone();r.update(e.values),this.__commitNode(n),this.value=r}}__commitIterable(e){Array.isArray(this.value)||(this.value=[],this.clear());const t=this.value;let r,n=0;for(const i of e)r=t[n],void 0===r&&(r=new P(this.options),t.push(r),0===n?r.appendIntoPart(this):r.insertAfterPart(t[n-1])),r.setValue(i),r.commit(),n++;n<t.length&&(t.length=n,this.clear(r&&r.endNode))}clear(e=this.startNode){l(this.startNode.parentNode,e.nextSibling,this.endNode)}}class R{constructor(e,t,r){if(this.value=void 0,this.__pendingValue=void 0,2!==r.length||""!==r[0]||""!==r[1])throw new Error("Boolean attributes can only contain a single expression");this.element=e,this.name=t,this.strings=r}setValue(e){this.__pendingValue=e}commit(){for(;E(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=S,e(this)}if(this.__pendingValue===S)return;const e=!!this.__pendingValue;this.value!==e&&(e?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=e),this.__pendingValue=S}}class F extends A{constructor(e,t,r){super(e,t,r),this.single=2===r.length&&""===r[0]&&""===r[1]}_createPart(){return new M(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class M extends D{}let L=!1;(()=>{try{const e={get capture(){return L=!0,!1}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){}})();class j{constructor(e,t,r){this.value=void 0,this.__pendingValue=void 0,this.element=e,this.eventName=t,this.eventContext=r,this.__boundHandleEvent=e=>this.handleEvent(e)}setValue(e){this.__pendingValue=e}commit(){for(;E(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=S,e(this)}if(this.__pendingValue===S)return;const e=this.__pendingValue,t=this.value,r=null==e||null!=t&&(e.capture!==t.capture||e.once!==t.once||e.passive!==t.passive),n=null!=e&&(null==t||r);r&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),n&&(this.__options=q(e),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=e,this.__pendingValue=S}handleEvent(e){"function"==typeof this.value?this.value.call(this.eventContext||this.element,e):this.value.handleEvent(e)}}const q=e=>e&&(L?{capture:e.capture,passive:e.passive,once:e.once}:e.capture)
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */;function V(e){let t=B.get(e.type);void 0===t&&(t={stringsArray:new WeakMap,keyString:new Map},B.set(e.type,t));let r=t.stringsArray.get(e.strings);if(void 0!==r)return r;const n=e.strings.join(u);return r=t.keyString.get(n),void 0===r&&(r=new p(e,e.getTemplateElement()),t.keyString.set(n,r)),t.stringsArray.set(e.strings,r),r}const B=new Map,U=new WeakMap,Q=(e,t,r)=>{let n=U.get(t);void 0===n&&(l(t,t.firstChild),U.set(t,n=new P(Object.assign({templateFactory:V},r))),n.appendInto(t)),n.setValue(e),n.commit()};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const W=new
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
class{handleAttributeExpressions(e,t,r,n){const i=t[0];if("."===i){return new F(e,t.slice(1),r).parts}if("@"===i)return[new j(e,t.slice(1),n.eventContext)];if("?"===i)return[new R(e,t.slice(1),r)];return new A(e,t,r).parts}handleTextExpression(e){return new P(e)}};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */"undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.4.1");const K=(e,...t)=>new T(e,t,"html",W)
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */,z=(e,t)=>`${e}--${t}`;let $=!0;void 0===window.ShadyCSS?$=!1:void 0===window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),$=!1);const H=e=>t=>{const r=z(t.type,e);let n=B.get(r);void 0===n&&(n={stringsArray:new WeakMap,keyString:new Map},B.set(r,n));let i=n.stringsArray.get(t.strings);if(void 0!==i)return i;const o=t.strings.join(u);if(i=n.keyString.get(o),void 0===i){const r=t.getTemplateElement();$&&window.ShadyCSS.prepareTemplateDom(r,e),i=new p(t,r),n.keyString.set(o,i)}return n.stringsArray.set(t.strings,i),i},J=["html","svg"],G=new Set,Y=(e,t,r)=>{G.add(e);const n=r?r.element:document.createElement("template"),i=t.querySelectorAll("style"),{length:o}=i;if(0===o)return void window.ShadyCSS.prepareTemplateStyles(n,e);const s=document.createElement("style");for(let e=0;e<o;e++){const t=i[e];t.parentNode.removeChild(t),s.textContent+=t.textContent}(e=>{J.forEach((t=>{const r=B.get(z(t,e));void 0!==r&&r.keyString.forEach((e=>{const{element:{content:t}}=e,r=new Set;Array.from(t.querySelectorAll("style")).forEach((e=>{r.add(e)})),b(e,r)}))}))})(e);const a=n.content;r?function(e,t,r=null){const{element:{content:n},parts:i}=e;if(null==r)return void n.appendChild(t);const o=document.createTreeWalker(n,133,null,!1);let s=_(i),a=0,c=-1;for(;o.nextNode();)for(c++,o.currentNode===r&&(a=g(t),r.parentNode.insertBefore(t,r));-1!==s&&i[s].index===c;){if(a>0){for(;-1!==s;)i[s].index+=a,s=_(i,s);return}s=_(i,s)}}(r,s,a.firstChild):a.insertBefore(s,a.firstChild),window.ShadyCSS.prepareTemplateStyles(n,e);const c=a.querySelector("style");if(window.ShadyCSS.nativeShadow&&null!==c)t.insertBefore(c.cloneNode(!0),t.firstChild);else if(r){a.insertBefore(s,a.firstChild);const e=new Set;e.add(s),b(r,e)}},X=(e,t,r)=>{if(!r||"object"!=typeof r||!r.scopeName)throw new Error("The `scopeName` option is required.");const n=r.scopeName,i=U.has(t),o=$&&11===t.nodeType&&!!t.host,s=o&&!G.has(n),a=s?document.createDocumentFragment():t;if(Q(e,a,Object.assign({templateFactory:H(n)},r)),s){const e=U.get(a);U.delete(a);const r=e.value instanceof k?e.value.template:void 0;Y(n,a,r),l(t,t.firstChild),t.appendChild(a),U.set(t,e)}!i&&o&&window.ShadyCSS.styleElement(t.host)};window.JSCompiler_renameProperty=(e,t)=>e;const Z={toAttribute(e,t){switch(t){case Boolean:return e?"":null;case Object:case Array:return null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){switch(t){case Boolean:return null!==e;case Number:return null===e?null:Number(e);case Object:case Array:return JSON.parse(e)}return e}},ee=(e,t)=>t!==e&&(t==t||e==e),te={attribute:!0,type:String,converter:Z,reflect:!1,hasChanged:ee};class re extends HTMLElement{constructor(){super(),this.initialize()}static get observedAttributes(){this.finalize();const e=[];return this._classProperties.forEach(((t,r)=>{const n=this._attributeNameForProperty(r,t);void 0!==n&&(this._attributeToPropertyMap.set(n,r),e.push(n))})),e}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;const e=Object.getPrototypeOf(this)._classProperties;void 0!==e&&e.forEach(((e,t)=>this._classProperties.set(t,e)))}}static createProperty(e,t=te){if(this._ensureClassProperties(),this._classProperties.set(e,t),t.noAccessor||this.prototype.hasOwnProperty(e))return;const r="symbol"==typeof e?Symbol():`__${e}`,n=this.getPropertyDescriptor(e,r,t);void 0!==n&&Object.defineProperty(this.prototype,e,n)}static getPropertyDescriptor(e,t,r){return{get(){return this[t]},set(n){const i=this[e];this[t]=n,this.requestUpdateInternal(e,i,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this._classProperties&&this._classProperties.get(e)||te}static finalize(){const e=Object.getPrototypeOf(this);if(e.hasOwnProperty("finalized")||e.finalize(),this.finalized=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){const e=this.properties,t=[...Object.getOwnPropertyNames(e),..."function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[]];for(const r of t)this.createProperty(r,e[r])}}static _attributeNameForProperty(e,t){const r=t.attribute;return!1===r?void 0:"string"==typeof r?r:"string"==typeof e?e.toLowerCase():void 0}static _valueHasChanged(e,t,r=ee){return r(e,t)}static _propertyValueFromAttribute(e,t){const r=t.type,n=t.converter||Z,i="function"==typeof n?n:n.fromAttribute;return i?i(e,r):e}static _propertyValueToAttribute(e,t){if(void 0===t.reflect)return;const r=t.type,n=t.converter;return(n&&n.toAttribute||Z.toAttribute)(e,r)}initialize(){this._updateState=0,this._updatePromise=new Promise((e=>this._enableUpdatingResolver=e)),this._changedProperties=new Map,this._saveInstanceProperties(),this.requestUpdateInternal()}_saveInstanceProperties(){this.constructor._classProperties.forEach(((e,t)=>{if(this.hasOwnProperty(t)){const e=this[t];delete this[t],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(t,e)}}))}_applyInstanceProperties(){this._instanceProperties.forEach(((e,t)=>this[t]=e)),this._instanceProperties=void 0}connectedCallback(){this.enableUpdating()}enableUpdating(){void 0!==this._enableUpdatingResolver&&(this._enableUpdatingResolver(),this._enableUpdatingResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(e,t,r){t!==r&&this._attributeToProperty(e,r)}_propertyToAttribute(e,t,r=te){const n=this.constructor,i=n._attributeNameForProperty(e,r);if(void 0!==i){const e=n._propertyValueToAttribute(t,r);if(void 0===e)return;this._updateState=8|this._updateState,null==e?this.removeAttribute(i):this.setAttribute(i,e),this._updateState=-9&this._updateState}}_attributeToProperty(e,t){if(8&this._updateState)return;const r=this.constructor,n=r._attributeToPropertyMap.get(e);if(void 0!==n){const e=r.getPropertyOptions(n);this._updateState=16|this._updateState,this[n]=r._propertyValueFromAttribute(t,e),this._updateState=-17&this._updateState}}requestUpdateInternal(e,t,r){let n=!0;if(void 0!==e){const i=this.constructor;r=r||i.getPropertyOptions(e),i._valueHasChanged(this[e],t,r.hasChanged)?(this._changedProperties.has(e)||this._changedProperties.set(e,t),!0!==r.reflect||16&this._updateState||(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(e,r))):n=!1}!this._hasRequestedUpdate&&n&&(this._updatePromise=this._enqueueUpdate())}requestUpdate(e,t){return this.requestUpdateInternal(e,t),this.updateComplete}async _enqueueUpdate(){this._updateState=4|this._updateState;try{await this._updatePromise}catch(e){}const e=this.performUpdate();return null!=e&&await e,!this._hasRequestedUpdate}get _hasRequestedUpdate(){return 4&this._updateState}get hasUpdated(){return 1&this._updateState}performUpdate(){if(!this._hasRequestedUpdate)return;this._instanceProperties&&this._applyInstanceProperties();let e=!1;const t=this._changedProperties;try{e=this.shouldUpdate(t),e?this.update(t):this._markUpdated()}catch(t){throw e=!1,this._markUpdated(),t}e&&(1&this._updateState||(this._updateState=1|this._updateState,this.firstUpdated(t)),this.updated(t))}_markUpdated(){this._changedProperties=new Map,this._updateState=-5&this._updateState}get updateComplete(){return this._getUpdateComplete()}_getUpdateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._updatePromise}shouldUpdate(e){return!0}update(e){void 0!==this._reflectingProperties&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach(((e,t)=>this._propertyToAttribute(t,this[t],e))),this._reflectingProperties=void 0),this._markUpdated()}updated(e){}firstUpdated(e){}}re.finalized=!0;
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const ne=e=>t=>"function"==typeof t?((e,t)=>(window.customElements.define(e,t),t))(e,t):((e,t)=>{const{kind:r,elements:n}=t;return{kind:r,elements:n,finisher(t){window.customElements.define(e,t)}}})(e,t),ie=(e,t)=>"method"===t.kind&&t.descriptor&&!("value"in t.descriptor)?Object.assign(Object.assign({},t),{finisher(r){r.createProperty(t.key,e)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},initializer(){"function"==typeof t.initializer&&(this[t.key]=t.initializer.call(this))},finisher(r){r.createProperty(t.key,e)}};function oe(e){return(t,r)=>void 0!==r?((e,t,r)=>{t.constructor.createProperty(r,e)})(e,t,r):ie(e,t)}
/**
@license
Copyright (c) 2019 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/const se=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,ae=Symbol();class ce{constructor(e,t){if(t!==ae)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e}get styleSheet(){return void 0===this._styleSheet&&(se?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}toString(){return this.cssText}}const le=(e,...t)=>{const r=t.reduce(((t,r,n)=>t+(e=>{if(e instanceof ce)return e.cssText;if("number"==typeof e)return e;throw new Error(`Value passed to 'css' function must be a 'css' function result: ${e}. Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security.`)})(r)+e[n+1]),e[0]);return new ce(r,ae)};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
(window.litElementVersions||(window.litElementVersions=[])).push("2.5.1");const ue={};class he extends re{static getStyles(){return this.styles}static _getUniqueStyles(){if(this.hasOwnProperty(JSCompiler_renameProperty("_styles",this)))return;const e=this.getStyles();if(Array.isArray(e)){const t=(e,r)=>e.reduceRight(((e,r)=>Array.isArray(r)?t(r,e):(e.add(r),e)),r),r=t(e,new Set),n=[];r.forEach((e=>n.unshift(e))),this._styles=n}else this._styles=void 0===e?[]:[e];this._styles=this._styles.map((e=>{if(e instanceof CSSStyleSheet&&!se){const t=Array.prototype.slice.call(e.cssRules).reduce(((e,t)=>e+t.cssText),"");return new ce(String(t),ae)}return e}))}initialize(){super.initialize(),this.constructor._getUniqueStyles(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow(this.constructor.shadowRootOptions)}adoptStyles(){const e=this.constructor._styles;0!==e.length&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow?se?this.renderRoot.adoptedStyleSheets=e.map((e=>e instanceof CSSStyleSheet?e:e.styleSheet)):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(e.map((e=>e.cssText)),this.localName))}connectedCallback(){super.connectedCallback(),this.hasUpdated&&void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this)}update(e){const t=this.render();super.update(e),t!==ue&&this.constructor.render(t,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach((e=>{const t=document.createElement("style");t.textContent=e.cssText,this.renderRoot.appendChild(t)})))}render(){return ue}}he.finalized=!0,he.render=X,he.shadowRootOptions={mode:"open"},window.JSCompiler_renameProperty=(e,t)=>e;const de={toAttribute(e,t){switch(t){case Boolean:return e?"":null;case Object:case Array:return null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){switch(t){case Boolean:return null!==e;case Number:return null===e?null:Number(e);case Object:case Array:return JSON.parse(e)}return e}},pe=(e,t)=>t!==e&&(t==t||e==e),fe={attribute:!0,type:String,converter:de,reflect:!1,hasChanged:pe};class ve extends HTMLElement{constructor(){super(),this.initialize()}static get observedAttributes(){this.finalize();const e=[];return this._classProperties.forEach(((t,r)=>{const n=this._attributeNameForProperty(r,t);void 0!==n&&(this._attributeToPropertyMap.set(n,r),e.push(n))})),e}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;const e=Object.getPrototypeOf(this)._classProperties;void 0!==e&&e.forEach(((e,t)=>this._classProperties.set(t,e)))}}static createProperty(e,t=fe){if(this._ensureClassProperties(),this._classProperties.set(e,t),t.noAccessor||this.prototype.hasOwnProperty(e))return;const r="symbol"==typeof e?Symbol():`__${e}`,n=this.getPropertyDescriptor(e,r,t);void 0!==n&&Object.defineProperty(this.prototype,e,n)}static getPropertyDescriptor(e,t,r){return{get(){return this[t]},set(n){const i=this[e];this[t]=n,this.requestUpdateInternal(e,i,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this._classProperties&&this._classProperties.get(e)||fe}static finalize(){const e=Object.getPrototypeOf(this);if(e.hasOwnProperty("finalized")||e.finalize(),this.finalized=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){const e=this.properties,t=[...Object.getOwnPropertyNames(e),..."function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[]];for(const r of t)this.createProperty(r,e[r])}}static _attributeNameForProperty(e,t){const r=t.attribute;return!1===r?void 0:"string"==typeof r?r:"string"==typeof e?e.toLowerCase():void 0}static _valueHasChanged(e,t,r=pe){return r(e,t)}static _propertyValueFromAttribute(e,t){const r=t.type,n=t.converter||de,i="function"==typeof n?n:n.fromAttribute;return i?i(e,r):e}static _propertyValueToAttribute(e,t){if(void 0===t.reflect)return;const r=t.type,n=t.converter;return(n&&n.toAttribute||de.toAttribute)(e,r)}initialize(){this._updateState=0,this._updatePromise=new Promise((e=>this._enableUpdatingResolver=e)),this._changedProperties=new Map,this._saveInstanceProperties(),this.requestUpdateInternal()}_saveInstanceProperties(){this.constructor._classProperties.forEach(((e,t)=>{if(this.hasOwnProperty(t)){const e=this[t];delete this[t],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(t,e)}}))}_applyInstanceProperties(){this._instanceProperties.forEach(((e,t)=>this[t]=e)),this._instanceProperties=void 0}connectedCallback(){this.enableUpdating()}enableUpdating(){void 0!==this._enableUpdatingResolver&&(this._enableUpdatingResolver(),this._enableUpdatingResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(e,t,r){t!==r&&this._attributeToProperty(e,r)}_propertyToAttribute(e,t,r=fe){const n=this.constructor,i=n._attributeNameForProperty(e,r);if(void 0!==i){const e=n._propertyValueToAttribute(t,r);if(void 0===e)return;this._updateState=8|this._updateState,null==e?this.removeAttribute(i):this.setAttribute(i,e),this._updateState=-9&this._updateState}}_attributeToProperty(e,t){if(8&this._updateState)return;const r=this.constructor,n=r._attributeToPropertyMap.get(e);if(void 0!==n){const e=r.getPropertyOptions(n);this._updateState=16|this._updateState,this[n]=r._propertyValueFromAttribute(t,e),this._updateState=-17&this._updateState}}requestUpdateInternal(e,t,r){let n=!0;if(void 0!==e){const i=this.constructor;r=r||i.getPropertyOptions(e),i._valueHasChanged(this[e],t,r.hasChanged)?(this._changedProperties.has(e)||this._changedProperties.set(e,t),!0!==r.reflect||16&this._updateState||(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(e,r))):n=!1}!this._hasRequestedUpdate&&n&&(this._updatePromise=this._enqueueUpdate())}requestUpdate(e,t){return this.requestUpdateInternal(e,t),this.updateComplete}async _enqueueUpdate(){this._updateState=4|this._updateState;try{await this._updatePromise}catch(e){}const e=this.performUpdate();return null!=e&&await e,!this._hasRequestedUpdate}get _hasRequestedUpdate(){return 4&this._updateState}get hasUpdated(){return 1&this._updateState}performUpdate(){if(!this._hasRequestedUpdate)return;this._instanceProperties&&this._applyInstanceProperties();let e=!1;const t=this._changedProperties;try{e=this.shouldUpdate(t),e?this.update(t):this._markUpdated()}catch(t){throw e=!1,this._markUpdated(),t}e&&(1&this._updateState||(this._updateState=1|this._updateState,this.firstUpdated(t)),this.updated(t))}_markUpdated(){this._changedProperties=new Map,this._updateState=-5&this._updateState}get updateComplete(){return this._getUpdateComplete()}_getUpdateComplete(){return this._updatePromise}shouldUpdate(e){return!0}update(e){void 0!==this._reflectingProperties&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach(((e,t)=>this._propertyToAttribute(t,this[t],e))),this._reflectingProperties=void 0),this._markUpdated()}updated(e){}firstUpdated(e){}}ve.finalized=!0;
/**
@license
Copyright (c) 2019 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const ye=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,me=Symbol();class be{constructor(e,t){if(t!==me)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e}get styleSheet(){return void 0===this._styleSheet&&(ye?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}toString(){return this.cssText}}const ge=(e,...t)=>{const r=t.reduce(((t,r,n)=>t+(e=>{if(e instanceof be)return e.cssText;if("number"==typeof e)return e;throw new Error(`Value passed to 'css' function must be a 'css' function result: ${e}. Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security.`)})(r)+e[n+1]),e[0]);return new be(r,me)};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
(window.litElementVersions||(window.litElementVersions=[])).push("2.4.0");const _e={};class we extends ve{static getStyles(){return this.styles}static _getUniqueStyles(){if(this.hasOwnProperty(JSCompiler_renameProperty("_styles",this)))return;const e=this.getStyles();if(Array.isArray(e)){const t=(e,r)=>e.reduceRight(((e,r)=>Array.isArray(r)?t(r,e):(e.add(r),e)),r),r=t(e,new Set),n=[];r.forEach((e=>n.unshift(e))),this._styles=n}else this._styles=void 0===e?[]:[e];this._styles=this._styles.map((e=>{if(e instanceof CSSStyleSheet&&!ye){const t=Array.prototype.slice.call(e.cssRules).reduce(((e,t)=>e+t.cssText),"");return new be(String(t),me)}return e}))}initialize(){super.initialize(),this.constructor._getUniqueStyles(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow({mode:"open"})}adoptStyles(){const e=this.constructor._styles;0!==e.length&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow?ye?this.renderRoot.adoptedStyleSheets=e.map((e=>e instanceof CSSStyleSheet?e:e.styleSheet)):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(e.map((e=>e.cssText)),this.localName))}connectedCallback(){super.connectedCallback(),this.hasUpdated&&void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this)}update(e){const t=this.render();super.update(e),t!==_e&&this.constructor.render(t,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach((e=>{const t=document.createElement("style");t.textContent=e.cssText,this.renderRoot.appendChild(t)})))}render(){return _e}}we.finalized=!0,we.render=X;const Ee=new WeakMap;function Se(e){e.removeAttribute("selected")}function Ne(e){e.removeAttribute("selected"),e.setAttribute("aria-selected","false"),e.setAttribute("tabindex","-1")}function ke(e){const t=e;switch(t.key){case"ArrowDown":case"ArrowRight":case"ArrowUp":case"ArrowLeft":case"Home":case"End":t.preventDefault()}}customElements.define("lion-tabs",class extends we{static get properties(){return{selectedIndex:{type:Number,attribute:"selected-index",reflect:!0}}}static get styles(){return[ge`.tabs__tab-group{display:flex}.tabs__tab-group ::slotted([slot=tab][selected]){font-weight:700}.tabs__panels ::slotted([slot=panel]){visibility:hidden;display:none}.tabs__panels ::slotted([slot=panel][selected]){visibility:visible;display:block}.tabs__panels{display:block}`]}render(){return K`<div class="tabs__tab-group" role="tablist"><slot name="tab"></slot></div><div class="tabs__panels"><slot name="panel"></slot></div>`}constructor(){super(),this.selectedIndex=0}firstUpdated(e){super.firstUpdated(e),this.__setupSlots()}__setupSlots(){if(this.shadowRoot){const e=this.shadowRoot.querySelector("slot[name=tab]"),t=()=>{this.__cleanStore(),this.__setupStore(),this.__updateSelected(!1)};e&&e.addEventListener("slotchange",t)}}__setupStore(){this.__store=[];const e=Array.from(this.children).filter((e=>"tab"===e.slot)),t=Array.from(this.children).filter((e=>"panel"===e.slot));e.length!==t.length&&console.warn(`The amount of tabs (${e.length}) doesn't match the amount of panels (${t.length}).`),e.forEach(((e,r)=>{const n={uid:Math.random().toString(36).substr(2,10),el:e,button:e,panel:t[r],clickHandler:this.__createButtonClickHandler(r),keydownHandler:ke.bind(this),keyupHandler:this.__handleButtonKeyup.bind(this)};!function({el:e,uid:t}){e.setAttribute("id",`panel-${t}`),e.setAttribute("role","tabpanel"),e.setAttribute("aria-labelledby",`button-${t}`)}({...n,el:n.panel}),function({el:e,uid:t,clickHandler:r,keydownHandler:n,keyupHandler:i}){e.setAttribute("id",`button-${t}`),e.setAttribute("role","tab"),e.setAttribute("aria-controls",`panel-${t}`),e.addEventListener("click",r),e.addEventListener("keyup",i),e.addEventListener("keydown",n)}(n),Se(n.panel),Ne(n.button),this.__store&&this.__store.push(n)}))}__cleanStore(){this.__store&&(this.__store.forEach((e=>{!function({el:e,clickHandler:t,keydownHandler:r,keyupHandler:n}){e.removeAttribute("id"),e.removeAttribute("role"),e.removeAttribute("aria-controls"),e.removeEventListener("click",t),e.removeEventListener("keyup",n),e.removeEventListener("keydown",r)}(e)})),this.__store=[])}__createButtonClickHandler(e){return()=>{this._setSelectedIndexWithFocus(e)}}__handleButtonKeyup(e){const t=e;if("number"==typeof this.selectedIndex)switch(t.key){case"ArrowDown":case"ArrowRight":this.selectedIndex+1>=this._pairCount?this._setSelectedIndexWithFocus(0):this._setSelectedIndexWithFocus(this.selectedIndex+1);break;case"ArrowUp":case"ArrowLeft":this.selectedIndex<=0?this._setSelectedIndexWithFocus(this._pairCount-1):this._setSelectedIndexWithFocus(this.selectedIndex-1);break;case"Home":this._setSelectedIndexWithFocus(0);break;case"End":this._setSelectedIndexWithFocus(this._pairCount-1)}}set selectedIndex(e){const t=this.__selectedIndex;this.__selectedIndex=e,this.__updateSelected(!1),this.dispatchEvent(new Event("selected-changed")),this.requestUpdate("selectedIndex",t)}_setSelectedIndexWithFocus(e){const t=this.__selectedIndex;this.__selectedIndex=e,this.__updateSelected(!0),this.dispatchEvent(new Event("selected-changed")),this.requestUpdate("selectedIndex",t)}get selectedIndex(){return this.__selectedIndex||0}get _pairCount(){return this.__store&&this.__store.length||0}__updateSelected(e=!1){if(!this.__store||"number"!=typeof this.selectedIndex||!this.__store[this.selectedIndex])return;const t=Array.from(this.children).find((e=>"tab"===e.slot&&e.hasAttribute("selected"))),r=Array.from(this.children).find((e=>"panel"===e.slot&&e.hasAttribute("selected")));t&&Ne(t),r&&Se(r);const{button:n,panel:i}=this.__store[this.selectedIndex];n&&function(e,t=!1){t&&e.focus(),e.setAttribute("selected","true"),e.setAttribute("aria-selected","true"),e.setAttribute("tabindex","0")}(n,e),i&&i.setAttribute("selected","true")}});const Oe=ge`.global-overlays{position:fixed;z-index:200}.global-overlays__overlay{pointer-events:auto}.global-overlays__overlay-container{display:flex;position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none}.global-overlays__overlay-container--top-left{justify-content:flex-start;align-items:flex-start}.global-overlays__overlay-container--top{justify-content:center;align-items:flex-start}.global-overlays__overlay-container--top-right{justify-content:flex-end;align-items:flex-start}.global-overlays__overlay-container--right{justify-content:flex-end;align-items:center}.global-overlays__overlay-container--bottom-left{justify-content:flex-start;align-items:flex-end}.global-overlays__overlay-container--bottom{justify-content:center;align-items:flex-end}.global-overlays__overlay-container--bottom-right{justify-content:flex-end;align-items:flex-end}.global-overlays__overlay-container--left{justify-content:flex-start;align-items:center}.global-overlays__overlay-container--center{justify-content:center;align-items:center}.global-overlays__overlay--bottom-sheet{width:100%}.global-overlays .global-overlays__backdrop{content:'';position:fixed;top:0;left:0;width:100%;height:100%;z-index:-1;background-color:#333;opacity:.3;display:none}.global-overlays .global-overlays__backdrop--visible{display:block}.global-overlays .global-overlays__backdrop--animation-in{animation:global-overlays-backdrop-fade-in .3s}.global-overlays .global-overlays__backdrop--animation-out{animation:global-overlays-backdrop-fade-out .3s;opacity:0}@keyframes global-overlays-backdrop-fade-in{from{opacity:0}}@keyframes global-overlays-backdrop-fade-out{from{opacity:.3}}body>[inert]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none}body.global-overlays-scroll-lock{overflow:hidden}body.global-overlays-scroll-lock-ios-fix{position:fixed;width:100%}`,Ce=Symbol.for("lion::SingletonManagerClassStorage");const Te=new class{constructor(){this._map=window[Ce]?window[Ce]:window[Ce]=new Map}set(e,t){this.has(e)||this._map.set(e,t)}get(e){return this._map.get(e)}has(e){return this._map.has(e)}};const xe=navigator.userAgent.match(/iPhone|iPad|iPod/i);class Ie{static __createGlobalRootNode(){const e=document.createElement("div");return e.classList.add("global-overlays"),document.body.appendChild(e),e}static __createGlobalStyleNode(){const e=document.createElement("style");return e.setAttribute("data-global-overlays",""),e.textContent=Oe.cssText,document.head.appendChild(e),e}get globalRootNode(){return Ie.__globalRootNode||(Ie.__globalRootNode=Ie.__createGlobalRootNode(),Ie.__globalStyleNode=Ie.__createGlobalStyleNode()),Ie.__globalRootNode}get list(){return this.__list}get shownList(){return this.__shownList}constructor(){this.__list=[],this.__shownList=[],this.__siblingsInert=!1,this.__blockingMap=new WeakMap}add(e){if(this.list.find((t=>e===t)))throw new Error("controller instance is already added");return this.list.push(e),e}remove(e){if(!this.list.find((t=>e===t)))throw new Error("could not find controller to remove");this.__list=this.list.filter((t=>t!==e))}show(e){this.list.find((t=>e===t))&&this.hide(e),this.__shownList.unshift(e),Array.from(this.__shownList).reverse().forEach(((e,t)=>{e.elevation=t+1}))}hide(e){if(!this.list.find((t=>e===t)))throw new Error("could not find controller to hide");this.__shownList=this.shownList.filter((t=>t!==e))}teardown(){this.list.forEach((e=>{e.teardown()})),this.__list=[],this.__shownList=[],this.__siblingsInert=!1;const e=Ie.__globalRootNode;e&&(e.parentElement&&e.parentElement.removeChild(e),Ie.__globalRootNode=void 0,document.head.removeChild(Ie.__globalStyleNode),Ie.__globalStyleNode=void 0)}get siblingsInert(){return this.__siblingsInert}disableTrapsKeyboardFocusForAll(){this.shownList.forEach((e=>{!0===e.trapsKeyboardFocus&&e.disableTrapsKeyboardFocus&&e.disableTrapsKeyboardFocus({findNewTrap:!1})}))}informTrapsKeyboardFocusGotEnabled(e){!1===this.siblingsInert&&"global"===e&&(Ie.__globalRootNode&&function(e){const t=e.parentElement?.children;for(let r=0;r<t.length;r+=1){const n=t[r];n!==e&&(n.setAttribute("inert",""),n.setAttribute("aria-hidden","true"))}}(this.globalRootNode),this.__siblingsInert=!0)}informTrapsKeyboardFocusGotDisabled({disabledCtrl:e,findNewTrap:t=!0}={}){const r=this.shownList.find((t=>t!==e&&!0===t.trapsKeyboardFocus));r?t&&r.enableTrapsKeyboardFocus():!0===this.siblingsInert&&(Ie.__globalRootNode&&function(e){const t=e.parentElement?.children;for(let r=0;r<t.length;r+=1){const n=t[r];n!==e&&(n.removeAttribute("inert"),n.removeAttribute("aria-hidden"))}}(this.globalRootNode),this.__siblingsInert=!1)}requestToPreventScroll(){document.body.classList.add("global-overlays-scroll-lock"),xe&&document.body.classList.add("global-overlays-scroll-lock-ios-fix")}requestToEnableScroll(){this.shownList.some((e=>!0===e.preventsScroll))||(document.body.classList.remove("global-overlays-scroll-lock"),xe&&document.body.classList.remove("global-overlays-scroll-lock-ios-fix"))}requestToShowOnly(e){const t=this.shownList.filter((t=>t!==e));t.map((e=>e.hide())),this.__blockingMap.set(e,t)}retractRequestToShowOnly(e){if(this.__blockingMap.has(e)){this.__blockingMap.get(e).map((e=>e.show()))}}}Ie.__globalRootNode=void 0,Ie.__globalStyleNode=void 0;let Ae=Te.get("@lion/overlays::overlays::0.15.x")||new Ie;function De(){let e=document.activeElement||document.body;for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}const Pe=({visibility:e,display:t})=>"hidden"!==e&&"none"!==t;function Re(e,t){const r=Math.max(e.tabIndex,0),n=Math.max(t.tabIndex,0);return 0===r||0===n?n>r:r>n}function Fe(e){const t=e.length;if(t<2)return e;const r=Math.ceil(t/2);return function(e,t){const r=[];for(;e.length>0&&t.length>0;)Re(e[0],t[0])?r.push(t.shift()):r.push(e.shift());return[...r,...e,...t]}(Fe(e.slice(0,r)),Fe(e.slice(r)))}const Me="matches"in Element.prototype?"matches":"msMatchesSelector";function Le(e){return function(e){return e[Me]("input, select, textarea, button, object")?e[Me](":not([disabled])"):e[Me]("a[href], area[href], iframe, [tabindex], [contentEditable]")}(e)?Number(e.getAttribute("tabindex")||0):-1}function je(e){return e.nodeType===Node.ELEMENT_NODE&&("slot"===e.localName||function(e){return!!(e&&e.isConnected&&Pe(e.style)&&Pe(window.getComputedStyle(e))&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length))}(e))}function qe(e,t){if(!je(e))return!1;const r=e,n=Le(r);let i=n>0;n>=0&&t.push(r);const o=function(e){if("slot"===e.localName)return e.assignedNodes({flatten:!0});const{children:t}=e.shadowRoot||e;return t||[]}(r);for(let e=0;e<o.length;e+=1)i=qe(o[e],t)||i;return i}function Ve(e){const t=[];return qe(e,t)?Fe(t):t}function Be(e,t){let r=e.contains(t);if(r)return!0;return!!(e instanceof HTMLElement&&e.shadowRoot&&(r=Be(e.shadowRoot,t),r))||(function e(n){for(let i=0;i<n.children.length;i+=1){const o=n.children[i];if(o.shadowRoot&&Be(o.shadowRoot,t)){r=!0;break}o.children.length>0&&e(o)}}(e),r)}const Ue=9;function Qe(e){const t=Ve(e),r=t.find((e=>e.hasAttribute("autofocus")))||e;let n,i;function o(t){t.keyCode===Ue&&function(e,t){const r=Ve(e);let n;n=r.length>=2?[r[0],r[r.length-1]]:1===r.length?[r[0],r[0]]:[e,e],t.shiftKey&&n.reverse();const[i,o]=n,s=De();s===e||r.includes(s)&&o!==s||(t.preventDefault(),i.focus())}(e,t)}function s({resetToRoot:r=!1}={}){if(Be(e,De()))return;let i;i=r?e:t[n.compareDocumentPosition(document.activeElement)===Node.DOCUMENT_POSITION_PRECEDING?0:t.length-1],i&&i.focus()}function a(){window.removeEventListener("focusin",a),s()}function c(){setTimeout((()=>{Be(e,De())||s({resetToRoot:!0})})),window.addEventListener("focusin",a)}return r===e&&(e.tabIndex=-1,e.style.setProperty("outline","none")),r.focus(),window.addEventListener("keydown",o),window.addEventListener("focusout",c),function t(){n=document.createElement("div"),n.style.display="none",n.setAttribute("data-is-tab-detection-element",""),e.insertBefore(n,e.children[0]),i=new MutationObserver((r=>{for(const n of r)if("childList"===n.type){const r=!Array.from(e.children).find((e=>e.hasAttribute("data-is-tab-detection-element"))),o=Array.from(n.addedNodes).find((e=>e instanceof HTMLElement&&e.hasAttribute("data-is-tab-detection-element")));r&&!o&&(i.disconnect(),t())}})),i.observe(e,{childList:!0})}(),{disconnect:function(){window.removeEventListener("keydown",o),window.removeEventListener("focusin",a),window.removeEventListener("focusout",c),i.disconnect(),Array.from(e.children).includes(n)&&e.removeChild(n),e.style.removeProperty("outline")}}}const We=window.CSS&&CSS.number;class Ke extends class{constructor(){const e=document.createDocumentFragment();this.addEventListener=(t,r,n)=>e.addEventListener(t,r,n),this.removeEventListener=(t,r,n)=>e.removeEventListener(t,r,n),this.dispatchEvent=t=>e.dispatchEvent(t)}}{constructor(e={},t=Ae){if(super(),this.manager=t,this.__sharedConfig=e,this._defaultConfig={placementMode:void 0,contentNode:e.contentNode,contentWrapperNode:e.contentWrapperNode,invokerNode:e.invokerNode,backdropNode:e.backdropNode,referenceNode:void 0,elementToFocusAfterHide:e.invokerNode,inheritsReferenceWidth:"none",hasBackdrop:!1,isBlocking:!1,preventsScroll:!1,trapsKeyboardFocus:!1,hidesOnEsc:!1,hidesOnOutsideEsc:!1,hidesOnOutsideClick:!1,isTooltip:!1,invokerRelation:"description",handlesAccessibility:!1,popperConfig:{placement:"top",strategy:"absolute",modifiers:[{name:"preventOverflow",enabled:!0,options:{boundariesElement:"viewport",padding:8}},{name:"flip",options:{boundariesElement:"viewport",padding:16}},{name:"offset",enabled:!0,options:{offset:[0,8]}},{name:"arrow",enabled:!1}]},viewportConfig:{placement:"center"}},this.manager.add(this),this._contentId=`overlay-content--${Math.random().toString(36).substr(2,10)}`,this.__originalAttrs=new Map,this._defaultConfig.contentNode){if(!this._defaultConfig.contentNode.isConnected)throw new Error('[OverlayController] Could not find a render target, since the provided contentNode is not connected to the DOM. Make sure that it is connected, e.g. by doing "document.body.appendChild(contentNode)", before passing it on.');this.__isContentNodeProjected=Boolean(this._defaultConfig.contentNode.assignedSlot)}this.updateConfig(e),this.__hasActiveTrapsKeyboardFocus=!1,this.__hasActiveBackdrop=!0,this.__backdropNodeToBeTornDown=void 0,this.__escKeyHandler=this.__escKeyHandler.bind(this)}get invoker(){return this.invokerNode}get content(){return this.contentWrapperNode}get placementMode(){return this.config?.placementMode}get invokerNode(){return this.config?.invokerNode}get referenceNode(){return this.config?.referenceNode}get contentNode(){return this.config?.contentNode}get contentWrapperNode(){return this.__contentWrapperNode||this.config?.contentWrapperNode}get backdropNode(){return this.__backdropNode||this.config?.backdropNode}get elementToFocusAfterHide(){return this.__elementToFocusAfterHide||this.config?.elementToFocusAfterHide}get hasBackdrop(){return!!this.backdropNode||this.config?.hasBackdrop}get isBlocking(){return this.config?.isBlocking}get preventsScroll(){return this.config?.preventsScroll}get trapsKeyboardFocus(){return this.config?.trapsKeyboardFocus}get hidesOnEsc(){return this.config?.hidesOnEsc}get hidesOnOutsideClick(){return this.config?.hidesOnOutsideClick}get hidesOnOutsideEsc(){return this.config?.hidesOnOutsideEsc}get inheritsReferenceWidth(){return this.config?.inheritsReferenceWidth}get handlesAccessibility(){return this.config?.handlesAccessibility}get isTooltip(){return this.config?.isTooltip}get invokerRelation(){return this.config?.invokerRelation}get popperConfig(){return this.config?.popperConfig}get viewportConfig(){return this.config?.viewportConfig}get _renderTarget(){return"global"===this.placementMode?this.manager.globalRootNode:this.__isContentNodeProjected?this.__originalContentParent?.getRootNode().host:this.__originalContentParent}get _referenceNode(){return this.referenceNode||this.invokerNode}set elevation(e){this.contentWrapperNode&&(this.contentWrapperNode.style.zIndex=e),this.backdropNode&&(this.backdropNode.style.zIndex=e)}get elevation(){return Number(this.contentWrapperNode?.style.zIndex)}updateConfig(e){this.teardown(),this.__prevConfig=this.config||{},this.config={...this._defaultConfig,...this.__sharedConfig,...e,popperConfig:{...this._defaultConfig.popperConfig||{},...this.__sharedConfig.popperConfig||{},...e.popperConfig||{},modifiers:[...this._defaultConfig.popperConfig&&this._defaultConfig.popperConfig.modifiers||[],...this.__sharedConfig.popperConfig&&this.__sharedConfig.popperConfig.modifiers||[],...e.popperConfig&&e.popperConfig.modifiers||[]]}},this.__validateConfiguration(this.config),this._init({cfgToAdd:e}),this.__elementToFocusAfterHide=void 0}__validateConfiguration(e){if(!e.placementMode)throw new Error('[OverlayController] You need to provide a .placementMode ("global"|"local")');if(!["global","local"].includes(e.placementMode))throw new Error(`[OverlayController] "${e.placementMode}" is not a valid .placementMode, use ("global"|"local")`);if(!e.contentNode)throw new Error("[OverlayController] You need to provide a .contentNode");if(this.__isContentNodeProjected&&!e.contentWrapperNode)throw new Error("[OverlayController] You need to provide a .contentWrapperNode when .contentNode is projected");if(e.isTooltip&&"local"!==e.placementMode)throw new Error('[OverlayController] .isTooltip should be configured with .placementMode "local"');if(e.isTooltip&&!e.handlesAccessibility)throw new Error("[OverlayController] .isTooltip only takes effect when .handlesAccessibility is enabled")}_init({cfgToAdd:e}){this.__initContentWrapperNode({cfgToAdd:e}),this.__initConnectionTarget(),"local"===this.placementMode&&(Ke.popperModule||(Ke.popperModule=async function(){return import("./popper-9d8f483c.js")}())),this._handleFeatures({phase:"init"})}__initConnectionTarget(){if(this.contentWrapperNode!==this.__prevConfig?.contentWrapperNode&&("global"!==this.config?.placementMode&&this.__isContentNodeProjected||this.contentWrapperNode.appendChild(this.contentNode)),this._renderTarget)if(this.__isContentNodeProjected&&"local"===this.placementMode)this._renderTarget.appendChild(this.contentNode);else{const e=this._renderTarget===this.contentWrapperNode.parentNode,t=this.contentWrapperNode.contains(this._renderTarget);e||t||this._renderTarget.appendChild(this.contentWrapperNode)}}__initContentWrapperNode({cfgToAdd:e}){this.config?.contentWrapperNode&&"local"===this.placementMode?this.__contentWrapperNode=this.config.contentWrapperNode:this.__contentWrapperNode=document.createElement("div"),this.contentWrapperNode.style.cssText="",this.contentWrapperNode.style.display="none","absolute"===getComputedStyle(this.contentNode).position&&(this.contentNode.style.position="static"),this.__isContentNodeProjected&&this.contentWrapperNode.isConnected?this.__originalContentParent=this.contentWrapperNode.parentNode:e.contentNode&&e.contentNode.isConnected&&(this.__originalContentParent=this.contentNode?.parentNode)}_handleZIndex({phase:e}){if("local"===this.placementMode&&"setup"===e){const e=Number(getComputedStyle(this.contentNode).zIndex);(e<1||Number.isNaN(e))&&(this.contentWrapperNode.style.zIndex="1")}}__setupTeardownAccessibility({phase:e}){"init"===e?(this.__storeOriginalAttrs(this.contentNode,["role","id"]),this.invokerNode&&this.__storeOriginalAttrs(this.invokerNode,["aria-expanded","aria-labelledby","aria-describedby"]),this.contentNode.id||this.contentNode.setAttribute("id",this._contentId),this.isTooltip?(this.invokerNode&&this.invokerNode.setAttribute("label"===this.invokerRelation?"aria-labelledby":"aria-describedby",this._contentId),this.contentNode.setAttribute("role","tooltip")):(this.invokerNode&&this.invokerNode.setAttribute("aria-expanded",`${this.isShown}`),this.contentNode.getAttribute("role")||this.contentNode.setAttribute("role","dialog"))):"teardown"===e&&this.__restoreOriginalAttrs()}__storeOriginalAttrs(e,t){const r={};t.forEach((t=>{r[t]=e.getAttribute(t)})),this.__originalAttrs.set(e,r)}__restoreOriginalAttrs(){for(const[e,t]of this.__originalAttrs)Object.entries(t).forEach((([t,r])=>{null!==r?e.setAttribute(t,r):e.removeAttribute(t)}));this.__originalAttrs.clear()}get isShown(){return Boolean("none"!==this.contentWrapperNode.style.display)}async show(e=this.elementToFocusAfterHide){if(this._showComplete&&await this._showComplete,this._showComplete=new Promise((e=>{this._showResolve=e})),this.manager&&this.manager.show(this),this.isShown)return void this._showResolve();const t=new CustomEvent("before-show",{cancelable:!0});this.dispatchEvent(t),t.defaultPrevented||(this.contentWrapperNode.style.display="",this._keepBodySize({phase:"before-show"}),await this._handleFeatures({phase:"show"}),this._keepBodySize({phase:"show"}),await this._handlePosition({phase:"show"}),this.__elementToFocusAfterHide=e,this.dispatchEvent(new Event("show")),await this._transitionShow({backdropNode:this.backdropNode,contentNode:this.contentNode})),this._showResolve()}async _handlePosition({phase:e}){if("global"===this.placementMode){const t="show"===e?"add":"remove",r=`global-overlays__overlay-container--${this.viewportConfig.placement}`;this.contentWrapperNode.classList[t]("global-overlays__overlay-container"),this.contentWrapperNode.classList[t](r),this.contentNode.classList[t]("global-overlays__overlay")}else"local"===this.placementMode&&"show"===e&&(await this.__createPopperInstance(),this._popper.forceUpdate())}_keepBodySize({phase:e}){switch(e){case"before-show":this.__bodyClientWidth=document.body.clientWidth,this.__bodyClientHeight=document.body.clientHeight,this.__bodyMarginRightInline=document.body.style.marginRight,this.__bodyMarginBottomInline=document.body.style.marginBottom;break;case"show":{if(window.getComputedStyle){const e=window.getComputedStyle(document.body);this.__bodyMarginRight=parseInt(e.getPropertyValue("margin-right"),10),this.__bodyMarginBottom=parseInt(e.getPropertyValue("margin-bottom"),10)}else this.__bodyMarginRight=0,this.__bodyMarginBottom=0;const e=document.body.clientWidth-this.__bodyClientWidth,t=document.body.clientHeight-this.__bodyClientHeight,r=this.__bodyMarginRight+e,n=this.__bodyMarginBottom+t;We?(document.body.attributeStyleMap.set("margin-right",CSS.px(r)),document.body.attributeStyleMap.set("margin-bottom",CSS.px(n))):(document.body.style.marginRight=`${r}px`,document.body.style.marginBottom=`${n}px`);break}case"hide":document.body.style.marginRight=this.__bodyMarginRightInline||"",document.body.style.marginBottom=this.__bodyMarginBottomInline||""}}async hide(){if(this._hideComplete=new Promise((e=>{this._hideResolve=e})),this.manager&&this.manager.hide(this),!this.isShown)return void this._hideResolve();const e=new CustomEvent("before-hide",{cancelable:!0});this.dispatchEvent(e),e.defaultPrevented||(await this._transitionHide({backdropNode:this.backdropNode,contentNode:this.contentNode}),this.contentWrapperNode.style.display="none",this._handleFeatures({phase:"hide"}),this._keepBodySize({phase:"hide"}),this.dispatchEvent(new Event("hide")),this._restoreFocus()),this._hideResolve()}async transitionHide(e){}async _transitionHide(e){if(await this.transitionHide({backdropNode:this.backdropNode,contentNode:this.contentNode}),e.backdropNode){e.backdropNode.classList.remove(`${this.placementMode}-overlays__backdrop--animation-in`);let t=()=>{};e.backdropNode.classList.add(`${this.placementMode}-overlays__backdrop--animation-out`),this.__backdropAnimation=new Promise((r=>{t=()=>{e.backdropNode&&(e.backdropNode.classList.remove(`${this.placementMode}-overlays__backdrop--animation-out`),e.backdropNode.classList.remove(`${this.placementMode}-overlays__backdrop--visible`),e.backdropNode.removeEventListener("animationend",t)),r(void 0)}})),e.backdropNode.addEventListener("animationend",t)}}async transitionShow(e){}async _transitionShow(e){await this.transitionShow({backdropNode:this.backdropNode,contentNode:this.contentNode}),e.backdropNode&&e.backdropNode.classList.add(`${this.placementMode}-overlays__backdrop--animation-in`)}_restoreFocus(){const{activeElement:e}=this.__contentWrapperNode.getRootNode();e&&this.__contentWrapperNode.contains(e)&&(this.elementToFocusAfterHide?this.elementToFocusAfterHide.focus():e.blur())}async toggle(){return this.isShown?this.hide():this.show()}_handleFeatures({phase:e}){this._handleZIndex({phase:e}),this.preventsScroll&&this._handlePreventsScroll({phase:e}),this.isBlocking&&this._handleBlocking({phase:e}),this.hasBackdrop&&this._handleBackdrop({phase:e}),this.trapsKeyboardFocus&&this._handleTrapsKeyboardFocus({phase:e}),this.hidesOnEsc&&this._handleHidesOnEsc({phase:e}),this.hidesOnOutsideEsc&&this._handleHidesOnOutsideEsc({phase:e}),this.hidesOnOutsideClick&&this._handleHidesOnOutsideClick({phase:e}),this.handlesAccessibility&&this._handleAccessibility({phase:e}),this.inheritsReferenceWidth&&this._handleInheritsReferenceWidth()}_handlePreventsScroll({phase:e}){switch(e){case"show":this.manager.requestToPreventScroll();break;case"hide":this.manager.requestToEnableScroll()}}_handleBlocking({phase:e}){switch(e){case"show":this.manager.requestToShowOnly(this);break;case"hide":this.manager.retractRequestToShowOnly(this)}}get hasActiveBackdrop(){return this.__hasActiveBackdrop}_handleBackdrop({phase:e}){switch(e){case"init":{this.backdropNode||(this.__backdropNode=document.createElement("div"),this.backdropNode.slot="backdrop",this.backdropNode.classList.add(`${this.placementMode}-overlays__backdrop`));let e=this.contentNode.parentNode,t=this.contentNode;"global"===this.placementMode&&(e=this.contentWrapperNode.parentElement,t=this.contentWrapperNode),e.insertBefore(this.backdropNode,t);break}case"show":this.backdropNode.classList.add(`${this.placementMode}-overlays__backdrop--visible`),this.__hasActiveBackdrop=!0;break;case"hide":if(!this.backdropNode)return;this.__hasActiveBackdrop=!1;break;case"teardown":if(!this.backdropNode||!this.backdropNode.parentNode)return;this.__backdropAnimation?(this.__backdropNodeToBeTornDown=this.backdropNode,this.__backdropAnimation.then((()=>{this.__backdropNodeToBeTornDown&&this.__backdropNodeToBeTornDown.parentNode&&this.__backdropNodeToBeTornDown.parentNode.removeChild(this.__backdropNodeToBeTornDown)}))):this.backdropNode.parentNode.removeChild(this.backdropNode),this.__backdropNode=void 0}}get hasActiveTrapsKeyboardFocus(){return this.__hasActiveTrapsKeyboardFocus}_handleTrapsKeyboardFocus({phase:e}){"show"===e?this.enableTrapsKeyboardFocus():"hide"!==e&&"teardown"!==e||this.disableTrapsKeyboardFocus()}enableTrapsKeyboardFocus(){this.__hasActiveTrapsKeyboardFocus||(this.manager&&this.manager.disableTrapsKeyboardFocusForAll(),this._containFocusHandler=Qe(this.contentNode),this.__hasActiveTrapsKeyboardFocus=!0,this.manager&&this.manager.informTrapsKeyboardFocusGotEnabled(this.placementMode))}disableTrapsKeyboardFocus({findNewTrap:e=!0}={}){this.__hasActiveTrapsKeyboardFocus&&(this._containFocusHandler&&(this._containFocusHandler.disconnect(),this._containFocusHandler=void 0),this.__hasActiveTrapsKeyboardFocus=!1,this.manager&&this.manager.informTrapsKeyboardFocusGotDisabled({disabledCtrl:this,findNewTrap:e}))}__escKeyHandler(e){return"Escape"===e.key&&this.hide()}_handleHidesOnEsc({phase:e}){"show"===e?(this.contentNode.addEventListener("keyup",this.__escKeyHandler),this.invokerNode&&this.invokerNode.addEventListener("keyup",this.__escKeyHandler)):"hide"===e&&(this.contentNode.removeEventListener("keyup",this.__escKeyHandler),this.invokerNode&&this.invokerNode.removeEventListener("keyup",this.__escKeyHandler))}_handleHidesOnOutsideEsc({phase:e}){"show"===e?(this.__escKeyHandler=e=>"Escape"===e.key&&this.hide(),document.addEventListener("keyup",this.__escKeyHandler)):"hide"===e&&document.removeEventListener("keyup",this.__escKeyHandler)}_handleInheritsReferenceWidth(){if(!this._referenceNode||"global"===this.placementMode)return;const e=`${this._referenceNode.getBoundingClientRect().width}px`;switch(this.inheritsReferenceWidth){case"max":this.contentWrapperNode.style.maxWidth=e;break;case"full":this.contentWrapperNode.style.width=e;break;case"min":this.contentWrapperNode.style.minWidth=e,this.contentWrapperNode.style.width="auto"}}_handleHidesOnOutsideClick({phase:e}){const t="show"===e?"addEventListener":"removeEventListener";if("show"===e){let e=!1,t=!1;this.__onInsideMouseDown=()=>{e=!0},this.__onInsideMouseUp=()=>{t=!0},this.__onDocumentMouseUp=()=>{setTimeout((()=>{e||t||this.hide(),e=!1,t=!1}))}}this.contentWrapperNode[t]("mousedown",this.__onInsideMouseDown,!0),this.contentWrapperNode[t]("mouseup",this.__onInsideMouseUp,!0),this.invokerNode&&(this.invokerNode[t]("mousedown",this.__onInsideMouseDown,!0),this.invokerNode[t]("mouseup",this.__onInsideMouseUp,!0)),document.documentElement[t]("mouseup",this.__onDocumentMouseUp,!0)}_handleAccessibility({phase:e}){"init"!==e&&"teardown"!==e||this.__setupTeardownAccessibility({phase:e}),this.invokerNode&&!this.isTooltip&&this.invokerNode.setAttribute("aria-expanded",`${"show"===e}`)}teardown(){this._handleFeatures({phase:"teardown"}),"global"===this.placementMode&&this.__isContentNodeProjected&&this.__originalContentParent.appendChild(this.contentNode),this._teardownContentWrapperNode()}_teardownContentWrapperNode(){"global"===this.placementMode&&this.contentWrapperNode&&this.contentWrapperNode.parentNode&&this.contentWrapperNode.parentNode.removeChild(this.contentWrapperNode)}async __createPopperInstance(){if(this._popper&&(this._popper.destroy(),this._popper=void 0),void 0!==Ke.popperModule){const{createPopper:e}=await Ke.popperModule;this._popper=e(this._referenceNode,this.contentWrapperNode,{...this.config?.popperConfig})}}}function ze(e,t){if("object"!=typeof e||"object"!=typeof e)return e===t;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;return r.every((r=>ze(e[r],t[r])))}Ke.popperModule=void 0;const $e=(He=e=>class extends e{static get properties(){return{opened:{type:Boolean,reflect:!0}}}constructor(){super(),this.opened=!1,this.__needsSetup=!0,this.config={},this.toggle=this.toggle.bind(this),this.open=this.open.bind(this),this.close=this.close.bind(this)}get config(){return this.__config}set config(e){const t=!ze(this.config,e);this._overlayCtrl&&t&&this._overlayCtrl.updateConfig(e),this.__config=e,this._overlayCtrl&&t&&this.__syncToOverlayController()}requestUpdateInternal(e,t){super.requestUpdateInternal(e,t),"opened"===e&&this.opened!==t&&this.dispatchEvent(new Event("opened-changed"))}_defineOverlay({contentNode:e,invokerNode:t,referenceNode:r,backdropNode:n,contentWrapperNode:i}){const o=this._defineOverlayConfig()||{};return new Ke({contentNode:e,invokerNode:t,referenceNode:r,backdropNode:n,contentWrapperNode:i,...o,...this.config,popperConfig:{...o.popperConfig||{},...this.config.popperConfig||{},modifiers:[...o.popperConfig?.modifiers||[],...this.config.popperConfig?.modifiers||[]]}})}_defineOverlayConfig(){return{placementMode:"local"}}updated(e){super.updated(e),e.has("opened")&&this._overlayCtrl&&!this.__blockSyncToOverlayCtrl&&this.__syncToOverlayController()}_setupOpenCloseListeners(){this.__closeEventInContentNodeHandler=e=>{e.stopPropagation(),this._overlayCtrl.hide()},this._overlayContentNode&&this._overlayContentNode.addEventListener("close-overlay",this.__closeEventInContentNodeHandler)}_teardownOpenCloseListeners(){this._overlayContentNode&&this._overlayContentNode.removeEventListener("close-overlay",this.__closeEventInContentNodeHandler)}connectedCallback(){super.connectedCallback(),this.__needsSetup=!0,this.updateComplete.then((()=>{this.__needsSetup&&this._setupOverlayCtrl(),this.__needsSetup=!1}))}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),this._overlayCtrl&&this._teardownOverlayCtrl()}get _overlayInvokerNode(){return Array.from(this.children).find((e=>"invoker"===e.slot))}get _overlayReferenceNode(){}get _overlayBackdropNode(){return Array.from(this.children).find((e=>"backdrop"===e.slot))}get _overlayContentNode(){return this._cachedOverlayContentNode||(this._cachedOverlayContentNode=Array.from(this.children).find((e=>"content"===e.slot))||this.config.contentNode),this._cachedOverlayContentNode}get _overlayContentWrapperNode(){return this.shadowRoot.querySelector("#overlay-content-node-wrapper")}_setupOverlayCtrl(){this._overlayCtrl=this._defineOverlay({contentNode:this._overlayContentNode,contentWrapperNode:this._overlayContentWrapperNode,invokerNode:this._overlayInvokerNode,referenceNode:this._overlayReferenceNode,backdropNode:this._overlayBackdropNode}),this.__syncToOverlayController(),this.__setupSyncFromOverlayController(),this._setupOpenCloseListeners()}_teardownOverlayCtrl(){this._teardownOpenCloseListeners(),this.__teardownSyncFromOverlayController(),this._overlayCtrl.teardown()}async _setOpenedWithoutPropertyEffects(e){this.__blockSyncToOverlayCtrl=!0,this.opened=e,await this.updateComplete,this.__blockSyncToOverlayCtrl=!1}__setupSyncFromOverlayController(){this.__onOverlayCtrlShow=()=>{this.opened=!0},this.__onOverlayCtrlHide=()=>{this.opened=!1},this.__onBeforeShow=e=>{const t=new CustomEvent("before-opened",{cancelable:!0});this.dispatchEvent(t),t.defaultPrevented&&(this._setOpenedWithoutPropertyEffects(this._overlayCtrl.isShown),e.preventDefault())},this.__onBeforeHide=e=>{const t=new CustomEvent("before-closed",{cancelable:!0});this.dispatchEvent(t),t.defaultPrevented&&(this._setOpenedWithoutPropertyEffects(this._overlayCtrl.isShown),e.preventDefault())},this._overlayCtrl.addEventListener("show",this.__onOverlayCtrlShow),this._overlayCtrl.addEventListener("hide",this.__onOverlayCtrlHide),this._overlayCtrl.addEventListener("before-show",this.__onBeforeShow),this._overlayCtrl.addEventListener("before-hide",this.__onBeforeHide)}__teardownSyncFromOverlayController(){this._overlayCtrl.removeEventListener("show",this.__onOverlayCtrlShow),this._overlayCtrl.removeEventListener("hide",this.__onOverlayCtrlHide),this._overlayCtrl.removeEventListener("before-show",this.__onBeforeShow),this._overlayCtrl.removeEventListener("before-hide",this.__onBeforeHide)}__syncToOverlayController(){this.opened?this._overlayCtrl.show():this._overlayCtrl.hide()}async toggle(){await this._overlayCtrl.toggle()}async open(){await this._overlayCtrl.show()}async close(){await this._overlayCtrl.hide()}repositionOverlay(){const e=this._overlayCtrl;"local"===e.placementMode&&e._popper&&e._popper.update()}},e=>{if(function(e,t){let r=t;for(;r;){if(Ee.get(r)===e)return!0;r=Object.getPrototypeOf(r)}return!1}(He,e))return e;const t=He(e);return Ee.set(t,He),t});var He;class Je extends($e(we)){constructor(){super(),this.__toggle=()=>{this.opened=!this.opened}}_defineOverlayConfig(){return{placementMode:"global",viewportConfig:{placement:"center"},hasBackdrop:!0,preventsScroll:!0,trapsKeyboardFocus:!0,hidesOnEsc:!0,handlesAccessibility:!0}}_setupOpenCloseListeners(){super._setupOpenCloseListeners(),this._overlayInvokerNode&&this._overlayInvokerNode.addEventListener("click",this.__toggle)}_teardownOpenCloseListeners(){super._teardownOpenCloseListeners(),this._overlayInvokerNode&&this._overlayInvokerNode.removeEventListener("click",this.__toggle)}render(){return K`<slot name="invoker"></slot><div id="overlay-content-node-wrapper"><slot name="content"></slot></div>`}}customElements.define("lion-dialog",Je);let Ge=class extends he{constructor(){super(...arguments),this.cars=[],this.selectedId=""}setSelectedId(e){const t=new CustomEvent("car-selected",{bubbles:!0,detail:{id:e}});this.dispatchEvent(t)}render(){var e;return K`<main><h1>cars</h1>${(null===(e=this.cars)||void 0===e?void 0:e.length)?K`<table><tr><th>Year added</th><th>Model</th><th>Make</th><th></th></tr>${this.cars.map((e=>K`<tr><td>${e.date_added}</td><td>${e.model}</td><td>${e.make}</td><td><button @click="${()=>this.setSelectedId(e.id)}" ?disabled="${!e.licensed}" aria-label="${e.licensed?"show details":"details not available"}"><lion-icon icon-id="lion-garage:misc:file"></lion-icon></button></td></tr>`))}</table>`:K``}</main>`}};Ge.styles=le`td,th{padding:.5rem}tr:nth-child(even){background:#f0f0f0}// todo add to the theme? th{border-bottom:1px solid}table{border-collapse:collapse;width:100%}h1{margin:0 0 .5rem 0}td:first-child,td:last-child{text-align:center}td button{border:none;line-height:1rem;font-size:var(--body-font-size);background:0 0;padding:.3rem}td button:not([disabled]){cursor:pointer}td button[disabled]{opacity:.5}`,i([oe()],Ge.prototype,"cars",void 0),i([oe()],Ge.prototype,"selectedId",void 0),Ge=i([ne("lion-cars")],Ge);var Ye="[big.js] ",Xe=Ye+"Invalid ",Ze=Xe+"decimal places",et={},tt=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function rt(e,t,r,n){var i=e.c;if(undefined===r&&(r=e.constructor.RM),0!==r&&1!==r&&2!==r&&3!==r)throw Error("[big.js] Invalid rounding mode");if(t<1)n=3===r&&(n||!!i[0])||0===t&&(1===r&&i[0]>=5||2===r&&(i[0]>5||5===i[0]&&(n||undefined!==i[1]))),i.length=1,n?(e.e=e.e-t+1,i[0]=1):i[0]=e.e=0;else if(t<i.length){if(n=1===r&&i[t]>=5||2===r&&(i[t]>5||5===i[t]&&(n||undefined!==i[t+1]||1&i[t-1]))||3===r&&(n||!!i[0]),i.length=t--,n)for(;++i[t]>9;)i[t]=0,t--||(++e.e,i.unshift(1));for(t=i.length;!i[--t];)i.pop()}return e}function nt(e,t,r){var n=e.e,i=e.c.join(""),o=i.length;if(t)i=i.charAt(0)+(o>1?"."+i.slice(1):"")+(n<0?"e":"e+")+n;else if(n<0){for(;++n;)i="0"+i;i="0."+i}else if(n>0)if(++n>o)for(n-=o;n--;)i+="0";else n<o&&(i=i.slice(0,n)+"."+i.slice(n));else o>1&&(i=i.charAt(0)+"."+i.slice(1));return e.s<0&&r?"-"+i:i}et.abs=function(){var e=new this.constructor(this);return e.s=1,e},et.cmp=function(e){var t,r=this,n=r.c,i=(e=new r.constructor(e)).c,o=r.s,s=e.s,a=r.e,c=e.e;if(!n[0]||!i[0])return n[0]?o:i[0]?-s:0;if(o!=s)return o;if(t=o<0,a!=c)return a>c^t?1:-1;for(s=(a=n.length)<(c=i.length)?a:c,o=-1;++o<s;)if(n[o]!=i[o])return n[o]>i[o]^t?1:-1;return a==c?0:a>c^t?1:-1},et.div=function(e){var t=this,r=t.constructor,n=t.c,i=(e=new r(e)).c,o=t.s==e.s?1:-1,s=r.DP;if(s!==~~s||s<0||s>1e6)throw Error(Ze);if(!i[0])throw Error("[big.js] Division by zero");if(!n[0])return e.s=o,e.c=[e.e=0],e;var a,c,l,u,h,d=i.slice(),p=a=i.length,f=n.length,v=n.slice(0,a),y=v.length,m=e,b=m.c=[],g=0,_=s+(m.e=t.e-e.e)+1;for(m.s=o,o=_<0?0:_,d.unshift(0);y++<a;)v.push(0);do{for(l=0;l<10;l++){if(a!=(y=v.length))u=a>y?1:-1;else for(h=-1,u=0;++h<a;)if(i[h]!=v[h]){u=i[h]>v[h]?1:-1;break}if(!(u<0))break;for(c=y==a?i:d;y;){if(v[--y]<c[y]){for(h=y;h&&!v[--h];)v[h]=9;--v[h],v[y]+=10}v[y]-=c[y]}for(;!v[0];)v.shift()}b[g++]=u?l:++l,v[0]&&u?v[y]=n[p]||0:v=[n[p]]}while((p++<f||undefined!==v[0])&&o--);return b[0]||1==g||(b.shift(),m.e--,_--),g>_&&rt(m,_,r.RM,undefined!==v[0]),m},et.eq=function(e){return 0===this.cmp(e)},et.gt=function(e){return this.cmp(e)>0},et.gte=function(e){return this.cmp(e)>-1},et.lt=function(e){return this.cmp(e)<0},et.lte=function(e){return this.cmp(e)<1},et.minus=et.sub=function(e){var t,r,n,i,o=this,s=o.constructor,a=o.s,c=(e=new s(e)).s;if(a!=c)return e.s=-c,o.plus(e);var l=o.c.slice(),u=o.e,h=e.c,d=e.e;if(!l[0]||!h[0])return h[0]?e.s=-c:l[0]?e=new s(o):e.s=1,e;if(a=u-d){for((i=a<0)?(a=-a,n=l):(d=u,n=h),n.reverse(),c=a;c--;)n.push(0);n.reverse()}else for(r=((i=l.length<h.length)?l:h).length,a=c=0;c<r;c++)if(l[c]!=h[c]){i=l[c]<h[c];break}if(i&&(n=l,l=h,h=n,e.s=-e.s),(c=(r=h.length)-(t=l.length))>0)for(;c--;)l[t++]=0;for(c=t;r>a;){if(l[--r]<h[r]){for(t=r;t&&!l[--t];)l[t]=9;--l[t],l[r]+=10}l[r]-=h[r]}for(;0===l[--c];)l.pop();for(;0===l[0];)l.shift(),--d;return l[0]||(e.s=1,l=[d=0]),e.c=l,e.e=d,e},et.mod=function(e){var t,r=this,n=r.constructor,i=r.s,o=(e=new n(e)).s;if(!e.c[0])throw Error("[big.js] Division by zero");return r.s=e.s=1,t=1==e.cmp(r),r.s=i,e.s=o,t?new n(r):(i=n.DP,o=n.RM,n.DP=n.RM=0,r=r.div(e),n.DP=i,n.RM=o,this.minus(r.times(e)))},et.plus=et.add=function(e){var t,r,n,i=this,o=i.constructor;if(e=new o(e),i.s!=e.s)return e.s=-e.s,i.minus(e);var s=i.e,a=i.c,c=e.e,l=e.c;if(!a[0]||!l[0])return l[0]||(a[0]?e=new o(i):e.s=i.s),e;if(a=a.slice(),t=s-c){for(t>0?(c=s,n=l):(t=-t,n=a),n.reverse();t--;)n.push(0);n.reverse()}for(a.length-l.length<0&&(n=l,l=a,a=n),t=l.length,r=0;t;a[t]%=10)r=(a[--t]=a[t]+l[t]+r)/10|0;for(r&&(a.unshift(r),++c),t=a.length;0===a[--t];)a.pop();return e.c=a,e.e=c,e},et.pow=function(e){var t=this,r=new t.constructor("1"),n=r,i=e<0;if(e!==~~e||e<-1e6||e>1e6)throw Error(Xe+"exponent");for(i&&(e=-e);1&e&&(n=n.times(t)),e>>=1;)t=t.times(t);return i?r.div(n):n},et.prec=function(e,t){if(e!==~~e||e<1||e>1e6)throw Error(Xe+"precision");return rt(new this.constructor(this),e,t)},et.round=function(e,t){if(undefined===e)e=0;else if(e!==~~e||e<-1e6||e>1e6)throw Error(Ze);return rt(new this.constructor(this),e+this.e+1,t)},et.sqrt=function(){var e,t,r,n=this,i=n.constructor,o=n.s,s=n.e,a=new i("0.5");if(!n.c[0])return new i(n);if(o<0)throw Error(Ye+"No square root");0===(o=Math.sqrt(n+""))||o===1/0?((t=n.c.join("")).length+s&1||(t+="0"),s=((s+1)/2|0)-(s<0||1&s),e=new i(((o=Math.sqrt(t))==1/0?"5e":(o=o.toExponential()).slice(0,o.indexOf("e")+1))+s)):e=new i(o+""),s=e.e+(i.DP+=4);do{r=e,e=a.times(r.plus(n.div(r)))}while(r.c.slice(0,s).join("")!==e.c.slice(0,s).join(""));return rt(e,(i.DP-=4)+e.e+1,i.RM)},et.times=et.mul=function(e){var t,r=this,n=r.constructor,i=r.c,o=(e=new n(e)).c,s=i.length,a=o.length,c=r.e,l=e.e;if(e.s=r.s==e.s?1:-1,!i[0]||!o[0])return e.c=[e.e=0],e;for(e.e=c+l,s<a&&(t=i,i=o,o=t,l=s,s=a,a=l),t=new Array(l=s+a);l--;)t[l]=0;for(c=a;c--;){for(a=0,l=s+c;l>c;)a=t[l]+o[c]*i[l-c-1]+a,t[l--]=a%10,a=a/10|0;t[l]=a}for(a?++e.e:t.shift(),c=t.length;!t[--c];)t.pop();return e.c=t,e},et.toExponential=function(e,t){var r=this,n=r.c[0];if(undefined!==e){if(e!==~~e||e<0||e>1e6)throw Error(Ze);for(r=rt(new r.constructor(r),++e,t);r.c.length<e;)r.c.push(0)}return nt(r,!0,!!n)},et.toFixed=function(e,t){var r=this,n=r.c[0];if(undefined!==e){if(e!==~~e||e<0||e>1e6)throw Error(Ze);for(e=e+(r=rt(new r.constructor(r),e+r.e+1,t)).e+1;r.c.length<e;)r.c.push(0)}return nt(r,!1,!!n)},et.toJSON=et.toString=function(){var e=this,t=e.constructor;return nt(e,e.e<=t.NE||e.e>=t.PE,!!e.c[0])},et.toNumber=function(){var e=Number(nt(this,!0,!0));if(!0===this.constructor.strict&&!this.eq(e.toString()))throw Error(Ye+"Imprecise conversion");return e},et.toPrecision=function(e,t){var r=this,n=r.constructor,i=r.c[0];if(undefined!==e){if(e!==~~e||e<1||e>1e6)throw Error(Xe+"precision");for(r=rt(new n(r),e,t);r.c.length<e;)r.c.push(0)}return nt(r,e<=r.e||r.e<=n.NE||r.e>=n.PE,!!i)},et.valueOf=function(){var e=this,t=e.constructor;if(!0===t.strict)throw Error(Ye+"valueOf disallowed");return nt(e,e.e<=t.NE||e.e>=t.PE,!0)};var it=function e(){function t(r){var n=this;if(!(n instanceof t))return undefined===r?e():new t(r);if(r instanceof t)n.s=r.s,n.e=r.e,n.c=r.c.slice();else{if("string"!=typeof r){if(!0===t.strict)throw TypeError(Xe+"number");r=0===r&&1/r<0?"-0":String(r)}!function(e,t){var r,n,i;if(!tt.test(t))throw Error(Xe+"number");e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(r=t.indexOf("."))>-1&&(t=t.replace(".",""));(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length);for(i=t.length,n=0;n<i&&"0"==t.charAt(n);)++n;if(n==i)e.c=[e.e=0];else{for(;i>0&&"0"==t.charAt(--i););for(e.e=r-n-1,e.c=[],r=0;n<=i;)e.c[r++]=+t.charAt(n++)}}(n,r)}n.constructor=t}return t.prototype=et,t.DP=20,t.RM=1,t.NE=-7,t.PE=21,t.strict=false,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}();function ot(e){return(ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var st="function"==typeof Symbol&&null!=Symbol.toStringTag?Symbol.toStringTag:"@@toStringTag";function at(e,t){for(var r,n=/\r\n|[\n\r]/g,i=1,o=t+1;(r=n.exec(e.body))&&r.index<t;)i+=1,o=t+1-(r.index+r[0].length);return{line:i,column:o}}function ct(e){return lt(e.source,at(e.source,e.start))}function lt(e,t){var r=e.locationOffset.column-1,n=ht(r)+e.body,i=t.line-1,o=e.locationOffset.line-1,s=t.line+o,a=1===t.line?r:0,c=t.column+a,l="".concat(e.name,":").concat(s,":").concat(c,"\n"),u=n.split(/\r\n|[\n\r]/g),h=u[i];if(h.length>120){for(var d=Math.floor(c/80),p=c%80,f=[],v=0;v<h.length;v+=80)f.push(h.slice(v,v+80));return l+ut([["".concat(s),f[0]]].concat(f.slice(1,d+1).map((function(e){return["",e]})),[[" ",ht(p-1)+"^"],["",f[d+1]]]))}return l+ut([["".concat(s-1),u[i-1]],["".concat(s),h],["",ht(c-1)+"^"],["".concat(s+1),u[i+1]]])}function ut(e){var t=e.filter((function(e){return e[0],void 0!==e[1]})),r=Math.max.apply(Math,t.map((function(e){return e[0].length})));return t.map((function(e){var t,n=e[0],i=e[1];return ht(r-(t=n).length)+t+(i?" | "+i:" |")})).join("\n")}function ht(e){return Array(e+1).join(" ")}function dt(e){return(dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ft(e,t){return!t||"object"!==dt(t)&&"function"!=typeof t?vt(e):t}function vt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yt(e){var t="function"==typeof Map?new Map:void 0;return(yt=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return mt(e,arguments,_t(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),gt(n,e)})(e)}function mt(e,t,r){return(mt=bt()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&gt(i,r.prototype),i}).apply(null,arguments)}function bt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function gt(e,t){return(gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _t(e){return(_t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var wt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gt(e,t)}(a,yt(Error));var t,r,n,i,o,s=(t=a,r=bt(),function(){var e,n=_t(t);if(r){var i=_t(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return ft(this,e)});function a(e,t,r,n,i,o,c){var l,u,h,d,p;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),p=s.call(this,e);var f,v=Array.isArray(t)?0!==t.length?t:void 0:t?[t]:void 0,y=r;!y&&v&&(y=null===(f=v[0].loc)||void 0===f?void 0:f.source);var m,b=n;!b&&v&&(b=v.reduce((function(e,t){return t.loc&&e.push(t.loc.start),e}),[])),b&&0===b.length&&(b=void 0),n&&r?m=n.map((function(e){return at(r,e)})):v&&(m=v.reduce((function(e,t){return t.loc&&e.push(at(t.loc.source,t.loc.start)),e}),[]));var g,_=c;if(null==_&&null!=o){var w=o.extensions;"object"==ot(g=w)&&null!==g&&(_=w)}return Object.defineProperties(vt(p),{name:{value:"GraphQLError"},message:{value:e,enumerable:!0,writable:!0},locations:{value:null!==(l=m)&&void 0!==l?l:void 0,enumerable:null!=m},path:{value:null!=i?i:void 0,enumerable:null!=i},nodes:{value:null!=v?v:void 0},source:{value:null!==(u=y)&&void 0!==u?u:void 0},positions:{value:null!==(h=b)&&void 0!==h?h:void 0},originalError:{value:o},extensions:{value:null!==(d=_)&&void 0!==d?d:void 0,enumerable:null!=_}}),null!=o&&o.stack?(Object.defineProperty(vt(p),"stack",{value:o.stack,writable:!0,configurable:!0}),ft(p)):(Error.captureStackTrace?Error.captureStackTrace(vt(p),a):Object.defineProperty(vt(p),"stack",{value:Error().stack,writable:!0,configurable:!0}),p)}return n=a,(i=[{key:"toString",value:function(){return function(e){var t=e.message;if(e.nodes)for(var r=0,n=e.nodes;r<n.length;r++){var i=n[r];i.loc&&(t+="\n\n"+ct(i.loc))}else if(e.source&&e.locations)for(var o=0,s=e.locations;o<s.length;o++){var a=s[o];t+="\n\n"+lt(e.source,a)}return t}(this)}},{key:st,get:function(){return"Object"}}])&&pt(n.prototype,i),o&&pt(n,o),a}();function Et(e,t,r){return new wt("Syntax Error: ".concat(r),void 0,e,[t])}var St=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});var Nt="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;function kt(e){var t=e.prototype.toJSON;"function"==typeof t||function(e,t){if(!Boolean(e))throw new Error(null!=t?t:"Unexpected invariant triggered.")}(0),e.prototype.inspect=t,Nt&&(e.prototype[Nt]=t)}var Ot=function(){function e(e,t,r){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=r}return e.prototype.toJSON=function(){return{start:this.start,end:this.end}},e}();kt(Ot);var Ct=function(){function e(e,t,r,n,i,o,s){this.kind=e,this.start=t,this.end=r,this.line=n,this.column=i,this.value=s,this.prev=o,this.next=null}return e.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e}();function Tt(e){return null!=e&&"string"==typeof e.kind}kt(Ct);var xt=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function It(e){return(It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function At(e){return Dt(e,[])}function Dt(e,t){switch(It(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return null===e?"null":function(e,t){if(-1!==t.indexOf(e))return"[Circular]";var r=[].concat(t,[e]),n=function(e){var t=e[String(Nt)];if("function"==typeof t)return t;if("function"==typeof e.inspect)return e.inspect}(e);if(void 0!==n){var i=n.call(e);if(i!==e)return"string"==typeof i?i:Dt(i,r)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>2)return"[Array]";for(var r=Math.min(10,e.length),n=e.length-r,i=[],o=0;o<r;++o)i.push(Dt(e[o],t));1===n?i.push("... 1 more item"):n>1&&i.push("... ".concat(n," more items"));return"["+i.join(", ")+"]"}(e,r);return function(e,t){var r=Object.keys(e);if(0===r.length)return"{}";if(t.length>2)return"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){var r=e.constructor.name;if("string"==typeof r&&""!==r)return r}return t}(e)+"]";return"{ "+r.map((function(r){return r+": "+Dt(e[r],t)})).join(", ")+" }"}(e,r)}(e,t);default:return String(e)}}function Pt(e,t){if(!Boolean(e))throw new Error(t)}var Rt="production"===process.env.NODE_ENV?function(e,t){return e instanceof t}:function(e,t){if(e instanceof t)return!0;if(e){var r=e.constructor,n=t.name;if(n&&r&&r.name===n)throw new Error("Cannot use ".concat(n,' "').concat(e,'" from another module or realm.\n\nEnsure that there is only one instance of "graphql" in the node_modules\ndirectory. If different versions of "graphql" are the dependencies of other\nrelied on modules, use "resolutions" to ensure only one version is installed.\n\nhttps://yarnpkg.com/en/docs/selective-version-resolutions\n\nDuplicate "graphql" modules cannot be used at the same time since different\nversions may have different capabilities and behavior. The data from one\nversion used in the function from another could produce confusing and\nspurious results.'))}return!1};function Ft(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Mt=function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GraphQL request",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{line:1,column:1};"string"==typeof e||Pt(0,"Body must be a string. Received: ".concat(At(e),".")),this.body=e,this.name=t,this.locationOffset=r,this.locationOffset.line>0||Pt(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||Pt(0,"column in locationOffset is 1-indexed and must be positive.")}var t,r,n;return t=e,(r=[{key:st,get:function(){return"Source"}}])&&Ft(t.prototype,r),n&&Ft(t,n),e}();var Lt=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function jt(e){var t=e.split(/\r\n|[\n\r]/g),r=function(e){for(var t,r=!0,n=!0,i=0,o=null,s=0;s<e.length;++s)switch(e.charCodeAt(s)){case 13:10===e.charCodeAt(s+1)&&++s;case 10:r=!1,n=!0,i=0;break;case 9:case 32:++i;break;default:n&&!r&&(null===o||i<o)&&(o=i),n=!1}return null!==(t=o)&&void 0!==t?t:0}(e);if(0!==r)for(var n=1;n<t.length;n++)t[n]=t[n].slice(r);for(var i=0;i<t.length&&qt(t[i]);)++i;for(var o=t.length;o>i&&qt(t[o-1]);)--o;return t.slice(i,o).join("\n")}function qt(e){for(var t=0;t<e.length;++t)if(" "!==e[t]&&"\t"!==e[t])return!1;return!0}var Vt=function(){function e(e){var t=new Ct(xt.SOF,0,0,0,0,null);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}var t=e.prototype;return t.advance=function(){return this.lastToken=this.token,this.token=this.lookahead()},t.lookahead=function(){var e=this.token;if(e.kind!==xt.EOF)do{var t;e=null!==(t=e.next)&&void 0!==t?t:e.next=Ut(this,e)}while(e.kind===xt.COMMENT);return e},e}();function Bt(e){return isNaN(e)?xt.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function Ut(e,t){for(var r=e.source,n=r.body,i=n.length,o=t.end;o<i;){var s=n.charCodeAt(o),a=e.line,c=1+o-e.lineStart;switch(s){case 65279:case 9:case 32:case 44:++o;continue;case 10:++o,++e.line,e.lineStart=o;continue;case 13:10===n.charCodeAt(o+1)?o+=2:++o,++e.line,e.lineStart=o;continue;case 33:return new Ct(xt.BANG,o,o+1,a,c,t);case 35:return Wt(r,o,a,c,t);case 36:return new Ct(xt.DOLLAR,o,o+1,a,c,t);case 38:return new Ct(xt.AMP,o,o+1,a,c,t);case 40:return new Ct(xt.PAREN_L,o,o+1,a,c,t);case 41:return new Ct(xt.PAREN_R,o,o+1,a,c,t);case 46:if(46===n.charCodeAt(o+1)&&46===n.charCodeAt(o+2))return new Ct(xt.SPREAD,o,o+3,a,c,t);break;case 58:return new Ct(xt.COLON,o,o+1,a,c,t);case 61:return new Ct(xt.EQUALS,o,o+1,a,c,t);case 64:return new Ct(xt.AT,o,o+1,a,c,t);case 91:return new Ct(xt.BRACKET_L,o,o+1,a,c,t);case 93:return new Ct(xt.BRACKET_R,o,o+1,a,c,t);case 123:return new Ct(xt.BRACE_L,o,o+1,a,c,t);case 124:return new Ct(xt.PIPE,o,o+1,a,c,t);case 125:return new Ct(xt.BRACE_R,o,o+1,a,c,t);case 34:return 34===n.charCodeAt(o+1)&&34===n.charCodeAt(o+2)?Ht(r,o,a,c,t,e):$t(r,o,a,c,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return Kt(r,o,s,a,c,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return Gt(r,o,a,c,t)}throw Et(r,o,Qt(s))}var l=e.line,u=1+o-e.lineStart;return new Ct(xt.EOF,i,i,l,u,t)}function Qt(e){return e<32&&9!==e&&10!==e&&13!==e?"Cannot contain the invalid character ".concat(Bt(e),"."):39===e?"Unexpected single quote character ('), did you mean to use a double quote (\")?":"Cannot parse the unexpected character ".concat(Bt(e),".")}function Wt(e,t,r,n,i){var o,s=e.body,a=t;do{o=s.charCodeAt(++a)}while(!isNaN(o)&&(o>31||9===o));return new Ct(xt.COMMENT,t,a,r,n,i,s.slice(t+1,a))}function Kt(e,t,r,n,i,o){var s=e.body,a=r,c=t,l=!1;if(45===a&&(a=s.charCodeAt(++c)),48===a){if((a=s.charCodeAt(++c))>=48&&a<=57)throw Et(e,c,"Invalid number, unexpected digit after 0: ".concat(Bt(a),"."))}else c=zt(e,c,a),a=s.charCodeAt(c);if(46===a&&(l=!0,a=s.charCodeAt(++c),c=zt(e,c,a),a=s.charCodeAt(c)),69!==a&&101!==a||(l=!0,43!==(a=s.charCodeAt(++c))&&45!==a||(a=s.charCodeAt(++c)),c=zt(e,c,a),a=s.charCodeAt(c)),46===a||function(e){return 95===e||e>=65&&e<=90||e>=97&&e<=122}(a))throw Et(e,c,"Invalid number, expected digit but got: ".concat(Bt(a),"."));return new Ct(l?xt.FLOAT:xt.INT,t,c,n,i,o,s.slice(t,c))}function zt(e,t,r){var n=e.body,i=t,o=r;if(o>=48&&o<=57){do{o=n.charCodeAt(++i)}while(o>=48&&o<=57);return i}throw Et(e,i,"Invalid number, expected digit but got: ".concat(Bt(o),"."))}function $t(e,t,r,n,i){for(var o,s,a,c,l=e.body,u=t+1,h=u,d=0,p="";u<l.length&&!isNaN(d=l.charCodeAt(u))&&10!==d&&13!==d;){if(34===d)return p+=l.slice(h,u),new Ct(xt.STRING,t,u+1,r,n,i,p);if(d<32&&9!==d)throw Et(e,u,"Invalid character within String: ".concat(Bt(d),"."));if(++u,92===d){switch(p+=l.slice(h,u-1),d=l.charCodeAt(u)){case 34:p+='"';break;case 47:p+="/";break;case 92:p+="\\";break;case 98:p+="\b";break;case 102:p+="\f";break;case 110:p+="\n";break;case 114:p+="\r";break;case 116:p+="\t";break;case 117:var f=(o=l.charCodeAt(u+1),s=l.charCodeAt(u+2),a=l.charCodeAt(u+3),c=l.charCodeAt(u+4),Jt(o)<<12|Jt(s)<<8|Jt(a)<<4|Jt(c));if(f<0){var v=l.slice(u+1,u+5);throw Et(e,u,"Invalid character escape sequence: \\u".concat(v,"."))}p+=String.fromCharCode(f),u+=4;break;default:throw Et(e,u,"Invalid character escape sequence: \\".concat(String.fromCharCode(d),"."))}h=++u}}throw Et(e,u,"Unterminated string.")}function Ht(e,t,r,n,i,o){for(var s=e.body,a=t+3,c=a,l=0,u="";a<s.length&&!isNaN(l=s.charCodeAt(a));){if(34===l&&34===s.charCodeAt(a+1)&&34===s.charCodeAt(a+2))return u+=s.slice(c,a),new Ct(xt.BLOCK_STRING,t,a+3,r,n,i,jt(u));if(l<32&&9!==l&&10!==l&&13!==l)throw Et(e,a,"Invalid character within String: ".concat(Bt(l),"."));10===l?(++a,++o.line,o.lineStart=a):13===l?(10===s.charCodeAt(a+1)?a+=2:++a,++o.line,o.lineStart=a):92===l&&34===s.charCodeAt(a+1)&&34===s.charCodeAt(a+2)&&34===s.charCodeAt(a+3)?(u+=s.slice(c,a)+'"""',c=a+=4):++a}throw Et(e,a,"Unterminated string.")}function Jt(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function Gt(e,t,r,n,i){for(var o=e.body,s=o.length,a=t+1,c=0;a!==s&&!isNaN(c=o.charCodeAt(a))&&(95===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122);)++a;return new Ct(xt.NAME,t,a,r,n,i,o.slice(t,a))}var Yt=function(){function e(e,t){var r=function(e){return Rt(e,Mt)}(e)?e:new Mt(e);this._lexer=new Vt(r),this._options=t}var t=e.prototype;return t.parseName=function(){var e=this.expectToken(xt.NAME);return{kind:St.NAME,value:e.value,loc:this.loc(e)}},t.parseDocument=function(){var e=this._lexer.token;return{kind:St.DOCUMENT,definitions:this.many(xt.SOF,this.parseDefinition,xt.EOF),loc:this.loc(e)}},t.parseDefinition=function(){if(this.peek(xt.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(xt.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},t.parseOperationDefinition=function(){var e=this._lexer.token;if(this.peek(xt.BRACE_L))return{kind:St.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(e)};var t,r=this.parseOperationType();return this.peek(xt.NAME)&&(t=this.parseName()),{kind:St.OPERATION_DEFINITION,operation:r,name:t,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseOperationType=function(){var e=this.expectToken(xt.NAME);switch(e.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(e)},t.parseVariableDefinitions=function(){return this.optionalMany(xt.PAREN_L,this.parseVariableDefinition,xt.PAREN_R)},t.parseVariableDefinition=function(){var e=this._lexer.token;return{kind:St.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(xt.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(xt.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(e)}},t.parseVariable=function(){var e=this._lexer.token;return this.expectToken(xt.DOLLAR),{kind:St.VARIABLE,name:this.parseName(),loc:this.loc(e)}},t.parseSelectionSet=function(){var e=this._lexer.token;return{kind:St.SELECTION_SET,selections:this.many(xt.BRACE_L,this.parseSelection,xt.BRACE_R),loc:this.loc(e)}},t.parseSelection=function(){return this.peek(xt.SPREAD)?this.parseFragment():this.parseField()},t.parseField=function(){var e,t,r=this._lexer.token,n=this.parseName();return this.expectOptionalToken(xt.COLON)?(e=n,t=this.parseName()):t=n,{kind:St.FIELD,alias:e,name:t,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(xt.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(r)}},t.parseArguments=function(e){var t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(xt.PAREN_L,t,xt.PAREN_R)},t.parseArgument=function(){var e=this._lexer.token,t=this.parseName();return this.expectToken(xt.COLON),{kind:St.ARGUMENT,name:t,value:this.parseValueLiteral(!1),loc:this.loc(e)}},t.parseConstArgument=function(){var e=this._lexer.token;return{kind:St.ARGUMENT,name:this.parseName(),value:(this.expectToken(xt.COLON),this.parseValueLiteral(!0)),loc:this.loc(e)}},t.parseFragment=function(){var e=this._lexer.token;this.expectToken(xt.SPREAD);var t=this.expectOptionalKeyword("on");return!t&&this.peek(xt.NAME)?{kind:St.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(e)}:{kind:St.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseFragmentDefinition=function(){var e,t=this._lexer.token;return this.expectKeyword("fragment"),!0===(null===(e=this._options)||void 0===e?void 0:e.experimentalFragmentVariables)?{kind:St.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}:{kind:St.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}},t.parseFragmentName=function(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()},t.parseValueLiteral=function(e){var t=this._lexer.token;switch(t.kind){case xt.BRACKET_L:return this.parseList(e);case xt.BRACE_L:return this.parseObject(e);case xt.INT:return this._lexer.advance(),{kind:St.INT,value:t.value,loc:this.loc(t)};case xt.FLOAT:return this._lexer.advance(),{kind:St.FLOAT,value:t.value,loc:this.loc(t)};case xt.STRING:case xt.BLOCK_STRING:return this.parseStringLiteral();case xt.NAME:switch(this._lexer.advance(),t.value){case"true":return{kind:St.BOOLEAN,value:!0,loc:this.loc(t)};case"false":return{kind:St.BOOLEAN,value:!1,loc:this.loc(t)};case"null":return{kind:St.NULL,loc:this.loc(t)};default:return{kind:St.ENUM,value:t.value,loc:this.loc(t)}}case xt.DOLLAR:if(!e)return this.parseVariable()}throw this.unexpected()},t.parseStringLiteral=function(){var e=this._lexer.token;return this._lexer.advance(),{kind:St.STRING,value:e.value,block:e.kind===xt.BLOCK_STRING,loc:this.loc(e)}},t.parseList=function(e){var t=this,r=this._lexer.token;return{kind:St.LIST,values:this.any(xt.BRACKET_L,(function(){return t.parseValueLiteral(e)}),xt.BRACKET_R),loc:this.loc(r)}},t.parseObject=function(e){var t=this,r=this._lexer.token;return{kind:St.OBJECT,fields:this.any(xt.BRACE_L,(function(){return t.parseObjectField(e)}),xt.BRACE_R),loc:this.loc(r)}},t.parseObjectField=function(e){var t=this._lexer.token,r=this.parseName();return this.expectToken(xt.COLON),{kind:St.OBJECT_FIELD,name:r,value:this.parseValueLiteral(e),loc:this.loc(t)}},t.parseDirectives=function(e){for(var t=[];this.peek(xt.AT);)t.push(this.parseDirective(e));return t},t.parseDirective=function(e){var t=this._lexer.token;return this.expectToken(xt.AT),{kind:St.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e),loc:this.loc(t)}},t.parseTypeReference=function(){var e,t=this._lexer.token;return this.expectOptionalToken(xt.BRACKET_L)?(e=this.parseTypeReference(),this.expectToken(xt.BRACKET_R),e={kind:St.LIST_TYPE,type:e,loc:this.loc(t)}):e=this.parseNamedType(),this.expectOptionalToken(xt.BANG)?{kind:St.NON_NULL_TYPE,type:e,loc:this.loc(t)}:e},t.parseNamedType=function(){var e=this._lexer.token;return{kind:St.NAMED_TYPE,name:this.parseName(),loc:this.loc(e)}},t.parseTypeSystemDefinition=function(){var e=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(e.kind===xt.NAME)switch(e.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(e)},t.peekDescription=function(){return this.peek(xt.STRING)||this.peek(xt.BLOCK_STRING)},t.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},t.parseSchemaDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");var r=this.parseDirectives(!0),n=this.many(xt.BRACE_L,this.parseOperationTypeDefinition,xt.BRACE_R);return{kind:St.SCHEMA_DEFINITION,description:t,directives:r,operationTypes:n,loc:this.loc(e)}},t.parseOperationTypeDefinition=function(){var e=this._lexer.token,t=this.parseOperationType();this.expectToken(xt.COLON);var r=this.parseNamedType();return{kind:St.OPERATION_TYPE_DEFINITION,operation:t,type:r,loc:this.loc(e)}},t.parseScalarTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");var r=this.parseName(),n=this.parseDirectives(!0);return{kind:St.SCALAR_TYPE_DEFINITION,description:t,name:r,directives:n,loc:this.loc(e)}},t.parseObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");var r=this.parseName(),n=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),o=this.parseFieldsDefinition();return{kind:St.OBJECT_TYPE_DEFINITION,description:t,name:r,interfaces:n,directives:i,fields:o,loc:this.loc(e)}},t.parseImplementsInterfaces=function(){var e;if(!this.expectOptionalKeyword("implements"))return[];if(!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLImplementsInterfaces)){var t=[];this.expectOptionalToken(xt.AMP);do{t.push(this.parseNamedType())}while(this.expectOptionalToken(xt.AMP)||this.peek(xt.NAME));return t}return this.delimitedMany(xt.AMP,this.parseNamedType)},t.parseFieldsDefinition=function(){var e;return!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLEmptyFields)&&this.peek(xt.BRACE_L)&&this._lexer.lookahead().kind===xt.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(xt.BRACE_L,this.parseFieldDefinition,xt.BRACE_R)},t.parseFieldDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),r=this.parseName(),n=this.parseArgumentDefs();this.expectToken(xt.COLON);var i=this.parseTypeReference(),o=this.parseDirectives(!0);return{kind:St.FIELD_DEFINITION,description:t,name:r,arguments:n,type:i,directives:o,loc:this.loc(e)}},t.parseArgumentDefs=function(){return this.optionalMany(xt.PAREN_L,this.parseInputValueDef,xt.PAREN_R)},t.parseInputValueDef=function(){var e=this._lexer.token,t=this.parseDescription(),r=this.parseName();this.expectToken(xt.COLON);var n,i=this.parseTypeReference();this.expectOptionalToken(xt.EQUALS)&&(n=this.parseValueLiteral(!0));var o=this.parseDirectives(!0);return{kind:St.INPUT_VALUE_DEFINITION,description:t,name:r,type:i,defaultValue:n,directives:o,loc:this.loc(e)}},t.parseInterfaceTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");var r=this.parseName(),n=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),o=this.parseFieldsDefinition();return{kind:St.INTERFACE_TYPE_DEFINITION,description:t,name:r,interfaces:n,directives:i,fields:o,loc:this.loc(e)}},t.parseUnionTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");var r=this.parseName(),n=this.parseDirectives(!0),i=this.parseUnionMemberTypes();return{kind:St.UNION_TYPE_DEFINITION,description:t,name:r,directives:n,types:i,loc:this.loc(e)}},t.parseUnionMemberTypes=function(){return this.expectOptionalToken(xt.EQUALS)?this.delimitedMany(xt.PIPE,this.parseNamedType):[]},t.parseEnumTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");var r=this.parseName(),n=this.parseDirectives(!0),i=this.parseEnumValuesDefinition();return{kind:St.ENUM_TYPE_DEFINITION,description:t,name:r,directives:n,values:i,loc:this.loc(e)}},t.parseEnumValuesDefinition=function(){return this.optionalMany(xt.BRACE_L,this.parseEnumValueDefinition,xt.BRACE_R)},t.parseEnumValueDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),r=this.parseName(),n=this.parseDirectives(!0);return{kind:St.ENUM_VALUE_DEFINITION,description:t,name:r,directives:n,loc:this.loc(e)}},t.parseInputObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");var r=this.parseName(),n=this.parseDirectives(!0),i=this.parseInputFieldsDefinition();return{kind:St.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:r,directives:n,fields:i,loc:this.loc(e)}},t.parseInputFieldsDefinition=function(){return this.optionalMany(xt.BRACE_L,this.parseInputValueDef,xt.BRACE_R)},t.parseTypeSystemExtension=function(){var e=this._lexer.lookahead();if(e.kind===xt.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)},t.parseSchemaExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var t=this.parseDirectives(!0),r=this.optionalMany(xt.BRACE_L,this.parseOperationTypeDefinition,xt.BRACE_R);if(0===t.length&&0===r.length)throw this.unexpected();return{kind:St.SCHEMA_EXTENSION,directives:t,operationTypes:r,loc:this.loc(e)}},t.parseScalarTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var t=this.parseName(),r=this.parseDirectives(!0);if(0===r.length)throw this.unexpected();return{kind:St.SCALAR_TYPE_EXTENSION,name:t,directives:r,loc:this.loc(e)}},t.parseObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var t=this.parseName(),r=this.parseImplementsInterfaces(),n=this.parseDirectives(!0),i=this.parseFieldsDefinition();if(0===r.length&&0===n.length&&0===i.length)throw this.unexpected();return{kind:St.OBJECT_TYPE_EXTENSION,name:t,interfaces:r,directives:n,fields:i,loc:this.loc(e)}},t.parseInterfaceTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var t=this.parseName(),r=this.parseImplementsInterfaces(),n=this.parseDirectives(!0),i=this.parseFieldsDefinition();if(0===r.length&&0===n.length&&0===i.length)throw this.unexpected();return{kind:St.INTERFACE_TYPE_EXTENSION,name:t,interfaces:r,directives:n,fields:i,loc:this.loc(e)}},t.parseUnionTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var t=this.parseName(),r=this.parseDirectives(!0),n=this.parseUnionMemberTypes();if(0===r.length&&0===n.length)throw this.unexpected();return{kind:St.UNION_TYPE_EXTENSION,name:t,directives:r,types:n,loc:this.loc(e)}},t.parseEnumTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var t=this.parseName(),r=this.parseDirectives(!0),n=this.parseEnumValuesDefinition();if(0===r.length&&0===n.length)throw this.unexpected();return{kind:St.ENUM_TYPE_EXTENSION,name:t,directives:r,values:n,loc:this.loc(e)}},t.parseInputObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var t=this.parseName(),r=this.parseDirectives(!0),n=this.parseInputFieldsDefinition();if(0===r.length&&0===n.length)throw this.unexpected();return{kind:St.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:r,fields:n,loc:this.loc(e)}},t.parseDirectiveDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(xt.AT);var r=this.parseName(),n=this.parseArgumentDefs(),i=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var o=this.parseDirectiveLocations();return{kind:St.DIRECTIVE_DEFINITION,description:t,name:r,arguments:n,repeatable:i,locations:o,loc:this.loc(e)}},t.parseDirectiveLocations=function(){return this.delimitedMany(xt.PIPE,this.parseDirectiveLocation)},t.parseDirectiveLocation=function(){var e=this._lexer.token,t=this.parseName();if(void 0!==Lt[t.value])return t;throw this.unexpected(e)},t.loc=function(e){var t;if(!0!==(null===(t=this._options)||void 0===t?void 0:t.noLocation))return new Ot(e,this._lexer.lastToken,this._lexer.source)},t.peek=function(e){return this._lexer.token.kind===e},t.expectToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t;throw Et(this._lexer.source,t.start,"Expected ".concat(Zt(e),", found ").concat(Xt(t),"."))},t.expectOptionalToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t},t.expectKeyword=function(e){var t=this._lexer.token;if(t.kind!==xt.NAME||t.value!==e)throw Et(this._lexer.source,t.start,'Expected "'.concat(e,'", found ').concat(Xt(t),"."));this._lexer.advance()},t.expectOptionalKeyword=function(e){var t=this._lexer.token;return t.kind===xt.NAME&&t.value===e&&(this._lexer.advance(),!0)},t.unexpected=function(e){var t=null!=e?e:this._lexer.token;return Et(this._lexer.source,t.start,"Unexpected ".concat(Xt(t),"."))},t.any=function(e,t,r){this.expectToken(e);for(var n=[];!this.expectOptionalToken(r);)n.push(t.call(this));return n},t.optionalMany=function(e,t,r){if(this.expectOptionalToken(e)){var n=[];do{n.push(t.call(this))}while(!this.expectOptionalToken(r));return n}return[]},t.many=function(e,t,r){this.expectToken(e);var n=[];do{n.push(t.call(this))}while(!this.expectOptionalToken(r));return n},t.delimitedMany=function(e,t){this.expectOptionalToken(e);var r=[];do{r.push(t.call(this))}while(this.expectOptionalToken(e));return r},e}();function Xt(e){var t=e.value;return Zt(e.kind)+(null!=t?' "'.concat(t,'"'):"")}function Zt(e){return function(e){return e===xt.BANG||e===xt.DOLLAR||e===xt.AMP||e===xt.PAREN_L||e===xt.PAREN_R||e===xt.SPREAD||e===xt.COLON||e===xt.EQUALS||e===xt.AT||e===xt.BRACKET_L||e===xt.BRACKET_R||e===xt.BRACE_L||e===xt.PIPE||e===xt.BRACE_R}(e)?'"'.concat(e,'"'):e}var er={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},tr=Object.freeze({});function rr(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:er,n=void 0,i=Array.isArray(e),o=[e],s=-1,a=[],c=void 0,l=void 0,u=void 0,h=[],d=[],p=e;do{var f=++s===o.length,v=f&&0!==a.length;if(f){if(l=0===d.length?void 0:h[h.length-1],c=u,u=d.pop(),v){if(i)c=c.slice();else{for(var y={},m=0,b=Object.keys(c);m<b.length;m++){var g=b[m];y[g]=c[g]}c=y}for(var _=0,w=0;w<a.length;w++){var E=a[w][0],S=a[w][1];i&&(E-=_),i&&null===S?(c.splice(E,1),_++):c[E]=S}}s=n.index,o=n.keys,a=n.edits,i=n.inArray,n=n.prev}else{if(l=u?i?s:o[s]:void 0,null==(c=u?u[l]:p))continue;u&&h.push(l)}var N,k=void 0;if(!Array.isArray(c)){if(!Tt(c))throw new Error("Invalid AST Node: ".concat(At(c),"."));var O=nr(t,c.kind,f);if(O){if((k=O.call(t,c,l,u,h,d))===tr)break;if(!1===k){if(!f){h.pop();continue}}else if(void 0!==k&&(a.push([l,k]),!f)){if(!Tt(k)){h.pop();continue}c=k}}}if(void 0===k&&v&&a.push([l,c]),f)h.pop();else n={inArray:i,index:s,keys:o,edits:a,prev:n},o=(i=Array.isArray(c))?c:null!==(N=r[c.kind])&&void 0!==N?N:[],s=-1,a=[],u&&d.push(u),u=c}while(void 0!==n);return 0!==a.length&&(p=a[a.length-1][1]),p}function nr(e,t,r){var n=e[t];if(n){if(!r&&"function"==typeof n)return n;var i=r?n.leave:n.enter;if("function"==typeof i)return i}else{var o=r?e.leave:e.enter;if(o){if("function"==typeof o)return o;var s=o[t];if("function"==typeof s)return s}}}function ir(e){return rr(e,{leave:or})}var or={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return ar(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,r=e.name,n=lr("(",ar(e.variableDefinitions,", "),")"),i=ar(e.directives," "),o=e.selectionSet;return r||i||n||"query"!==t?ar([t,ar([r,n]),i,o]," "):o},VariableDefinition:function(e){var t=e.variable,r=e.type,n=e.defaultValue,i=e.directives;return t+": "+r+lr(" = ",n)+lr(" ",ar(i," "))},SelectionSet:function(e){return cr(e.selections)},Field:function(e){var t=e.alias,r=e.name,n=e.arguments,i=e.directives,o=e.selectionSet,s=lr("",t,": ")+r,a=s+lr("(",ar(n,", "),")");return a.length>80&&(a=s+lr("(\n",ur(ar(n,"\n")),"\n)")),ar([a,ar(i," "),o]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+lr(" ",ar(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,r=e.directives,n=e.selectionSet;return ar(["...",lr("on ",t),ar(r," "),n]," ")},FragmentDefinition:function(e){var t=e.name,r=e.typeCondition,n=e.variableDefinitions,i=e.directives,o=e.selectionSet;return"fragment ".concat(t).concat(lr("(",ar(n,", "),")")," ")+"on ".concat(r," ").concat(lr("",ar(i," ")," "))+o},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var r=e.value;return e.block?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=-1===e.indexOf("\n"),i=" "===e[0]||"\t"===e[0],o='"'===e[e.length-1],s="\\"===e[e.length-1],a=!n||o||s||r,c="";return!a||n&&i||(c+="\n"+t),c+=t?e.replace(/\n/g,"\n"+t):e,a&&(c+="\n"),'"""'+c.replace(/"""/g,'\\"""')+'"""'}(r,"description"===t?"":"  "):JSON.stringify(r)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+ar(e.values,", ")+"]"},ObjectValue:function(e){return"{"+ar(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+lr("(",ar(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:sr((function(e){var t=e.directives,r=e.operationTypes;return ar(["schema",ar(t," "),cr(r)]," ")})),OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:sr((function(e){return ar(["scalar",e.name,ar(e.directives," ")]," ")})),ObjectTypeDefinition:sr((function(e){var t=e.name,r=e.interfaces,n=e.directives,i=e.fields;return ar(["type",t,lr("implements ",ar(r," & ")),ar(n," "),cr(i)]," ")})),FieldDefinition:sr((function(e){var t=e.name,r=e.arguments,n=e.type,i=e.directives;return t+(dr(r)?lr("(\n",ur(ar(r,"\n")),"\n)"):lr("(",ar(r,", "),")"))+": "+n+lr(" ",ar(i," "))})),InputValueDefinition:sr((function(e){var t=e.name,r=e.type,n=e.defaultValue,i=e.directives;return ar([t+": "+r,lr("= ",n),ar(i," ")]," ")})),InterfaceTypeDefinition:sr((function(e){var t=e.name,r=e.interfaces,n=e.directives,i=e.fields;return ar(["interface",t,lr("implements ",ar(r," & ")),ar(n," "),cr(i)]," ")})),UnionTypeDefinition:sr((function(e){var t=e.name,r=e.directives,n=e.types;return ar(["union",t,ar(r," "),n&&0!==n.length?"= "+ar(n," | "):""]," ")})),EnumTypeDefinition:sr((function(e){var t=e.name,r=e.directives,n=e.values;return ar(["enum",t,ar(r," "),cr(n)]," ")})),EnumValueDefinition:sr((function(e){return ar([e.name,ar(e.directives," ")]," ")})),InputObjectTypeDefinition:sr((function(e){var t=e.name,r=e.directives,n=e.fields;return ar(["input",t,ar(r," "),cr(n)]," ")})),DirectiveDefinition:sr((function(e){var t=e.name,r=e.arguments,n=e.repeatable,i=e.locations;return"directive @"+t+(dr(r)?lr("(\n",ur(ar(r,"\n")),"\n)"):lr("(",ar(r,", "),")"))+(n?" repeatable":"")+" on "+ar(i," | ")})),SchemaExtension:function(e){var t=e.directives,r=e.operationTypes;return ar(["extend schema",ar(t," "),cr(r)]," ")},ScalarTypeExtension:function(e){return ar(["extend scalar",e.name,ar(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,r=e.interfaces,n=e.directives,i=e.fields;return ar(["extend type",t,lr("implements ",ar(r," & ")),ar(n," "),cr(i)]," ")},InterfaceTypeExtension:function(e){var t=e.name,r=e.interfaces,n=e.directives,i=e.fields;return ar(["extend interface",t,lr("implements ",ar(r," & ")),ar(n," "),cr(i)]," ")},UnionTypeExtension:function(e){var t=e.name,r=e.directives,n=e.types;return ar(["extend union",t,ar(r," "),n&&0!==n.length?"= "+ar(n," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,r=e.directives,n=e.values;return ar(["extend enum",t,ar(r," "),cr(n)]," ")},InputObjectTypeExtension:function(e){var t=e.name,r=e.directives,n=e.fields;return ar(["extend input",t,ar(r," "),cr(n)]," ")}};function sr(e){return function(t){return ar([t.description,e(t)],"\n")}}function ar(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(t=null==e?void 0:e.filter((function(e){return e})).join(r))&&void 0!==t?t:""}function cr(e){return lr("{\n",ur(ar(e,"\n")),"\n}")}function lr(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return null!=t&&""!==t?e+t+r:""}function ur(e){return lr("  ",e.replace(/\n/g,"\n  "))}function hr(e){return-1!==e.indexOf("\n")}function dr(e){return null!=e&&e.some(hr)}var pr=new Map,fr=new Map,vr=!0,yr=!1;function mr(e){return e.replace(/[\s,]+/g," ").trim()}function br(e){var t=new Set,n=[];return e.definitions.forEach((function(e){if("FragmentDefinition"===e.kind){var r=e.name.value,i=mr((s=e.loc).source.body.substring(s.start,s.end)),o=fr.get(r);o&&!o.has(i)?vr&&console.warn("Warning: fragment with name "+r+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"):o||fr.set(r,o=new Set),o.add(i),t.has(i)||(t.add(i),n.push(e))}else n.push(e);var s})),r(r({},e),{definitions:n})}function gr(e){var t=mr(e);if(!pr.has(t)){var r=function(e,t){return new Yt(e,t).parseDocument()}(e,{experimentalFragmentVariables:yr});if(!r||"Document"!==r.kind)throw new Error("Not a valid GraphQL document.");pr.set(t,function(e){var t=new Set(e.definitions);t.forEach((function(e){e.loc&&delete e.loc,Object.keys(e).forEach((function(r){var n=e[r];n&&"object"==typeof n&&t.add(n)}))}));var r=e.loc;return r&&(delete r.startToken,delete r.endToken),e}(br(r)))}return pr.get(t)}function _r(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];"string"==typeof e&&(e=[e]);var n=e[0];return t.forEach((function(t,r){t&&"Document"===t.kind?n+=t.loc.source.body:n+=t,n+=e[r+1]})),gr(n)}var wr,Er=_r,Sr=function(){pr.clear(),fr.clear()},Nr=function(){vr=!1},kr=function(){yr=!0},Or=function(){yr=!1};(wr=_r||(_r={})).gql=Er,wr.resetCaches=Sr,wr.disableFragmentWarnings=Nr,wr.enableExperimentalFragmentVariables=kr,wr.disableExperimentalFragmentVariables=Or,_r.default=_r;var Cr=_r,Tr=Object.setPrototypeOf,xr=void 0===Tr?function(e,t){return e.__proto__=t,e}:Tr,Ir=function(e){function r(t){void 0===t&&(t="Invariant Violation");var n=e.call(this,"number"==typeof t?"Invariant Violation: "+t+" (see https://github.com/apollographql/invariant-packages)":t)||this;return n.framesToPop=1,n.name="Invariant Violation",xr(n,r.prototype),n}return t(r,e),r}(Error);function Ar(e,t){if(!e)throw new Ir(t)}var Dr=["log","warn","error","silent"],Pr=Dr.indexOf("log");function Rr(e){return function(){if(Dr.indexOf(e)>=Pr)return console[e].apply(console,arguments)}}!function(e){e.log=Rr("log"),e.warn=Rr("warn"),e.error=Rr("error")}(Ar||(Ar={})),"object"!=typeof process||"object"!=typeof process.env||process;var Fr=Ar;function Mr(e,t){var r=e.directives;return!r||!r.length||function(e){var t=[];e&&e.length&&e.forEach((function(e){if(function(e){var t=e.name.value;return"skip"===t||"include"===t}(e)){var r=e.arguments,n=e.name.value;"production"===process.env.NODE_ENV?Ar(r&&1===r.length,40):Ar(r&&1===r.length,"Incorrect number of arguments for the @"+n+" directive.");var i=r[0];"production"===process.env.NODE_ENV?Ar(i.name&&"if"===i.name.value,41):Ar(i.name&&"if"===i.name.value,"Invalid argument for the @"+n+" directive.");var o=i.value;"production"===process.env.NODE_ENV?Ar(o&&("Variable"===o.kind||"BooleanValue"===o.kind),42):Ar(o&&("Variable"===o.kind||"BooleanValue"===o.kind),"Argument for the @"+n+" directive must be a variable or a boolean value."),t.push({directive:e,ifArgument:i})}}));return t}(r).every((function(e){var r=e.directive,n=e.ifArgument,i=!1;return"Variable"===n.value.kind?(i=t&&t[n.value.name.value],"production"===process.env.NODE_ENV?Ar(void 0!==i,39):Ar(void 0!==i,"Invalid variable referenced in @"+r.name.value+" directive.")):i=n.value.value,"skip"===r.name.value?!i:i}))}function Lr(e,t){return function(e){var t=[];return rr(e,{Directive:function(e){t.push(e.name.value)}}),t}(t).some((function(t){return e.indexOf(t)>-1}))}function jr(e){return e&&Lr(["client"],e)&&Lr(["export"],e)}function qr(e,t){var n=t,i=[];return e.definitions.forEach((function(e){if("OperationDefinition"===e.kind)throw"production"===process.env.NODE_ENV?new Ir(43):new Ir("Found a "+e.operation+" operation"+(e.name?" named '"+e.name.value+"'":"")+". No operations are allowed when using a fragment as a query. Only fragments are allowed.");"FragmentDefinition"===e.kind&&i.push(e)})),void 0===n&&("production"===process.env.NODE_ENV?Ar(1===i.length,44):Ar(1===i.length,"Found "+i.length+" fragments. `fragmentName` must be provided when there is not exactly 1 fragment."),n=i[0].name.value),r(r({},e),{definitions:a([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:n}}]}}],e.definitions)})}function Vr(e){void 0===e&&(e=[]);var t={};return e.forEach((function(e){t[e.name.value]=e})),t}function Br(e,t){switch(e.kind){case"InlineFragment":return e;case"FragmentSpread":var r=t&&t[e.name.value];return"production"===process.env.NODE_ENV?Ar(r,45):Ar(r,"No fragment named "+e.name.value+"."),r;default:return null}}function Ur(e){return{__ref:String(e)}}function Qr(e){return Boolean(e&&"object"==typeof e&&"string"==typeof e.__ref)}function Wr(e,t,r,n){if(function(e){return"IntValue"===e.kind}(r)||function(e){return"FloatValue"===e.kind}(r))e[t.value]=Number(r.value);else if(function(e){return"BooleanValue"===e.kind}(r)||function(e){return"StringValue"===e.kind}(r))e[t.value]=r.value;else if(function(e){return"ObjectValue"===e.kind}(r)){var i={};r.fields.map((function(e){return Wr(i,e.name,e.value,n)})),e[t.value]=i}else if(function(e){return"Variable"===e.kind}(r)){var o=(n||{})[r.name.value];e[t.value]=o}else if(function(e){return"ListValue"===e.kind}(r))e[t.value]=r.values.map((function(e){var r={};return Wr(r,t,e,n),r[t.value]}));else if(function(e){return"EnumValue"===e.kind}(r))e[t.value]=r.value;else{if(!function(e){return"NullValue"===e.kind}(r))throw"production"===process.env.NODE_ENV?new Ir(54):new Ir('The inline argument "'+t.value+'" of kind "'+r.kind+'"is not supported. Use variables instead of inline arguments to overcome this limitation.');e[t.value]=null}}var Kr=["connection","include","skip","client","rest","export"];function zr(e,t,r){if(t&&r&&r.connection&&r.connection.key){if(r.connection.filter&&r.connection.filter.length>0){var n=r.connection.filter?r.connection.filter:[];n.sort();var i={};return n.forEach((function(e){i[e]=t[e]})),r.connection.key+"("+JSON.stringify(i)+")"}return r.connection.key}var o=e;if(t){var s=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var r,n="boolean"==typeof t.cycles&&t.cycles,i=t.cmp&&(r=t.cmp,function(e){return function(t,n){var i={key:t,value:e[t]},o={key:n,value:e[n]};return r(i,o)}}),o=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var r,s;if(Array.isArray(t)){for(s="[",r=0;r<t.length;r++)r&&(s+=","),s+=e(t[r])||"null";return s+"]"}if(null===t)return"null";if(-1!==o.indexOf(t)){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var a=o.push(t)-1,c=Object.keys(t).sort(i&&i(t));for(s="",r=0;r<c.length;r++){var l=c[r],u=e(t[l]);u&&(s&&(s+=","),s+=JSON.stringify(l)+":"+u)}return o.splice(a,1),"{"+s+"}"}}(e)}(t);o+="("+s+")"}return r&&Object.keys(r).forEach((function(e){-1===Kr.indexOf(e)&&(r[e]&&Object.keys(r[e]).length?o+="@"+e+"("+JSON.stringify(r[e])+")":o+="@"+e)})),o}function $r(e,t){if(e.arguments&&e.arguments.length){var r={};return e.arguments.forEach((function(e){var n=e.name,i=e.value;return Wr(r,n,i,t)})),r}return null}function Hr(e){return e.alias?e.alias.value:e.name.value}function Jr(e,t,r){if("string"==typeof e.__typename)return e.__typename;for(var n=0,i=t.selections;n<i.length;n++){var o=i[n];if(Gr(o)){if("__typename"===o.name.value)return e[Hr(o)]}else{var s=Jr(e,Br(o,r).selectionSet,r);if("string"==typeof s)return s}}}function Gr(e){return"Field"===e.kind}function Yr(e){return"InlineFragment"===e.kind}function Xr(e){"production"===process.env.NODE_ENV?Ar(e&&"Document"===e.kind,46):Ar(e&&"Document"===e.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql');var t=e.definitions.filter((function(e){return"FragmentDefinition"!==e.kind})).map((function(e){if("OperationDefinition"!==e.kind)throw"production"===process.env.NODE_ENV?new Ir(47):new Ir('Schema type definitions not allowed in queries. Found: "'+e.kind+'"');return e}));return"production"===process.env.NODE_ENV?Ar(t.length<=1,48):Ar(t.length<=1,"Ambiguous GraphQL document: contains "+t.length+" operations"),e}function Zr(e){return Xr(e),e.definitions.filter((function(e){return"OperationDefinition"===e.kind}))[0]}function en(e){return e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&e.name})).map((function(e){return e.name.value}))[0]||null}function tn(e){return e.definitions.filter((function(e){return"FragmentDefinition"===e.kind}))}function rn(e){var t;Xr(e);for(var r=0,n=e.definitions;r<n.length;r++){var i=n[r];if("OperationDefinition"===i.kind){var o=i.operation;if("query"===o||"mutation"===o||"subscription"===o)return i}"FragmentDefinition"!==i.kind||t||(t=i)}if(t)return t;throw"production"===process.env.NODE_ENV?new Ir(53):new Ir("Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment.")}function nn(e){var t=Object.create(null),r=e&&e.variableDefinitions;return r&&r.length&&r.forEach((function(e){e.defaultValue&&Wr(t,e.variable.name,e.defaultValue)})),t}function on(e,t,r){var n=0;return e.forEach((function(r,i){t.call(this,r,i,e)&&(e[n++]=r)}),r),e.length=n,e}var sn={kind:"Field",name:{kind:"Name",value:"__typename"}};function an(e,t){return e.selectionSet.selections.every((function(e){return"FragmentSpread"===e.kind&&an(t[e.name.value],t)}))}function cn(e){return an(Zr(e)||function(e){"production"===process.env.NODE_ENV?Ar("Document"===e.kind,50):Ar("Document"===e.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'),"production"===process.env.NODE_ENV?Ar(e.definitions.length<=1,51):Ar(e.definitions.length<=1,"Fragment must have exactly one definition.");var t=e.definitions[0];return"production"===process.env.NODE_ENV?Ar("FragmentDefinition"===t.kind,52):Ar("FragmentDefinition"===t.kind,"Must be a fragment definition."),t}(e),Vr(tn(e)))?null:e}function ln(e){return function(t){return e.some((function(e){return e.name&&e.name===t.name.value||e.test&&e.test(t)}))}}function un(e,t){var n=Object.create(null),i=[],o=Object.create(null),s=[],a=cn(rr(t,{Variable:{enter:function(e,t,r){"VariableDefinition"!==r.kind&&(n[e.name.value]=!0)}},Field:{enter:function(t){if(e&&t.directives&&(e.some((function(e){return e.remove}))&&t.directives&&t.directives.some(ln(e))))return t.arguments&&t.arguments.forEach((function(e){"Variable"===e.value.kind&&i.push({name:e.value.name.value})})),t.selectionSet&&pn(t.selectionSet).forEach((function(e){s.push({name:e.name.value})})),null}},FragmentSpread:{enter:function(e){o[e.name.value]=!0}},Directive:{enter:function(t){if(ln(e)(t))return null}}}));return a&&on(i,(function(e){return!!e.name&&!n[e.name]})).length&&(a=function(e,t){var n=function(e){return function(t){return e.some((function(e){return t.value&&"Variable"===t.value.kind&&t.value.name&&(e.name===t.value.name.value||e.test&&e.test(t))}))}}(e);return cn(rr(t,{OperationDefinition:{enter:function(t){return r(r({},t),{variableDefinitions:t.variableDefinitions?t.variableDefinitions.filter((function(t){return!e.some((function(e){return e.name===t.variable.name.value}))})):[]})}},Field:{enter:function(t){if(e.some((function(e){return e.remove}))){var r=0;if(t.arguments&&t.arguments.forEach((function(e){n(e)&&(r+=1)})),1===r)return null}}},Argument:{enter:function(e){if(n(e))return null}}}))}(i,a)),a&&on(s,(function(e){return!!e.name&&!o[e.name]})).length&&(a=function(e,t){function r(t){if(e.some((function(e){return e.name===t.name.value})))return null}return cn(rr(t,{FragmentSpread:{enter:r},FragmentDefinition:{enter:r}}))}(s,a)),a}function hn(e){return rr(Xr(e),{SelectionSet:{enter:function(e,t,n){if(!n||"OperationDefinition"!==n.kind){var i=e.selections;if(i)if(!i.some((function(e){return Gr(e)&&("__typename"===e.name.value||0===e.name.value.lastIndexOf("__",0))}))){var o=n;if(!(Gr(o)&&o.directives&&o.directives.some((function(e){return"export"===e.name.value}))))return r(r({},e),{selections:a(i,[sn])})}}}}})}hn.added=function(e){return e===sn};var dn={test:function(e){var t="connection"===e.name.value;return t&&(e.arguments&&e.arguments.some((function(e){return"key"===e.name.value}))||"production"===process.env.NODE_ENV||Ar.warn("Removing an @connection directive even though it does not have a key. You may want to use the key parameter to specify a store key.")),t}};function pn(e){var t=[];return e.selections.forEach((function(e){(Gr(e)||Yr(e))&&e.selectionSet?pn(e.selectionSet).forEach((function(e){return t.push(e)})):"FragmentSpread"===e.kind&&t.push(e)})),t}function fn(e){return"query"===rn(e).operation?e:rr(e,{OperationDefinition:{enter:function(e){return r(r({},e),{operation:"query"})}}})}var vn=Object.prototype.hasOwnProperty;function yn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return mn(e)}function mn(e){var t=e[0]||{},r=e.length;if(r>1)for(var n=new _n,i=1;i<r;++i)t=n.merge(t,e[i]);return t}function bn(e){return null!==e&&"object"==typeof e}var gn=function(e,t,r){return this.merge(e[r],t[r])},_n=function(){function e(e){void 0===e&&(e=gn),this.reconciler=e,this.isObject=bn,this.pastCopies=new Set}return e.prototype.merge=function(e,t){for(var r=this,n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return bn(t)&&bn(e)?(Object.keys(t).forEach((function(i){if(vn.call(e,i)){var o=e[i];if(t[i]!==o){var s=r.reconciler.apply(r,a([e,t,i],n));s!==o&&((e=r.shallowCopyForMerge(e))[i]=s)}}else(e=r.shallowCopyForMerge(e))[i]=t[i]})),e):t},e.prototype.shallowCopyForMerge=function(e){return bn(e)&&!this.pastCopies.has(e)&&(e=Array.isArray(e)?e.slice(0):r({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e)),e},e}();const wn=()=>"function"==typeof Symbol,En=e=>wn()&&Boolean(Symbol[e]),Sn=e=>En(e)?Symbol[e]:"@@"+e;wn()&&!En("observable")&&(Symbol.observable=Symbol("observable"));const Nn=Sn("iterator"),kn=Sn("observable"),On=Sn("species");function Cn(e,t){let r=e[t];if(null!=r){if("function"!=typeof r)throw new TypeError(r+" is not a function");return r}}function Tn(e){let t=e.constructor;return void 0!==t&&(t=t[On],null===t&&(t=void 0)),void 0!==t?t:Ln}function xn(e){xn.log?xn.log(e):setTimeout((()=>{throw e}))}function In(e){Promise.resolve().then((()=>{try{e()}catch(e){xn(e)}}))}function An(e){let t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"==typeof t)t();else{let e=Cn(t,"unsubscribe");e&&e.call(t)}}catch(e){xn(e)}}function Dn(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function Pn(e,t,r){e._state="running";let n=e._observer;try{let i=Cn(n,t);switch(t){case"next":i&&i.call(n,r);break;case"error":if(Dn(e),!i)throw r;i.call(n,r);break;case"complete":Dn(e),i&&i.call(n)}}catch(e){xn(e)}"closed"===e._state?An(e):"running"===e._state&&(e._state="ready")}function Rn(e,t,r){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:r}],void In((()=>function(e){let t=e._queue;if(t){e._queue=void 0,e._state="ready";for(let r=0;r<t.length&&(Pn(e,t[r].type,t[r].value),"closed"!==e._state);++r);}}(e)))):void Pn(e,t,r);e._queue.push({type:t,value:r})}}class Fn{constructor(e,t){this._cleanup=void 0,this._observer=e,this._queue=void 0,this._state="initializing";let r=new Mn(this);try{this._cleanup=t.call(void 0,r)}catch(e){r.error(e)}"initializing"===this._state&&(this._state="ready")}get closed(){return"closed"===this._state}unsubscribe(){"closed"!==this._state&&(Dn(this),An(this))}}class Mn{constructor(e){this._subscription=e}get closed(){return"closed"===this._subscription._state}next(e){Rn(this._subscription,"next",e)}error(e){Rn(this._subscription,"error",e)}complete(){Rn(this._subscription,"complete")}}class Ln{constructor(e){if(!(this instanceof Ln))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof e)throw new TypeError("Observable initializer must be a function");this._subscriber=e}subscribe(e){return"object"==typeof e&&null!==e||(e={next:e,error:arguments[1],complete:arguments[2]}),new Fn(e,this._subscriber)}forEach(e){return new Promise(((t,r)=>{if("function"!=typeof e)return void r(new TypeError(e+" is not a function"));function n(){i.unsubscribe(),t()}let i=this.subscribe({next(t){try{e(t,n)}catch(e){r(e),i.unsubscribe()}},error:r,complete:t})}))}map(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(Tn(this))((t=>this.subscribe({next(r){try{r=e(r)}catch(e){return t.error(e)}t.next(r)},error(e){t.error(e)},complete(){t.complete()}})))}filter(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(Tn(this))((t=>this.subscribe({next(r){try{if(!e(r))return}catch(e){return t.error(e)}t.next(r)},error(e){t.error(e)},complete(){t.complete()}})))}reduce(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");let t=Tn(this),r=arguments.length>1,n=!1,i=arguments[1];return new t((t=>this.subscribe({next(o){let s=!n;if(n=!0,!s||r)try{i=e(i,o)}catch(e){return t.error(e)}else i=o},error(e){t.error(e)},complete(){if(!n&&!r)return t.error(new TypeError("Cannot reduce an empty sequence"));t.next(i),t.complete()}})))}concat(...e){let t=Tn(this);return new t((r=>{let n,i=0;return function o(s){n=s.subscribe({next(e){r.next(e)},error(e){r.error(e)},complete(){i===e.length?(n=void 0,r.complete()):o(t.from(e[i++]))}})}(this),()=>{n&&(n.unsubscribe(),n=void 0)}}))}flatMap(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");let t=Tn(this);return new t((r=>{let n=[],i=this.subscribe({next(i){if(e)try{i=e(i)}catch(e){return r.error(e)}let s=t.from(i).subscribe({next(e){r.next(e)},error(e){r.error(e)},complete(){let e=n.indexOf(s);e>=0&&n.splice(e,1),o()}});n.push(s)},error(e){r.error(e)},complete(){o()}});function o(){i.closed&&0===n.length&&r.complete()}return()=>{n.forEach((e=>e.unsubscribe())),i.unsubscribe()}}))}[kn](){return this}static from(e){let t="function"==typeof this?this:Ln;if(null==e)throw new TypeError(e+" is not an object");let r=Cn(e,kn);if(r){let n=r.call(e);if(Object(n)!==n)throw new TypeError(n+" is not an object");return function(e){return e instanceof Ln}(n)&&n.constructor===t?n:new t((e=>n.subscribe(e)))}if(En("iterator")&&(r=Cn(e,Nn),r))return new t((t=>{In((()=>{if(!t.closed){for(let n of r.call(e))if(t.next(n),t.closed)return;t.complete()}}))}));if(Array.isArray(e))return new t((t=>{In((()=>{if(!t.closed){for(let r=0;r<e.length;++r)if(t.next(e[r]),t.closed)return;t.complete()}}))}));throw new TypeError(e+" is not observable")}static of(...e){return new("function"==typeof this?this:Ln)((t=>{In((()=>{if(!t.closed){for(let r=0;r<e.length;++r)if(t.next(e[r]),t.closed)return;t.complete()}}))}))}static get[On](){return this}}function jn(e,t,r){return"object"==typeof Reflect?Reflect.construct(e,[r],t.constructor):Function.prototype.call.call(e,t,r)||t}wn()&&Object.defineProperty(Ln,Symbol("extensions"),{value:{symbol:kn,hostReportError:xn},configurable:!0}),Ln.call=function(e,t){return jn(this,e,t)},Ln.apply=function(e,t){return jn(this,e,t[0])},function(e){var t,r=e.Symbol;if("function"==typeof r)if(r.observable)t=r.observable;else{t=r.for("https://github.com/benlesh/symbol-observable");try{r.observable=t}catch(e){}}else t="@@observable"}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof module?module:Function("return this")());var qn=Ln.prototype;qn["@@observable"]||(qn["@@observable"]=function(){return this});var Vn=Object.prototype.toString;function Bn(e){return Un(e)}function Un(e,t){switch(Vn.call(e)){case"[object Array]":if((t=t||new Map).has(e))return t.get(e);var r=e.slice(0);return t.set(e,r),r.forEach((function(e,n){r[n]=Un(e,t)})),r;case"[object Object]":if((t=t||new Map).has(e))return t.get(e);var n=Object.create(Object.getPrototypeOf(e));return t.set(e,n),Object.keys(e).forEach((function(r){n[r]=Un(e[r],t)})),n;default:return e}}function Qn(e){return("undefined"!=typeof process&&process.env.NODE_ENV?process.env.NODE_ENV:"development")===e}function Wn(e){return null!==e&&"object"==typeof e}function Kn(e){var t,r;return"production"===process.env.NODE_ENV||!0!==Qn("development")&&!0!==Qn("test")||(t=e,(r=new Set([t])).forEach((function(e){Wn(e)&&(Object.isFrozen(e)||Object.freeze(e),Object.getOwnPropertyNames(e).forEach((function(t){Wn(e[t])&&r.add(e[t])})))}))),e}function zn(e,t,r){var n=[];e.forEach((function(e){return e[t]&&n.push(e)})),n.forEach((function(e){return e[t](r)}))}function $n(e,t,r){return new Ln((function(n){var i=n.next,o=n.error,s=n.complete,a=0,c=!1,l={then:function(e){return new Promise((function(t){return t(e())}))}};function u(e,t){return e?function(t){++a;var r=function(){return e(t)};l=l.then(r,r).then((function(e){--a,i&&i.call(n,e),c&&h.complete()}),(function(e){throw--a,e})).catch((function(e){o&&o.call(n,e)}))}:function(e){return t&&t.call(n,e)}}var h={next:u(t,i),error:u(r,o),complete:function(){c=!0,a||s&&s.call(n)}},d=e.subscribe(h);return function(){return d.unsubscribe()}}))}function Hn(e){function t(t){Object.defineProperty(e,t,{value:Ln})}return"function"==typeof Symbol&&Symbol.species&&t(Symbol.species),t("@@species"),e}function Jn(e){return e&&"function"==typeof e.then}var Gn=function(e){function r(t){var r=e.call(this,(function(e){return r.addObserver(e),function(){return r.removeObserver(e)}}))||this;return r.observers=new Set,r.addCount=0,r.promise=new Promise((function(e,t){r.resolve=e,r.reject=t})),r.handlers={next:function(e){null!==r.sub&&(r.latest=["next",e],zn(r.observers,"next",e))},error:function(e){var t=r.sub;null!==t&&(t&&Promise.resolve().then((function(){return t.unsubscribe()})),r.sub=null,r.latest=["error",e],r.reject(e),zn(r.observers,"error",e))},complete:function(){if(null!==r.sub){var e=r.sources.shift();e?Jn(e)?e.then((function(e){return r.sub=e.subscribe(r.handlers)})):r.sub=e.subscribe(r.handlers):(r.sub=null,r.latest&&"next"===r.latest[0]?r.resolve(r.latest[1]):r.resolve(),zn(r.observers,"complete"))}}},r.cancel=function(e){r.reject(e),r.sources=[],r.handlers.complete()},r.promise.catch((function(e){})),"function"==typeof t&&(t=[new Ln(t)]),Jn(t)?t.then((function(e){return r.start(e)}),r.handlers.error):r.start(t),r}return t(r,e),r.prototype.start=function(e){void 0===this.sub&&(this.sources=Array.from(e),this.handlers.complete())},r.prototype.deliverLastMessage=function(e){if(this.latest){var t=this.latest[0],r=e[t];r&&r.call(e,this.latest[1]),null===this.sub&&"next"===t&&e.complete&&e.complete()}},r.prototype.addObserver=function(e){this.observers.has(e)||(this.deliverLastMessage(e),this.observers.add(e),++this.addCount)},r.prototype.removeObserver=function(e,t){this.observers.delete(e)&&--this.addCount<1&&!t&&this.handlers.error(new Error("Observable cancelled prematurely"))},r.prototype.cleanup=function(e){var t=this,r=!1,n=function(){r||(r=!0,t.observers.delete(i),e())},i={next:n,error:n,complete:n},o=this.addCount;this.addObserver(i),this.addCount=o},r}(Ln);function Yn(e){return Array.isArray(e)&&e.length>0}function Xn(e){return e.errors&&e.errors.length>0||!1}Hn(Gn);var Zn="function"==typeof WeakMap&&!("object"==typeof navigator&&"ReactNative"===navigator.product);function ei(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Object.create(null);return e.forEach((function(e){e&&Object.keys(e).forEach((function(t){var n=e[t];void 0!==n&&(r[t]=n)}))})),r}function ti(e){return new Ln((function(t){t.error(e)}))}var ri=function(e,t,r){var n=new Error(r);throw n.name="ServerError",n.response=e,n.statusCode=e.status,n.result=t,n};function ni(e,t){return t?t(e):Ln.of()}function ii(e){return"function"==typeof e?new ai(e):e}function oi(e){return e.request.length<=1}var si=function(e){function r(t,r){var n=e.call(this,t)||this;return n.link=r,n}return t(r,e),r}(Error),ai=function(){function e(e){e&&(this.request=e)}return e.empty=function(){return new e((function(){return Ln.of()}))},e.from=function(t){return 0===t.length?e.empty():t.map(ii).reduce((function(e,t){return e.concat(t)}))},e.split=function(t,r,n){var i=ii(r),o=ii(n||new e(ni));return oi(i)&&oi(o)?new e((function(e){return t(e)?i.request(e)||Ln.of():o.request(e)||Ln.of()})):new e((function(e,r){return t(e)?i.request(e,r)||Ln.of():o.request(e,r)||Ln.of()}))},e.execute=function(e,t){return e.request(function(e,t){var n=r({},e);return Object.defineProperty(t,"setContext",{enumerable:!1,value:function(e){n=r(r({},n),"function"==typeof e?e(n):e)}}),Object.defineProperty(t,"getContext",{enumerable:!1,value:function(){return r({},n)}}),t}(t.context,function(e){var t={variables:e.variables||{},extensions:e.extensions||{},operationName:e.operationName,query:e.query};return t.operationName||(t.operationName="string"!=typeof t.query?en(t.query)||void 0:""),t}(function(e){for(var t=["query","operationName","variables","extensions","context"],r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];if(t.indexOf(i)<0)throw"production"===process.env.NODE_ENV?new Ir(27):new Ir("illegal argument: "+i)}return e}(t))))||Ln.of()},e.concat=function(t,r){var n=ii(t);if(oi(n))return"production"===process.env.NODE_ENV||Ar.warn(new si("You are calling concat on a terminating link, which will have no effect",n)),n;var i=ii(r);return oi(i)?new e((function(e){return n.request(e,(function(e){return i.request(e)||Ln.of()}))||Ln.of()})):new e((function(e,t){return n.request(e,(function(e){return i.request(e,t)||Ln.of()}))||Ln.of()}))},e.prototype.split=function(t,r,n){return this.concat(e.split(t,r,n||new e(ni)))},e.prototype.concat=function(t){return e.concat(this,t)},e.prototype.request=function(e,t){throw"production"===process.env.NODE_ENV?new Ir(22):new Ir("request is not implemented")},e.prototype.onError=function(e,t){if(t&&t.error)return t.error(e),!1;throw e},e.prototype.setOnError=function(e){return this.onError=e,this},e}(),ci=ai.execute,li=Object.prototype.hasOwnProperty;var ui=function(e,t){var r;try{r=JSON.stringify(e)}catch(e){var n="production"===process.env.NODE_ENV?new Ir(24):new Ir("Network request failed. "+t+" is not serializable: "+e.message);throw n.parseError=e,n}return r},hi={http:{includeQuery:!0,includeExtensions:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}};var di=function(e){void 0===e&&(e={});var t=e.uri,i=void 0===t?"/graphql":t,o=e.fetch,s=e.includeExtensions,a=e.useGETForQueries,c=e.includeUnusedVariables,l=void 0!==c&&c,u=n(e,["uri","fetch","includeExtensions","useGETForQueries","includeUnusedVariables"]);!function(e){if(!e&&"undefined"==typeof fetch)throw"production"===process.env.NODE_ENV?new Ir(23):new Ir("\n\"fetch\" has not been found globally and no fetcher has been configured. To fix this, install a fetch package (like https://www.npmjs.com/package/cross-fetch), instantiate the fetcher, and pass it into your HttpLink constructor. For example:\n\nimport fetch from 'cross-fetch';\nimport { ApolloClient, HttpLink } from '@apollo/client';\nconst client = new ApolloClient({\n  link: new HttpLink({ uri: '/graphql', fetch })\n});\n    ")}(o),o||(o=fetch);var h={http:{includeExtensions:s},options:u.fetchOptions,credentials:u.credentials,headers:u.headers};return new ai((function(e){var t=function(e,t){return e.getContext().uri||("function"==typeof t?t(e):t||"/graphql")}(e,i),n=e.getContext(),s={};if(n.clientAwareness){var c=n.clientAwareness,u=c.name,d=c.version;u&&(s["apollographql-client-name"]=u),d&&(s["apollographql-client-version"]=d)}var p,f=r(r({},s),n.headers),v={http:n.http,options:n.fetchOptions,credentials:n.credentials,headers:f},y=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o=r(r({},t.options),{headers:t.headers,credentials:t.credentials}),s=t.http||{};n.forEach((function(e){o=r(r(r({},o),e.options),{headers:r(r({},o.headers),e.headers)}),e.credentials&&(o.credentials=e.credentials),s=r(r({},s),e.http)}));var a=e.operationName,c=e.extensions,l=e.variables,u=e.query,h={operationName:a,variables:l};return s.includeExtensions&&(h.extensions=c),s.includeQuery&&(h.query=ir(u)),{options:o,body:h}}(e,hi,h,v),m=y.options,b=y.body;if(b.variables&&!l){var g=new Set(Object.keys(b.variables));rr(e.query,{Variable:function(e,t,r){r&&"VariableDefinition"!==r.kind&&g.delete(e.name.value)}}),g.size&&(b.variables=r({},b.variables),g.forEach((function(e){delete b.variables[e]})))}if(!m.signal){var _=function(){if("undefined"==typeof AbortController)return{controller:!1,signal:!1};var e=new AbortController;return{controller:e,signal:e.signal}}(),w=_.controller,E=_.signal;(p=w)&&(m.signal=E)}if(a&&!e.query.definitions.some((function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation}))&&(m.method="GET"),"GET"===m.method){var S=function(e,t){var r=[],n=function(e,t){r.push(e+"="+encodeURIComponent(t))};if("query"in t&&n("query",t.query),t.operationName&&n("operationName",t.operationName),t.variables){var i=void 0;try{i=ui(t.variables,"Variables map")}catch(e){return{parseError:e}}n("variables",i)}if(t.extensions){var o=void 0;try{o=ui(t.extensions,"Extensions map")}catch(e){return{parseError:e}}n("extensions",o)}var s="",a=e,c=e.indexOf("#");-1!==c&&(s=e.substr(c),a=e.substr(0,c));var l=-1===a.indexOf("?")?"?":"&";return{newURI:a+l+r.join("&")+s}}(t,b),N=S.newURI,k=S.parseError;if(k)return ti(k);t=N}else try{m.body=ui(b,"Payload")}catch(k){return ti(k)}return new Ln((function(r){var n;return o(t,m).then((function(t){return e.setContext({response:t}),t})).then((n=e,function(e){return e.text().then((function(t){try{return JSON.parse(t)}catch(n){var r=n;throw r.name="ServerParseError",r.response=e,r.statusCode=e.status,r.bodyText=t,r}})).then((function(t){return e.status>=300&&ri(e,t,"Response not successful: Received status code "+e.status),Array.isArray(t)||li.call(t,"data")||li.call(t,"errors")||ri(e,t,"Server response was missing for query '"+(Array.isArray(n)?n.map((function(e){return e.operationName})):n.operationName)+"'."),t}))})).then((function(e){return r.next(e),r.complete(),e})).catch((function(e){"AbortError"!==e.name&&(e.result&&e.result.errors&&e.result.data&&r.next(e.result),r.error(e))})),function(){p&&p.abort()}}))}))},pi=function(e){function r(t){void 0===t&&(t={});var r=e.call(this,di(t).request)||this;return r.options=t,r}return t(r,e),r}(ai),fi=Object.prototype,vi=fi.toString,yi=fi.hasOwnProperty,mi=Function.prototype.toString,bi=new Map;function gi(e,t){try{return _i(e,t)}finally{bi.clear()}}function _i(e,t){if(e===t)return!0;var r,n,i,o=vi.call(e);if(o!==vi.call(t))return!1;switch(o){case"[object Array]":if(e.length!==t.length)return!1;case"[object Object]":if(Ni(e,t))return!0;var s=wi(e),a=wi(t),c=s.length;if(c!==a.length)return!1;for(var l=0;l<c;++l)if(!yi.call(t,s[l]))return!1;for(l=0;l<c;++l){var u=s[l];if(!_i(e[u],t[u]))return!1}return!0;case"[object Error]":return e.name===t.name&&e.message===t.message;case"[object Number]":if(e!=e)return t!=t;case"[object Boolean]":case"[object Date]":return+e==+t;case"[object RegExp]":case"[object String]":return e==""+t;case"[object Map]":case"[object Set]":if(e.size!==t.size)return!1;if(Ni(e,t))return!0;for(var h=e.entries(),d="[object Map]"===o;;){var p=h.next();if(p.done)break;var f=p.value,v=f[0],y=f[1];if(!t.has(v))return!1;if(d&&!_i(y,t.get(v)))return!1}return!0;case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":var m=mi.call(e);return m===mi.call(t)&&(n=Si,!((i=(r=m).length-n.length)>=0&&r.indexOf(n,i)===i))}return!1}function wi(e){return Object.keys(e).filter(Ei,e)}function Ei(e){return void 0!==this[e]}var Si="{ [native code] }";function Ni(e,t){var r=bi.get(e);if(r){if(r.has(t))return!0}else bi.set(e,r=new Set);return r.add(t),!1}var ki,Oi=function(e){function r(t){var n,i,o=t.graphQLErrors,s=t.networkError,a=t.errorMessage,c=t.extraInfo,l=e.call(this,a)||this;return l.graphQLErrors=o||[],l.networkError=s||null,l.message=a||(i="",Yn((n=l).graphQLErrors)&&n.graphQLErrors.forEach((function(e){var t=e?e.message:"Error message not found.";i+=t+"\n"})),n.networkError&&(i+=n.networkError.message+"\n"),i=i.replace(/\n$/,"")),l.extraInfo=c,l.__proto__=r.prototype,l}return t(r,e),r}(Error);function Ci(e){return!!e&&e<7}!function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error"}(ki||(ki={}));var Ti=function(){function e(e,t,r,n){this.observer=e,this.options=t,this.fetch=r,this.shouldFetch=n}return e.prototype.reobserve=function(e,t){e?this.updateOptions(e):this.updatePolling();var r=this.fetch(this.options,t);return this.concast&&this.concast.removeObserver(this.observer,!0),r.addObserver(this.observer),(this.concast=r).promise},e.prototype.updateOptions=function(e){return Object.assign(this.options,ei(e)),this.updatePolling(),this},e.prototype.stop=function(){this.concast&&(this.concast.removeObserver(this.observer),delete this.concast),this.pollingInfo&&(clearTimeout(this.pollingInfo.timeout),this.options.pollInterval=0,this.updatePolling())},e.prototype.updatePolling=function(){var e=this,t=this.pollingInfo,r=this.options.pollInterval;if(r){if((!t||t.interval!==r)&&("production"===process.env.NODE_ENV?Ar(r,21):Ar(r,"Attempted to start a polling query without a polling interval."),!1!==this.shouldFetch)){(t||(this.pollingInfo={})).interval=r;var n=function(){e.pollingInfo&&(e.shouldFetch&&e.shouldFetch()?e.reobserve({fetchPolicy:"network-only",nextFetchPolicy:e.options.fetchPolicy||"cache-first"},ki.poll).then(i,i):i())},i=function(){var t=e.pollingInfo;t&&(clearTimeout(t.timeout),t.timeout=setTimeout(n,t.interval))};i()}}else t&&(clearTimeout(t.timeout),delete this.pollingInfo)},e}(),xi=!1,Ii=function(e){function n(t){var n=t.queryManager,i=t.queryInfo,o=t.options,s=e.call(this,(function(e){return s.onSubscribe(e)}))||this;s.observers=new Set,s.subscriptions=new Set,s.observer={next:function(e){(s.lastError||s.isDifferentFromLastResult(e))&&(s.updateLastResult(e),zn(s.observers,"next",e))},error:function(e){s.updateLastResult(r(r({},s.lastResult),{error:e,errors:e.graphQLErrors,networkStatus:ki.error,loading:!1})),zn(s.observers,"error",s.lastError=e)}},s.isTornDown=!1,s.options=o,s.queryId=n.generateQueryId();var a=Zr(o.query);return s.queryName=a&&a.name&&a.name.value,s.queryManager=n,s.queryInfo=i,s}return t(n,e),Object.defineProperty(n.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),n.prototype.result=function(){var e=this;return new Promise((function(t,r){var n={next:function(r){t(r),e.observers.delete(n),e.observers.size||e.queryManager.removeQuery(e.queryId),setTimeout((function(){i.unsubscribe()}),0)},error:r},i=e.subscribe(n)}))},n.prototype.getCurrentResult=function(e){void 0===e&&(e=!0);var t=this.lastResult,n=this.queryInfo.networkStatus||t&&t.networkStatus||ki.ready,i=r(r({},t),{loading:Ci(n),networkStatus:n});if(this.isTornDown)return i;var o=this.options.fetchPolicy,s=void 0===o?"cache-first":o;if("no-cache"===s||"network-only"===s)delete i.partial;else if(!i.data||!this.queryManager.transform(this.options.query).hasForcedResolvers){var a=this.queryInfo.getDiff();i.data=a.complete||this.options.returnPartialData?a.result:void 0,a.complete?(i.networkStatus!==ki.loading||"cache-first"!==s&&"cache-only"!==s||(i.networkStatus=ki.ready,i.loading=!1),delete i.partial):i.partial=!0}return e&&this.updateLastResult(i),i},n.prototype.isDifferentFromLastResult=function(e){return!gi(this.lastResultSnapshot,e)},n.prototype.getLastResult=function(){return this.lastResult},n.prototype.getLastError=function(){return this.lastError},n.prototype.resetLastResults=function(){delete this.lastResult,delete this.lastResultSnapshot,delete this.lastError,this.isTornDown=!1},n.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},n.prototype.refetch=function(e){var t={pollInterval:0},n=this.options.fetchPolicy;return"no-cache"!==n&&"cache-and-network"!==n&&(t.fetchPolicy="network-only",t.nextFetchPolicy=n||"cache-first"),e&&!gi(this.options.variables,e)&&(t.variables=this.options.variables=r(r({},this.options.variables),e)),this.queryInfo.resetLastWrite(),this.newReobserver(!1).reobserve(t,ki.refetch)},n.prototype.fetchMore=function(e){var t=this,n=r(r({},e.query?e:r(r(r({},this.options),e),{variables:r(r({},this.options.variables),e.variables)})),{fetchPolicy:"no-cache"}),i=this.queryManager.generateQueryId();return n.notifyOnNetworkStatusChange&&(this.queryInfo.networkStatus=ki.fetchMore,this.observe()),this.queryManager.fetchQuery(i,n,ki.fetchMore).then((function(r){var i=r.data,o=e.updateQuery;return o?("production"===process.env.NODE_ENV||xi||("production"===process.env.NODE_ENV||Ar.warn("The updateQuery callback for fetchMore is deprecated, and will be removed\nin the next major version of Apollo Client.\n\nPlease convert updateQuery functions to field policies with appropriate\nread and merge functions, or use/adapt a helper function (such as\nconcatPagination, offsetLimitPagination, or relayStylePagination) from\n@apollo/client/utilities.\n\nThe field policy system handles pagination more effectively than a\nhand-written updateQuery function, and you only need to define the policy\nonce, rather than every time you call fetchMore."),xi=!0),t.updateQuery((function(e){return o(e,{fetchMoreResult:i,variables:n.variables})}))):t.queryManager.cache.writeQuery({query:n.query,variables:n.variables,data:i}),r})).finally((function(){t.queryManager.stopQuery(i),t.reobserve()}))},n.prototype.subscribeToMore=function(e){var t=this,r=this.queryManager.startGraphQLSubscription({query:e.document,variables:e.variables,context:e.context}).subscribe({next:function(r){var n=e.updateQuery;n&&t.updateQuery((function(e,t){var i=t.variables;return n(e,{subscriptionData:r,variables:i})}))},error:function(t){e.onError?e.onError(t):"production"===process.env.NODE_ENV||Ar.error("Unhandled GraphQL subscription error",t)}});return this.subscriptions.add(r),function(){t.subscriptions.delete(r)&&r.unsubscribe()}},n.prototype.setOptions=function(e){return this.reobserve(e)},n.prototype.setVariables=function(e){if(gi(this.variables,e))return this.observers.size?this.result():Promise.resolve();if(this.options.variables=e,!this.observers.size)return Promise.resolve();var t=this.options.fetchPolicy,r=void 0===t?"cache-first":t,n={fetchPolicy:r,variables:e};return"cache-first"!==r&&"no-cache"!==r&&"network-only"!==r&&(n.fetchPolicy="cache-and-network",n.nextFetchPolicy=r),this.reobserve(n,ki.setVariables)},n.prototype.updateQuery=function(e){var t,r=this.queryManager,n=e(r.cache.diff({query:this.options.query,variables:this.variables,previousResult:null===(t=this.lastResult)||void 0===t?void 0:t.data,returnPartialData:!0,optimistic:!1}).result,{variables:this.variables});n&&(r.cache.writeQuery({query:this.options.query,data:n,variables:this.variables}),r.broadcastQueries())},n.prototype.startPolling=function(e){this.getReobserver().updateOptions({pollInterval:e})},n.prototype.stopPolling=function(){this.reobserver&&this.reobserver.updateOptions({pollInterval:0})},n.prototype.updateLastResult=function(e){var t=this.lastResult;return this.lastResult=e,this.lastResultSnapshot=this.queryManager.assumeImmutableResults?e:Bn(e),Yn(e.errors)||delete this.lastError,t},n.prototype.onSubscribe=function(e){var t=this;if(e===this.observer)return function(){};try{var r=e._subscription._observer;r&&!r.error&&(r.error=Ai)}catch(e){}var n=!this.observers.size;return this.observers.add(e),this.lastError?e.error&&e.error(this.lastError):this.lastResult&&e.next&&e.next(this.lastResult),n&&this.reobserve().catch((function(e){})),function(){t.observers.delete(e)&&!t.observers.size&&t.tearDownQuery()}},n.prototype.getReobserver=function(){return this.reobserver||(this.reobserver=this.newReobserver(!0))},n.prototype.newReobserver=function(e){var t=this,n=this.queryManager,i=this.queryId;return n.setObservableQuery(this),new Ti(this.observer,e?this.options:r({},this.options),(function(e,r){return n.setObservableQuery(t),n.fetchQueryObservable(i,e,r)}),!n.ssrMode&&function(){return!Ci(t.queryInfo.networkStatus)})},n.prototype.reobserve=function(e,t){return this.isTornDown=!1,this.getReobserver().reobserve(e,t)},n.prototype.observe=function(){this.observer.next(this.getCurrentResult(!1))},n.prototype.hasObservers=function(){return this.observers.size>0},n.prototype.tearDownQuery=function(){this.isTornDown||(this.reobserver&&(this.reobserver.stop(),delete this.reobserver),this.subscriptions.forEach((function(e){return e.unsubscribe()})),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},n}(Ln);function Ai(e){"production"===process.env.NODE_ENV||Ar.error("Unhandled error",e.message,e.stack)}Hn(Ii);var Di=function(){return Object.create(null)},Pi=Array.prototype,Ri=Pi.forEach,Fi=Pi.slice,Mi=function(){function e(e,t){void 0===e&&(e=!0),void 0===t&&(t=Di),this.weakness=e,this.makeData=t}return e.prototype.lookup=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.lookupArray(e)},e.prototype.lookupArray=function(e){var t=this;return Ri.call(e,(function(e){return t=t.getChildTrie(e)})),t.data||(t.data=this.makeData(Fi.call(e)))},e.prototype.getChildTrie=function(t){var r=this.weakness&&function(e){switch(typeof e){case"object":if(null===e)break;case"function":return!0}return!1}(t)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),n=r.get(t);return n||r.set(t,n=new e(this.weakness,this.makeData)),n},e}();var Li=null,ji={},qi=1,Vi=Array,Bi=Vi["@wry/context:Slot"]||function(){var e=function(){function e(){this.id=["slot",qi++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return e.prototype.hasValue=function(){for(var e=Li;e;e=e.parent)if(this.id in e.slots){var t=e.slots[this.id];if(t===ji)break;return e!==Li&&(Li.slots[this.id]=t),!0}return Li&&(Li.slots[this.id]=ji),!1},e.prototype.getValue=function(){if(this.hasValue())return Li.slots[this.id]},e.prototype.withValue=function(e,t,r,n){var i,o=((i={__proto__:null})[this.id]=e,i),s=Li;Li={parent:s,slots:o};try{return t.apply(n,r)}finally{Li=s}},e.bind=function(e){var t=Li;return function(){var r=Li;try{return Li=t,e.apply(this,arguments)}finally{Li=r}}},e.noContext=function(e,t,r){if(!Li)return e.apply(r,t);var n=Li;try{return Li=null,e.apply(r,t)}finally{Li=n}},e}();try{Object.defineProperty(Vi,"@wry/context:Slot",{value:Vi["@wry/context:Slot"]=e,enumerable:!1,writable:!1,configurable:!1})}finally{return e}}();function Ui(){}Bi.bind,Bi.noContext;var Qi=function(){function e(e,t){void 0===e&&(e=1/0),void 0===t&&(t=Ui),this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}return e.prototype.has=function(e){return this.map.has(e)},e.prototype.get=function(e){var t=this.getNode(e);return t&&t.value},e.prototype.getNode=function(e){var t=this.map.get(e);if(t&&t!==this.newest){var r=t.older,n=t.newer;n&&(n.older=r),r&&(r.newer=n),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=n)}return t},e.prototype.set=function(e,t){var r=this.getNode(e);return r?r.value=t:(r={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=r),this.newest=r,this.oldest=this.oldest||r,this.map.set(e,r),r.value)},e.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},e.prototype.delete=function(e){var t=this.map.get(e);return!!t&&(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0)},e}(),Wi=new Bi;function Ki(e){var t=e.unsubscribe;"function"==typeof t&&(e.unsubscribe=void 0,t())}var zi=[];function $i(e,t){if(!e)throw new Error(t||"assertion failure")}function Hi(e){switch(e.length){case 0:throw new Error("unknown value");case 1:return e[0];case 2:throw e[1]}}var Ji=function(){function e(t){this.fn=t,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++e.count}return e.prototype.peek=function(){if(1===this.value.length&&!Yi(this))return this.value[0]},e.prototype.recompute=function(e){return $i(!this.recomputing,"already recomputing"),function(e){var t=Wi.getValue();if(t)e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,[]),Yi(e)?eo(t,e):to(t,e)}(this),Yi(this)?function(e,t){no(e),Wi.withValue(e,Gi,[e,t]),function(e,t){if("function"==typeof e.subscribe)try{Ki(e),e.unsubscribe=e.subscribe.apply(null,t)}catch(t){return e.setDirty(),!1}return!0}(e,t)&&function(e){if(e.dirty=!1,Yi(e))return;Zi(e)}(e);return Hi(e.value)}(this,e):Hi(this.value)},e.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,Xi(this),no(this),Ki(this))},e.prototype.dispose=function(){var e=this;no(this),Ki(this),this.parents.forEach((function(t){t.setDirty(),io(t,e)}))},e.prototype.dependOn=function(e){e.add(this),this.deps||(this.deps=zi.pop()||new Set),this.deps.add(e)},e.prototype.forgetDeps=function(){var e=this;this.deps&&(this.deps.forEach((function(t){return t.delete(e)})),this.deps.clear(),zi.push(this.deps),this.deps=null)},e.count=0,e}();function Gi(e,t){e.recomputing=!0,e.value.length=0;try{e.value[0]=e.fn.apply(null,t)}catch(t){e.value[1]=t}e.recomputing=!1}function Yi(e){return e.dirty||!(!e.dirtyChildren||!e.dirtyChildren.size)}function Xi(e){e.parents.forEach((function(t){return eo(t,e)}))}function Zi(e){e.parents.forEach((function(t){return to(t,e)}))}function eo(e,t){if($i(e.childValues.has(t)),$i(Yi(t)),e.dirtyChildren){if(e.dirtyChildren.has(t))return}else e.dirtyChildren=zi.pop()||new Set;e.dirtyChildren.add(t),Xi(e)}function to(e,t){$i(e.childValues.has(t)),$i(!Yi(t));var r,n,i,o=e.childValues.get(t);0===o.length?e.childValues.set(t,t.value.slice(0)):(r=o,n=t.value,(i=r.length)>0&&i===n.length&&r[i-1]===n[i-1]||e.setDirty()),ro(e,t),Yi(e)||Zi(e)}function ro(e,t){var r=e.dirtyChildren;r&&(r.delete(t),0===r.size&&(zi.length<100&&zi.push(r),e.dirtyChildren=null))}function no(e){e.childValues.size>0&&e.childValues.forEach((function(t,r){io(e,r)})),e.forgetDeps(),$i(null===e.dirtyChildren)}function io(e,t){t.parents.delete(e),e.childValues.delete(t),ro(e,t)}function oo(e){var t=new Map,r=e&&e.subscribe;function n(e){var n=Wi.getValue();if(n){var i=t.get(e);i||t.set(e,i=new Set),n.dependOn(i),"function"==typeof r&&(Ki(i),i.unsubscribe=r(e))}}return n.dirty=function(e){var r=t.get(e);r&&(r.forEach((function(e){return e.setDirty()})),t.delete(e),Ki(r))},n}var so=new Mi("function"==typeof WeakMap);function ao(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return so.lookupArray(e)}var co=new Set;function lo(e,t){void 0===t&&(t=Object.create(null));var r=new Qi(t.max||Math.pow(2,16),(function(e){return e.dispose()})),n=t.keyArgs,i=t.makeCacheKey||ao;function o(){var o=i.apply(null,n?n.apply(null,arguments):arguments);if(void 0===o)return e.apply(null,arguments);var s=r.get(o);s||(r.set(o,s=new Ji(e)),s.subscribe=t.subscribe);var a=s.recompute(Array.prototype.slice.call(arguments));return r.set(o,s),co.add(r),Wi.hasValue()||(co.forEach((function(e){return e.clean()})),co.clear()),a}function s(){var e=i.apply(null,arguments);if(void 0!==e)return r.get(e)}return o.dirty=function(){var e=s.apply(null,arguments);e&&e.setDirty()},o.peek=function(){var e=s.apply(null,arguments);if(e)return e.peek()},o.forget=function(){var e=i.apply(null,arguments);return void 0!==e&&r.delete(e)},o}var uo,ho=function(){function e(){this.getFragmentDoc=lo(qr)}return e.prototype.batch=function(e){var t="string"==typeof e.optimistic?e.optimistic:!1===e.optimistic?null:void 0;this.performTransaction(e.transaction,t)},e.prototype.recordOptimisticTransaction=function(e,t){this.performTransaction(e,t)},e.prototype.transformDocument=function(e){return e},e.prototype.identify=function(e){},e.prototype.gc=function(){return[]},e.prototype.modify=function(e){return!1},e.prototype.transformForLink=function(e){return e},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read({rootId:e.id||"ROOT_QUERY",query:e.query,variables:e.variables,returnPartialData:e.returnPartialData,optimistic:t})},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read({query:this.getFragmentDoc(e.fragment,e.fragmentName),variables:e.variables,rootId:e.id,returnPartialData:e.returnPartialData,optimistic:t})},e.prototype.writeQuery=function(e){var t=e.id,r=e.data,i=n(e,["id","data"]);return this.write(Object.assign(i,{dataId:t||"ROOT_QUERY",result:r}))},e.prototype.writeFragment=function(e){var t=e.id,r=e.data,i=e.fragment,o=e.fragmentName,s=n(e,["id","data","fragment","fragmentName"]);return this.write(Object.assign(s,{query:this.getFragmentDoc(i,o),dataId:t,result:r}))},e}(),po=function(e,t,r,n,i){this.message=e,this.path=t,this.query=r,this.clientOnly=n,this.variables=i},fo=(uo=Object.prototype).hasOwnProperty,vo=uo.toString;var yo=/^[_a-z][_0-9a-z]*/i;function mo(e){var t=e.match(yo);return t?t[0]:e}function bo(e,t,r){return!(!t||"object"!=typeof t)&&(Array.isArray(t)?t.every((function(t){return bo(e,t,r)})):e.selections.every((function(e){if(Gr(e)&&Mr(e,r)){var n=Hr(e);return fo.call(t,n)&&(!e.selectionSet||bo(e.selectionSet,t[n],r))}return!0})))}function go(e){return null!==e&&"object"==typeof e&&!Qr(e)&&!Array.isArray(e)}var _o=Object.create(null),wo=function(){return _o},Eo=Object.create(null),So=function(){function e(e,t){var r=this;this.policies=e,this.group=t,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(e,t){return Kn(Qr(e)?r.get(e.__ref,t):e&&e[t])},this.canRead=function(e){return Qr(e)?r.has(e.__ref):"object"==typeof e},this.toReference=function(e,t){if("string"==typeof e)return Ur(e);if(Qr(e))return e;var n=r.policies.identify(e)[0];if(n){var i=Ur(n);return t&&r.merge(n,e),i}}}return e.prototype.toObject=function(){return r({},this.data)},e.prototype.has=function(e){return void 0!==this.lookup(e,!0)},e.prototype.get=function(e,t){if(this.group.depend(e,t),fo.call(this.data,e)){var r=this.data[e];if(r&&fo.call(r,t))return r[t]}return"__typename"===t&&fo.call(this.policies.rootTypenamesById,e)?this.policies.rootTypenamesById[e]:this instanceof Oo?this.parent.get(e,t):void 0},e.prototype.lookup=function(e,t){return t&&this.group.depend(e,"__exists"),fo.call(this.data,e)?this.data[e]:this instanceof Oo?this.parent.lookup(e,t):this.policies.rootTypenamesById[e]?Object.create(null):void 0},e.prototype.merge=function(e,t){var r,n=this,i="string"==typeof e?this.lookup(r=e):e,o="string"==typeof t?this.lookup(r=t):t;if(o){"production"===process.env.NODE_ENV?Fr("string"==typeof r,1):Fr("string"==typeof r,"store.merge expects a string ID");var s=new _n(To).merge(i,o);if(this.data[r]=s,s!==i&&(delete this.refs[r],this.group.caching)){var a=Object.create(null);i||(a.__exists=1),Object.keys(o).forEach((function(e){if(!i||i[e]!==s[e]){a[e]=1;var t=mo(e);t===e||n.policies.hasKeyArgs(s.__typename,t)||(a[t]=1),void 0!==s[e]||n instanceof Oo||delete s[e]}})),!a.__typename||i&&i.__typename||this.policies.rootTypenamesById[r]!==s.__typename||delete a.__typename,Object.keys(a).forEach((function(e){return n.group.dirty(r,e)}))}}},e.prototype.modify=function(e,t){var n=this,i=this.lookup(e);if(i){var o=Object.create(null),s=!1,a=!0,c={DELETE:_o,INVALIDATE:Eo,isReference:Qr,toReference:this.toReference,canRead:this.canRead,readField:function(t,r){return n.policies.readField("string"==typeof t?{fieldName:t,from:r||Ur(e)}:t,{store:n})}};if(Object.keys(i).forEach((function(l){var u=mo(l),h=i[l];if(void 0!==h){var d="function"==typeof t?t:t[l]||t[u];if(d){var p=d===wo?_o:d(Kn(h),r(r({},c),{fieldName:u,storeFieldName:l,storage:n.getStorage(e,l)}));p===Eo?n.group.dirty(e,l):(p===_o&&(p=void 0),p!==h&&(o[l]=p,s=!0,h=p))}void 0!==h&&(a=!1)}})),s)return this.merge(e,o),a&&(this instanceof Oo?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1},e.prototype.delete=function(e,t,r){var n,i=this.lookup(e);if(i){var o=this.getFieldValue(i,"__typename"),s=t&&r?this.policies.getStoreFieldName({typename:o,fieldName:t,args:r}):t;return this.modify(e,s?((n={})[s]=wo,n):wo)}return!1},e.prototype.evict=function(e){var t=!1;return e.id&&(fo.call(this.data,e.id)&&(t=this.delete(e.id,e.fieldName,e.args)),this instanceof Oo&&(t=this.parent.evict(e)||t),(e.fieldName||t)&&this.group.dirty(e.id,e.fieldName||"__exists")),t},e.prototype.clear=function(){this.replace(null)},e.prototype.extract=function(){var e=this,t=this.toObject(),r=[];return this.getRootIdSet().forEach((function(t){fo.call(e.policies.rootTypenamesById,t)||r.push(t)})),r.length&&(t.__META={extraRootIds:r.sort()}),t},e.prototype.replace=function(e){var t=this;if(Object.keys(this.data).forEach((function(r){e&&fo.call(e,r)||t.delete(r)})),e){var r=e.__META,i=n(e,["__META"]);Object.keys(i).forEach((function(e){t.merge(e,i[e])})),r&&r.extraRootIds.forEach(this.retain,this)}},e.prototype.retain=function(e){return this.rootIds[e]=(this.rootIds[e]||0)+1},e.prototype.release=function(e){if(this.rootIds[e]>0){var t=--this.rootIds[e];return t||delete this.rootIds[e],t}return 0},e.prototype.getRootIdSet=function(e){return void 0===e&&(e=new Set),Object.keys(this.rootIds).forEach(e.add,e),this instanceof Oo?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e},e.prototype.gc=function(){var e=this,t=this.getRootIdSet(),r=this.toObject();t.forEach((function(n){fo.call(r,n)&&(Object.keys(e.findChildRefIds(n)).forEach(t.add,t),delete r[n])}));var n=Object.keys(r);if(n.length){for(var i=this;i instanceof Oo;)i=i.parent;n.forEach((function(e){return i.delete(e)}))}return n},e.prototype.findChildRefIds=function(e){if(!fo.call(this.refs,e)){var t=this.refs[e]=Object.create(null),r=new Set([this.data[e]]),n=function(e){return null!==e&&"object"==typeof e};r.forEach((function(e){Qr(e)?t[e.__ref]=!0:n(e)&&Object.values(e).filter(n).forEach(r.add,r)}))}return this.refs[e]},e.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},e}(),No=function(){function e(e,t){void 0===t&&(t=null),this.caching=e,this.parent=t,this.d=null,this.keyMaker=new Mi(Zn),this.d=e?oo():null}return e.prototype.depend=function(e,t){if(this.d){this.d(ko(e,t));var r=mo(t);r!==t&&this.d(ko(e,r)),this.parent&&this.parent.depend(e,t)}},e.prototype.dirty=function(e,t){this.d&&this.d.dirty(ko(e,t))},e}();function ko(e,t){return t+"#"+e}!function(e){var r=function(e){function r(t){var r=t.policies,n=t.resultCaching,i=void 0===n||n,o=t.seed,s=e.call(this,r,new No(i))||this;return s.stump=new Co(s),s.storageTrie=new Mi(Zn),o&&s.replace(o),s}return t(r,e),r.prototype.addLayer=function(e,t){return this.stump.addLayer(e,t)},r.prototype.removeLayer=function(){return this},r.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},r}(e);e.Root=r}(So||(So={}));var Oo=function(e){function n(t,r,n,i){var o=e.call(this,r.policies,i)||this;return o.id=t,o.parent=r,o.replay=n,o.group=i,n(o),o}return t(n,e),n.prototype.addLayer=function(e,t){return new n(e,this,t,this.group)},n.prototype.removeLayer=function(e){var t=this,r=this.parent.removeLayer(e);return e===this.id?(this.group.caching&&Object.keys(this.data).forEach((function(e){t.data[e]!==r.lookup(e)&&t.delete(e)})),r):r===this.parent?this:r.addLayer(this.id,this.replay)},n.prototype.toObject=function(){return r(r({},this.parent.toObject()),this.data)},n.prototype.findChildRefIds=function(t){var n=this.parent.findChildRefIds(t);return fo.call(this.data,t)?r(r({},n),e.prototype.findChildRefIds.call(this,t)):n},n.prototype.getStorage=function(){for(var e=this.parent;e.parent;)e=e.parent;return e.getStorage.apply(e,arguments)},n}(So),Co=function(e){function r(t){return e.call(this,"EntityStore.Stump",t,(function(){}),new No(t.group.caching,t.group))||this}return t(r,e),r.prototype.removeLayer=function(){return this},r.prototype.merge=function(){return this.parent.merge.apply(this.parent,arguments)},r}(Oo);function To(e,t,r){var n=e[r],i=t[r];return gi(n,i)?n:i}function xo(e){return!!(e instanceof So&&e.group.caching)}var Io=function(e){this.value=e};function Ao(e){return!!e&&"object"==typeof e}var Do=function(){function e(){this.known=new(Zn?WeakSet:Set),this.pool=new Mi(Zn),this.keysByJSON=new Map,this.empty=this.admit({})}return e.prototype.pass=function(e){return Ao(e)?new Io(e):e},e.prototype.admit=function(e){var t=this;if(Ao(e)){if(e instanceof Io)return e.value;switch(vo.call(e)){case"[object Array]":if(this.known.has(e))return e;var r=e.map(this.admit,this);return(s=this.pool.lookupArray(r)).array||(this.known.add(s.array=r),"production"!==process.env.NODE_ENV&&Object.freeze(r)),s.array;case"[object Object]":if(this.known.has(e))return e;var n=Object.getPrototypeOf(e),i=[n],o=this.sortedKeys(e);i.push(o.json);var s,a=i.length;if(o.sorted.forEach((function(r){i.push(t.admit(e[r]))})),!(s=this.pool.lookupArray(i)).object){var c=s.object=Object.create(n);this.known.add(c),o.sorted.forEach((function(e,t){c[e]=i[a+t]})),"production"!==process.env.NODE_ENV&&Object.freeze(c)}return s.object}}return e},e.prototype.sortedKeys=function(e){var t=Object.keys(e),r=this.pool.lookupArray(t);if(!r.keys){t.sort();var n=JSON.stringify(t);(r.keys=this.keysByJSON.get(n))||this.keysByJSON.set(n,r.keys={sorted:t,json:n})}return r.keys},e}();function Po(e,t){return new po(e.message,t.path.slice(),t.query,t.clientOnly,t.variables)}var Ro=function(){function e(e){var t=this;this.config=e,this.canon=new Do,this.knownResults=new WeakMap,this.config=r({addTypename:!0},e),this.executeSelectionSet=lo((function(e){return t.execSelectionSetImpl(e)}),{keyArgs:function(e){return[e.selectionSet,e.objectOrReference,e.context]},max:this.config.resultCacheMaxSize,makeCacheKey:function(e,t,r){if(xo(r.store))return r.store.makeCacheKey(e,Qr(t)?t.__ref:t,r.varString)}}),this.executeSubSelectedArray=lo((function(e){return t.execSubSelectedArrayImpl(e)}),{max:this.config.resultCacheMaxSize,makeCacheKey:function(e){var t=e.field,r=e.array,n=e.context;if(xo(n.store))return n.store.makeCacheKey(t,r,n.varString)}})}return e.prototype.diffQueryAgainstStore=function(e){var t,n=e.store,i=e.query,o=e.rootId,s=void 0===o?"ROOT_QUERY":o,a=e.variables,c=e.returnPartialData,l=void 0===c||c,u=this.config.cache.policies;a=r(r({},nn((t=Zr(i),"production"===process.env.NODE_ENV?Ar(t&&"query"===t.operation,49):Ar(t&&"query"===t.operation,"Must contain a query definition."),t))),a);var h=this.executeSelectionSet({selectionSet:rn(i).selectionSet,objectOrReference:Ur(s),context:{store:n,query:i,policies:u,variables:a,varString:JSON.stringify(a),fragmentMap:Vr(tn(i)),path:[],clientOnly:!1}}),d=h.missing&&h.missing.length>0;if(d&&!l)throw h.missing[0];return{result:h.result,missing:h.missing,complete:!d}},e.prototype.isFresh=function(e,t,r,n){if(xo(n.store)&&this.knownResults.get(e)===r){var i=this.executeSelectionSet.peek(r,t,n);if(i&&e===i.result)return!0}return!1},e.prototype.execSelectionSetImpl=function(e){var t=this,r=e.selectionSet,n=e.objectOrReference,i=e.context;if(Qr(n)&&!i.policies.rootTypenamesById[n.__ref]&&!i.store.has(n.__ref))return{result:this.canon.empty,missing:[Po("production"===process.env.NODE_ENV?new Ir(5):new Ir("Dangling reference to missing "+n.__ref+" object"),i)]};var o=i.variables,s=i.policies,a=i.store,c=[],l={result:null},u=a.getFieldValue(n,"__typename");function h(){return l.missing||(l.missing=[])}function d(e){var t;return e.missing&&(t=h()).push.apply(t,e.missing),e.result}this.config.addTypename&&"string"==typeof u&&!s.rootIdsByTypename[u]&&c.push({__typename:u});var p=new Set(r.selections);return p.forEach((function(e){var r;if(Mr(e,o))if(Gr(e)){var a=s.readField({fieldName:e.name.value,field:e,variables:i.variables,from:n},i),l=Hr(e);i.path.push(l);var f=i.clientOnly;i.clientOnly=f||!(!e.directives||!e.directives.some((function(e){return"client"===e.name.value}))),void 0===a?hn.added(e)||h().push(Po("production"===process.env.NODE_ENV?new Ir(6):new Ir("Can't find field '"+e.name.value+"' on "+(Qr(n)?n.__ref+" object":"object "+JSON.stringify(n,null,2))),i)):Array.isArray(a)?a=d(t.executeSubSelectedArray({field:e,array:a,context:i})):e.selectionSet?null!=a&&(a=d(t.executeSelectionSet({selectionSet:e.selectionSet,objectOrReference:a,context:i}))):a=t.canon.pass(a),void 0!==a&&c.push(((r={})[l]=a,r)),i.clientOnly=f,Ar(i.path.pop()===l)}else{var v=Br(e,i.fragmentMap);v&&s.fragmentMatches(v,u)&&v.selectionSet.selections.forEach(p.add,p)}})),l.result=this.canon.admit(mn(c)),this.knownResults.set(l.result,r),l},e.prototype.execSubSelectedArrayImpl=function(e){var t,r=this,n=e.field,i=e.array,o=e.context;function s(e,r){return e.missing&&(t=t||[]).push.apply(t,e.missing),Ar(o.path.pop()===r),e.result}return n.selectionSet&&(i=i.filter(o.store.canRead)),{result:i=this.canon.admit(i.map((function(e,t){return null===e?null:(o.path.push(t),Array.isArray(e)?s(r.executeSubSelectedArray({field:n,array:e,context:o}),t):n.selectionSet?s(r.executeSelectionSet({selectionSet:n.selectionSet,objectOrReference:e,context:o}),t):("production"!==process.env.NODE_ENV&&function(e,t,r){if(!t.selectionSet){var n=new Set([r]);n.forEach((function(r){r&&"object"==typeof r&&("production"===process.env.NODE_ENV?Ar(!Qr(r),7):Ar(!Qr(r),"Missing selection set for object of type "+function(e,t){return Qr(t)?e.get(t.__ref,"__typename"):t&&t.__typename}(e,r)+" returned for query field "+t.name.value),Object.values(r).forEach(n.add,n))}))}}(o.store,n,e),Ar(o.path.pop()===t),e))}))),missing:t}},e}();var Fo=function(){function e(e,t){this.cache=e,this.reader=t}return e.prototype.writeToStore=function(e,t){var n=t.query,i=t.result,o=t.dataId,s=t.variables,a=t.overwrite,c=Zr(n),l=new _n;s=r(r({},nn(c)),s);var u=this.processSelectionSet({result:i||Object.create(null),dataId:o,selectionSet:c.selectionSet,mergeTree:{map:new Map},context:{store:e,written:Object.create(null),merge:function(e,t){return l.merge(e,t)},variables:s,varString:JSON.stringify(s),fragmentMap:Vr(tn(n)),overwrite:!!a}});if(!Qr(u))throw"production"===process.env.NODE_ENV?new Ir(8):new Ir("Could not identify object "+JSON.stringify(i));return e.retain(u.__ref),u},e.prototype.processSelectionSet=function(e){var t=this,r=e.dataId,n=e.result,i=e.selectionSet,o=e.context,s=e.mergeTree,a=this.cache.policies,c=a.identify(n,i,o.fragmentMap),l=c[0],u=c[1];if("string"==typeof(r=r||l)){var h=o.written[r]||(o.written[r]=[]),d=Ur(r);if(h.indexOf(i)>=0)return d;if(h.push(i),this.reader&&this.reader.isFresh(n,d,i,o))return d}var p=Object.create(null);u&&(p=o.merge(p,u));var f=r&&a.rootTypenamesById[r]||Jr(n,i,o.fragmentMap)||r&&o.store.get(r,"__typename");"string"==typeof f&&(p.__typename=f);var v=new Set(i.selections);if(v.forEach((function(e){var r;if(Mr(e,o.variables))if(Gr(e)){var i=Hr(e),c=n[i];if(void 0!==c){var l=a.getStoreFieldName({typename:f,fieldName:e.name.value,field:e,variables:o.variables}),u=Lo(s,l),h=t.processFieldValue(c,e,o,u),d=e.selectionSet&&o.store.getFieldValue(h,"__typename")||void 0,y=a.getMergeFunction(f,e.name.value,d);y?u.info={field:e,typename:f,merge:y}:jo(s,l),p=o.merge(p,((r={})[l]=h,r))}else if(a.usingPossibleTypes&&!Lr(["defer","client"],e))throw"production"===process.env.NODE_ENV?new Ir(9):new Ir("Missing field '"+i+"' in "+JSON.stringify(n,null,2).substring(0,100))}else{var m=Br(e,o.fragmentMap);m&&a.fragmentMatches(m,f,n,o.variables)&&m.selectionSet.selections.forEach(v.add,v)}})),"string"==typeof r){var y=Ur(r);if(s.map.size&&(p=this.applyMerges(s,y,p,o)),"production"!==process.env.NODE_ENV&&!o.overwrite){var m=new Set;v.forEach((function(e){Gr(e)&&e.selectionSet&&m.add(e.name.value)}));Object.keys(p).forEach((function(e){(function(e){return m.has(mo(e))})(e)&&!function(e){var t=s.map.get(e);return Boolean(t&&t.info&&t.info.merge)}(e)&&function(e,t,r,n){var i=function(e){var t=n.getFieldValue(e,r);return"object"==typeof t&&t},o=i(e);if(!o)return;var s=i(t);if(!s)return;if(Qr(o))return;if(gi(o,s))return;if(Object.keys(o).every((function(e){return void 0!==n.getFieldValue(s,e)})))return;var a=n.getFieldValue(e,"__typename")||n.getFieldValue(t,"__typename"),c=mo(r),l=a+"."+c;if(qo.has(l))return;qo.add(l);var u=[];Array.isArray(o)||Array.isArray(s)||[o,s].forEach((function(e){var t=n.getFieldValue(e,"__typename");"string"!=typeof t||u.includes(t)||u.push(t)}));"production"===process.env.NODE_ENV||Ar.warn("Cache data may be lost when replacing the "+c+" field of a "+a+" object.\n\nTo address this problem (which is not a bug in Apollo Client), "+(u.length?"either ensure all objects of type "+u.join(" and ")+" have an ID or a custom merge function, or ":"")+"define a custom merge function for the "+l+" field, so InMemoryCache can safely merge these objects:\n\n  existing: "+JSON.stringify(o).slice(0,1e3)+"\n  incoming: "+JSON.stringify(s).slice(0,1e3)+"\n\nFor more information about these options, please refer to the documentation:\n\n  * Ensuring entity objects have IDs: https://go.apollo.dev/c/generating-unique-identifiers\n  * Defining custom merge functions: https://go.apollo.dev/c/merging-non-normalized-objects\n")}(y,p,e,o.store)}))}return o.store.merge(r,p),y}return p},e.prototype.processFieldValue=function(e,t,r,n){var i=this;return t.selectionSet&&null!==e?Array.isArray(e)?e.map((function(e,o){var s=i.processFieldValue(e,t,r,Lo(n,o));return jo(n,o),s})):this.processSelectionSet({result:e,selectionSet:t.selectionSet,context:r,mergeTree:n}):"production"===process.env.NODE_ENV?e:Bn(e)},e.prototype.applyMerges=function(e,t,n,i,o){var s,a=this;if(e.map.size&&!Qr(n)){var c,l=Array.isArray(n)||!Qr(t)&&!go(t)?void 0:t,u=n;l&&!o&&(o=[Qr(l)?l.__ref:l]);var h=function(e,t){return Array.isArray(e)?"number"==typeof t?e[t]:void 0:i.store.getFieldValue(e,String(t))};e.map.forEach((function(e,t){o&&o.push(t);var r=h(l,t),n=h(u,t),s=a.applyMerges(e,r,n,i,o);s!==n&&(c=c||new Map).set(t,s),o&&Ar(o.pop()===t)})),c&&(n=Array.isArray(u)?u.slice(0):r({},u),c.forEach((function(e,t){n[t]=e})))}return e.info?this.cache.policies.runMergeFunction(t,n,e.info,i,o&&(s=i.store).getStorage.apply(s,o)):n},e}(),Mo=[];function Lo(e,t){var r=e.map;return r.has(t)||r.set(t,Mo.pop()||{map:new Map}),r.get(t)}function jo(e,t){var r=e.map,n=r.get(t);!n||n.info||n.map.size||(Mo.push(n),r.delete(t))}var qo=new Set;var Vo=new Bi,Bo=new WeakMap;function Uo(e){var t=Bo.get(e);return t||Bo.set(e,t={vars:new Set,dep:oo()}),t}function Qo(e){var t=new Set,r=new Set,n=function(o){if(arguments.length>0){if(e!==o){e=o,t.forEach((function(e){Uo(e).dep.dirty(n),Wo(e)}));var s=Array.from(r);r.clear(),s.forEach((function(t){return t(e)}))}}else{var a=Vo.getValue();a&&(i(a),Uo(a).dep(n))}return e};n.onNextChange=function(e){return r.add(e),function(){r.delete(e)}};var i=n.attachCache=function(e){return t.add(e),Uo(e).vars.add(n),n};return n.forgetCache=function(e){return t.delete(e)},n}function Wo(e){e.broadcastWatches&&e.broadcastWatches()}function Ko(e){return void 0!==e.args?e.args:e.field?$r(e.field,e.variables):null}var zo=function(e,t){var r=e.__typename,n=e.id,i=e._id;if("string"==typeof r&&(t&&(t.keyObject=void 0!==n?{id:n}:void 0!==i?{_id:i}:void 0),void 0===n&&(n=i),void 0!==n))return r+":"+("number"==typeof n||"string"==typeof n?n:JSON.stringify(n))},$o=function(){},Ho=function(e,t){return t.fieldName},Jo=function(e,t,r){return(0,r.mergeObjects)(e,t)},Go=function(e,t){return t},Yo=function(){function e(e){this.config=e,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=r({dataIdFromObject:zo},e),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}return e.prototype.identify=function(e,t,r){var n=t&&r?Jr(e,t,r):e.__typename;if(n===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var i,o={typename:n,selectionSet:t,fragmentMap:r},s=n&&this.getTypePolicy(n),a=s&&s.keyFn||this.config.dataIdFromObject;a;){var c=a(e,o);if(!Array.isArray(c)){i=c;break}a=ts(c)}return i=i?String(i):void 0,o.keyObject?[i,o.keyObject]:[i]},e.prototype.addTypePolicies=function(e){var t=this;Object.keys(e).forEach((function(r){var i=e[r],o=i.queryType,s=i.mutationType,a=i.subscriptionType,c=n(i,["queryType","mutationType","subscriptionType"]);o&&t.setRootTypename("Query",r),s&&t.setRootTypename("Mutation",r),a&&t.setRootTypename("Subscription",r),fo.call(t.toBeAdded,r)?t.toBeAdded[r].push(c):t.toBeAdded[r]=[c]}))},e.prototype.updateTypePolicy=function(e,t){var r=this,n=this.getTypePolicy(e),i=t.keyFields,o=t.fields;function s(e,t){e.merge="function"==typeof t?t:!0===t?Jo:!1===t?Go:e.merge}s(n,t.merge),n.keyFn=!1===i?$o:Array.isArray(i)?ts(i):"function"==typeof i?i:n.keyFn,o&&Object.keys(o).forEach((function(t){var n=r.getFieldPolicy(e,t,!0),i=o[t];if("function"==typeof i)n.read=i;else{var a=i.keyArgs,c=i.read,l=i.merge;n.keyFn=!1===a?Ho:Array.isArray(a)?es(a):"function"==typeof a?a:n.keyFn,"function"==typeof c&&(n.read=c),s(n,l)}n.read&&n.merge&&(n.keyFn=n.keyFn||Ho)}))},e.prototype.setRootTypename=function(e,t){void 0===t&&(t=e);var r="ROOT_"+e.toUpperCase(),n=this.rootTypenamesById[r];t!==n&&("production"===process.env.NODE_ENV?Ar(!n||n===e,2):Ar(!n||n===e,"Cannot change root "+e+" __typename more than once"),n&&delete this.rootIdsByTypename[n],this.rootIdsByTypename[t]=r,this.rootTypenamesById[r]=t)},e.prototype.addPossibleTypes=function(e){var t=this;this.usingPossibleTypes=!0,Object.keys(e).forEach((function(r){t.getSupertypeSet(r,!0),e[r].forEach((function(e){t.getSupertypeSet(e,!0).add(r);var n=e.match(yo);n&&n[0]===e||t.fuzzySubtypes.set(e,new RegExp(e))}))}))},e.prototype.getTypePolicy=function(e){var t=this;if(!fo.call(this.typePolicies,e)){var r=this.typePolicies[e]=Object.create(null);r.fields=Object.create(null);var i=this.supertypeMap.get(e);i&&i.size&&i.forEach((function(e){var i=t.getTypePolicy(e),o=i.fields,s=n(i,["fields"]);Object.assign(r,s),Object.assign(r.fields,o)}))}var o=this.toBeAdded[e];return o&&o.length&&this.updateTypePolicy(e,ei.apply(void 0,o.splice(0))),this.typePolicies[e]},e.prototype.getFieldPolicy=function(e,t,r){if(e){var n=this.getTypePolicy(e).fields;return n[t]||r&&(n[t]=Object.create(null))}},e.prototype.getSupertypeSet=function(e,t){var r=this.supertypeMap.get(e);return!r&&t&&this.supertypeMap.set(e,r=new Set),r},e.prototype.fragmentMatches=function(e,t,r,n){var i=this;if(!e.typeCondition)return!0;if(!t)return!1;var o=e.typeCondition.name.value;if(t===o)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(o))for(var s=this.getSupertypeSet(t,!0),a=[s],c=function(e){var t=i.getSupertypeSet(e,!1);t&&t.size&&a.indexOf(t)<0&&a.push(t)},l=!(!r||!this.fuzzySubtypes.size),u=!1,h=0;h<a.length;++h){var d=a[h];if(d.has(o))return s.has(o)||(u&&("production"===process.env.NODE_ENV||Ar.warn("Inferring subtype "+t+" of supertype "+o)),s.add(o)),!0;d.forEach(c),l&&h===a.length-1&&bo(e.selectionSet,r,n)&&(l=!1,u=!0,this.fuzzySubtypes.forEach((function(e,r){var n=t.match(e);n&&n[0]===t&&c(r)})))}return!1},e.prototype.hasKeyArgs=function(e,t){var r=this.getFieldPolicy(e,t,!1);return!(!r||!r.keyFn)},e.prototype.getStoreFieldName=function(e){var t,r=e.typename,n=e.fieldName,i=this.getFieldPolicy(r,n,!1),o=i&&i.keyFn;if(o&&r)for(var s={typename:r,fieldName:n,field:e.field||null,variables:e.variables},a=Ko(e);o;){var c=o(a,s);if(!Array.isArray(c)){t=c||n;break}o=es(c)}return void 0===t&&(t=e.field?function(e,t){var r=null;e.directives&&(r={},e.directives.forEach((function(e){r[e.name.value]={},e.arguments&&e.arguments.forEach((function(n){var i=n.name,o=n.value;return Wr(r[e.name.value],i,o,t)}))})));var n=null;return e.arguments&&e.arguments.length&&(n={},e.arguments.forEach((function(e){var r=e.name,i=e.value;return Wr(n,r,i,t)}))),zr(e.name.value,n,r)}(e.field,e.variables):zr(n,Ko(e))),!1===t?n:n===mo(t)?t:n+":"+t},e.prototype.readField=function(e,t){var r=e.from;if(r&&(e.field||e.fieldName)){if(void 0===e.typename){var n=t.store.getFieldValue(r,"__typename");n&&(e.typename=n)}var i=this.getStoreFieldName(e),o=mo(i),s=t.store.getFieldValue(r,i),a=this.getFieldPolicy(e.typename,o,!1),c=a&&a.read;if(c){var l=Xo(this,r,e,t,t.store.getStorage(Qr(r)?r.__ref:r,i));return Vo.withValue(this.cache,c,[s,l])}return s}},e.prototype.getMergeFunction=function(e,t,r){var n=this.getFieldPolicy(e,t,!1),i=n&&n.merge;return!i&&r&&(i=(n=this.getTypePolicy(r))&&n.merge),i},e.prototype.runMergeFunction=function(e,t,r,n,i){var o=r.field,s=r.typename,a=r.merge;return a===Jo?Zo(n.store)(e,t):a===Go?t:(n.overwrite&&(e=void 0),a(e,t,Xo(this,void 0,{typename:s,fieldName:o.name.value,field:o,variables:n.variables},n,i||Object.create(null))))},e}();function Xo(e,t,n,i,o){var s=e.getStoreFieldName(n),a=mo(s),c=n.variables||i.variables,l=i.store,u=l.toReference,h=l.canRead;return{args:Ko(n),field:n.field||null,fieldName:a,storeFieldName:s,variables:c,isReference:Qr,toReference:u,storage:o,cache:e.cache,canRead:h,readField:function(n,o){var s="string"==typeof n?{fieldName:n,from:o}:r({},n);return void 0===s.from&&(s.from=t),void 0===s.variables&&(s.variables=c),e.readField(s,i)},mergeObjects:Zo(i.store)}}function Zo(e){return function(t,n){if(Array.isArray(t)||Array.isArray(n))throw"production"===process.env.NODE_ENV?new Ir(3):new Ir("Cannot automatically merge arrays");if(t&&"object"==typeof t&&n&&"object"==typeof n){var i=e.getFieldValue(t,"__typename"),o=e.getFieldValue(n,"__typename");if(i&&o&&i!==o)return n;if(Qr(t)&&go(n))return e.merge(t.__ref,n),t;if(go(t)&&Qr(n))return e.merge(t,n.__ref),n;if(go(t)&&go(n))return r(r({},t),n)}return n}}function es(e){return function(t,r){return t?r.fieldName+":"+JSON.stringify(ns(t,e,!1)):r.fieldName}}function ts(e){var t=new Mi(Zn);return function(r,n){var i;if(n.selectionSet&&n.fragmentMap){var o=t.lookupArray([n.selectionSet,n.fragmentMap]);i=o.aliasMap||(o.aliasMap=rs(n.selectionSet,n.fragmentMap))}var s=n.keyObject=ns(r,e,!0,i);return n.typename+":"+JSON.stringify(s)}}function rs(e,t){var r=Object.create(null),n=new Set([e]);return n.forEach((function(e){e.selections.forEach((function(e){if(Gr(e)){if(e.alias){var i=e.alias.value,o=e.name.value;if(o!==i)(r.aliases||(r.aliases=Object.create(null)))[o]=i}if(e.selectionSet)(r.subsets||(r.subsets=Object.create(null)))[e.name.value]=rs(e.selectionSet,t)}else{var s=Br(e,t);s&&n.add(s.selectionSet)}}))})),r}function ns(e,t,r,n){var i,o=Object.create(null);return t.forEach((function(t){if(Array.isArray(t)){if("string"==typeof i){var s=n&&n.subsets,a=s&&s[i];o[i]=ns(e[i],t,r,a)}}else{var c=n&&n.aliases,l=c&&c[t]||t;fo.call(e,l)?o[i=t]=e[l]:("production"===process.env.NODE_ENV?Ar(!r,4):Ar(!r,"Missing field '"+l+"' while computing key fields"),i=void 0)}})),o}var is={dataIdFromObject:zo,addTypename:!0,resultCaching:!0,typePolicies:{}},os=function(e){function n(t){void 0===t&&(t={});var n=e.call(this)||this;return n.watches=new Set,n.typenameDocumentCache=new Map,n.makeVar=Qo,n.txCount=0,n.config=r(r({},is),t),n.addTypename=!!n.config.addTypename,n.policies=new Yo({cache:n,dataIdFromObject:n.config.dataIdFromObject,possibleTypes:n.config.possibleTypes,typePolicies:n.config.typePolicies}),n.init(),n}return t(n,e),n.prototype.init=function(){var e=this,t=this.data=new So.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=t.stump,this.storeWriter=new Fo(this,this.storeReader=new Ro({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize})),this.maybeBroadcastWatch=lo((function(t,r){return e.broadcastWatch(t,r)}),{max:this.config.resultCacheMaxSize,makeCacheKey:function(t){var r=t.optimistic?e.optimisticData:e.data;if(xo(r)){var n=t.optimistic,i=t.rootId,o=t.variables;return r.makeCacheKey(t.query,t.callback,JSON.stringify({optimistic:n,rootId:i,variables:o}))}}})},n.prototype.restore=function(e){return e&&this.data.replace(e),this},n.prototype.extract=function(e){return void 0===e&&(e=!1),(e?this.optimisticData:this.data).extract()},n.prototype.read=function(e){var t=e.returnPartialData,r=void 0!==t&&t;try{return this.storeReader.diffQueryAgainstStore({store:e.optimistic?this.optimisticData:this.data,query:e.query,variables:e.variables,rootId:e.rootId,config:this.config,returnPartialData:r}).result||null}catch(e){if(e instanceof po)return null;throw e}},n.prototype.write=function(e){try{return++this.txCount,this.storeWriter.writeToStore(this.data,e)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},n.prototype.modify=function(e){if(fo.call(e,"id")&&!e.id)return!1;var t=e.optimistic?this.optimisticData:this.data;try{return++this.txCount,t.modify(e.id||"ROOT_QUERY",e.fields)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},n.prototype.diff=function(e){return this.storeReader.diffQueryAgainstStore({store:e.optimistic?this.optimisticData:this.data,rootId:e.id||"ROOT_QUERY",query:e.query,variables:e.variables,returnPartialData:e.returnPartialData,config:this.config})},n.prototype.watch=function(e){var t=this;return this.watches.size||function(e){Uo(e).vars.forEach((function(t){return t.attachCache(e)}))}(this),this.watches.add(e),e.immediate&&this.maybeBroadcastWatch(e),function(){t.watches.delete(e)&&!t.watches.size&&function(e){Uo(e).vars.forEach((function(t){return t.forgetCache(e)}))}(t),t.maybeBroadcastWatch.forget(e)}},n.prototype.gc=function(){return this.optimisticData.gc()},n.prototype.retain=function(e,t){return(t?this.optimisticData:this.data).retain(e)},n.prototype.release=function(e,t){return(t?this.optimisticData:this.data).release(e)},n.prototype.identify=function(e){return Qr(e)?e.__ref:this.policies.identify(e)[0]},n.prototype.evict=function(e){if(!e.id){if(fo.call(e,"id"))return!1;e=r(r({},e),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(e)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},n.prototype.reset=function(){return this.init(),this.broadcastWatches(),Promise.resolve()},n.prototype.removeOptimistic=function(e){var t=this.optimisticData.removeLayer(e);t!==this.optimisticData&&(this.optimisticData=t,this.broadcastWatches())},n.prototype.batch=function(e){var t=this,n=e.transaction,i=e.optimistic,o=void 0===i||i,s=function(e){var r=t,i=r.data,o=r.optimisticData;++t.txCount,e&&(t.data=t.optimisticData=e);try{n(t)}finally{--t.txCount,t.data=i,t.optimisticData=o}},a=e.onDirty,c=new Set;a&&!this.txCount&&this.broadcastWatches(r(r({},e),{onDirty:function(e){return c.add(e),!1}})),"string"==typeof o?this.optimisticData=this.optimisticData.addLayer(o,s):!1===o?s(this.data):s(),a&&c.size?(this.broadcastWatches(r(r({},e),{onDirty:function(e,t){var r=a.call(this,e,t);return!1!==r&&c.delete(e),r}})),c.size&&c.forEach((function(e){return t.maybeBroadcastWatch.dirty(e)}))):this.broadcastWatches(e)},n.prototype.performTransaction=function(e,t){return this.batch({transaction:e,optimistic:t||null!==t})},n.prototype.transformDocument=function(e){if(this.addTypename){var t=this.typenameDocumentCache.get(e);return t||(t=hn(e),this.typenameDocumentCache.set(e,t),this.typenameDocumentCache.set(t,t)),t}return e},n.prototype.broadcastWatches=function(e){var t=this;this.txCount||this.watches.forEach((function(r){return t.maybeBroadcastWatch(r,e)}))},n.prototype.broadcastWatch=function(e,t){var r=this.diff({query:e.query,variables:e.variables,optimistic:e.optimistic});t&&(e.optimistic&&"string"==typeof t.optimistic&&(r.fromOptimisticTransaction=!0),t.onDirty&&!1===t.onDirty.call(this,e,r))||e.lastDiff&&e.lastDiff.result===r.result||e.callback(e.lastDiff=r)},n}(ho),ss=function(){function e(e){var t=e.cache,r=e.client,n=e.resolvers,i=e.fragmentMatcher;this.cache=t,r&&(this.client=r),n&&this.addResolvers(n),i&&this.setFragmentMatcher(i)}return e.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach((function(e){t.resolvers=yn(t.resolvers,e)})):this.resolvers=yn(this.resolvers,e)},e.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},e.prototype.getResolvers=function(){return this.resolvers||{}},e.prototype.runResolvers=function(e){var t=e.document,n=e.remoteResult,i=e.context,a=e.variables,c=e.onlyRunForcedResolvers,l=void 0!==c&&c;return o(this,void 0,void 0,(function(){return s(this,(function(e){return t?[2,this.resolveDocument(t,n.data,i,a,this.fragmentMatcher,l).then((function(e){return r(r({},n),{data:e.result})}))]:[2,n]}))}))},e.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},e.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},e.prototype.clientQuery=function(e){return Lr(["client"],e)&&this.resolvers?e:null},e.prototype.serverQuery=function(e){return function(e){Xr(e);var t=un([{test:function(e){return"client"===e.name.value},remove:!0}],e);return t&&(t=rr(t,{FragmentDefinition:{enter:function(e){if(e.selectionSet&&e.selectionSet.selections.every((function(e){return Gr(e)&&"__typename"===e.name.value})))return null}}})),t}(e)},e.prototype.prepareContext=function(e){var t=this.cache;return r(r({},e),{cache:t,getCacheKey:function(e){return t.identify(e)}})},e.prototype.addExportedVariables=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),o(this,void 0,void 0,(function(){return s(this,(function(i){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,t)||{},this.prepareContext(n),t).then((function(e){return r(r({},t),e.exportedVariables)}))]:[2,r({},t)]}))}))},e.prototype.shouldForceResolvers=function(e){var t=!1;return rr(e,{Directive:{enter:function(e){if("client"===e.name.value&&e.arguments&&(t=e.arguments.some((function(e){return"always"===e.name.value&&"BooleanValue"===e.value.kind&&!0===e.value.value}))))return tr}}}),t},e.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:fn(e),variables:t,returnPartialData:!0,optimistic:!1}).result},e.prototype.resolveDocument=function(e,t,n,i,a,c){return void 0===n&&(n={}),void 0===i&&(i={}),void 0===a&&(a=function(){return!0}),void 0===c&&(c=!1),o(this,void 0,void 0,(function(){var o,l,u,h,d,p,f,v,y;return s(this,(function(s){return o=rn(e),l=tn(e),u=Vr(l),h=o.operation,d=h?h.charAt(0).toUpperCase()+h.slice(1):"Query",f=(p=this).cache,v=p.client,y={fragmentMap:u,context:r(r({},n),{cache:f,client:v}),variables:i,fragmentMatcher:a,defaultOperationType:d,exportedVariables:{},onlyRunForcedResolvers:c},[2,this.resolveSelectionSet(o.selectionSet,t,y).then((function(e){return{result:e,exportedVariables:y.exportedVariables}}))]}))}))},e.prototype.resolveSelectionSet=function(e,t,r){return o(this,void 0,void 0,(function(){var n,i,a,c,l,u=this;return s(this,(function(h){return n=r.fragmentMap,i=r.context,a=r.variables,c=[t],l=function(e){return o(u,void 0,void 0,(function(){var o,l;return s(this,(function(s){return Mr(e,a)?Gr(e)?[2,this.resolveField(e,t,r).then((function(t){var r;void 0!==t&&c.push(((r={})[Hr(e)]=t,r))}))]:(Yr(e)?o=e:(o=n[e.name.value],"production"===process.env.NODE_ENV?Ar(o,12):Ar(o,"No fragment named "+e.name.value)),o&&o.typeCondition&&(l=o.typeCondition.name.value,r.fragmentMatcher(t,l,i))?[2,this.resolveSelectionSet(o.selectionSet,t,r).then((function(e){c.push(e)}))]:[2]):[2]}))}))},[2,Promise.all(e.selections.map(l)).then((function(){return mn(c)}))]}))}))},e.prototype.resolveField=function(e,t,r){return o(this,void 0,void 0,(function(){var n,i,o,a,c,l,u,h,d,p=this;return s(this,(function(s){return n=r.variables,i=e.name.value,o=Hr(e),a=i!==o,c=t[o]||t[i],l=Promise.resolve(c),r.onlyRunForcedResolvers&&!this.shouldForceResolvers(e)||(u=t.__typename||r.defaultOperationType,(h=this.resolvers&&this.resolvers[u])&&(d=h[a?i:o])&&(l=Promise.resolve(Vo.withValue(this.cache,d,[t,$r(e,n),r.context,{field:e,fragmentMap:r.fragmentMap}])))),[2,l.then((function(t){return void 0===t&&(t=c),e.directives&&e.directives.forEach((function(e){"export"===e.name.value&&e.arguments&&e.arguments.forEach((function(e){"as"===e.name.value&&"StringValue"===e.value.kind&&(r.exportedVariables[e.value.value]=t)}))})),e.selectionSet?null==t?t:Array.isArray(t)?p.resolveSubSelectedArray(e,t,r):e.selectionSet?p.resolveSelectionSet(e.selectionSet,t,r):void 0:t}))]}))}))},e.prototype.resolveSubSelectedArray=function(e,t,r){var n=this;return Promise.all(t.map((function(t){return null===t?null:Array.isArray(t)?n.resolveSubSelectedArray(e,t,r):e.selectionSet?n.resolveSelectionSet(e.selectionSet,t,r):void 0})))},e}(),as=new(Zn?WeakMap:Map);function cs(e,t){var r=e[t];"function"==typeof r&&(e[t]=function(){return as.set(e,(as.get(e)+1)%1e15),r.apply(this,arguments)})}function ls(e){e.notifyTimeout&&(clearTimeout(e.notifyTimeout),e.notifyTimeout=void 0)}var us=function(){function e(e){this.cache=e,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.subscriptions=new Set,this.stopped=!1,this.dirty=!1,this.diff=null,this.observableQuery=null,as.has(e)||(as.set(e,0),cs(e,"evict"),cs(e,"modify"),cs(e,"reset"))}return e.prototype.init=function(e){var t=e.networkStatus||ki.loading;return this.variables&&this.networkStatus!==ki.loading&&!gi(this.variables,e.variables)&&(t=ki.setVariables),gi(e.variables,this.variables)||(this.diff=null),Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:t}),e.observableQuery&&this.setObservableQuery(e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},e.prototype.reset=function(){ls(this),this.diff=null,this.dirty=!1},e.prototype.getDiff=function(e){if(void 0===e&&(e=this.variables),this.diff&&gi(e,this.variables))return this.diff;this.updateWatch(this.variables=e);var t=this.observableQuery;return t&&"no-cache"===t.options.fetchPolicy?{complete:!1}:this.diff=this.cache.diff({query:this.document,variables:e,returnPartialData:!0,optimistic:!0})},e.prototype.setDiff=function(e){var t=this,r=this.diff;this.diff=e,this.dirty||(e&&e.result)===(r&&r.result)||(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout((function(){return t.notify()}),0)))},e.prototype.setObservableQuery=function(e){var t=this;e!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=e,e?(e.queryInfo=this,this.listeners.add(this.oqListener=function(){t.getDiff().fromOptimisticTransaction?e.observe():e.reobserve()})):delete this.oqListener)},e.prototype.notify=function(){var e=this;ls(this),this.shouldNotify()&&this.listeners.forEach((function(t){return t(e)})),this.dirty=!1},e.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(Ci(this.networkStatus)&&this.observableQuery){var e=this.observableQuery.options.fetchPolicy;if("cache-only"!==e&&"cache-and-network"!==e)return!1}return!0},e.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),delete this.cancel,this.subscriptions.forEach((function(e){return e.unsubscribe()}));var e=this.observableQuery;e&&e.stopPolling()}},e.prototype.cancel=function(){},e.prototype.updateWatch=function(e){var t=this;void 0===e&&(e=this.variables);var r=this.observableQuery;r&&"no-cache"===r.options.fetchPolicy||this.lastWatch&&this.lastWatch.query===this.document&&gi(e,this.lastWatch.variables)||(this.cancel(),this.cancel=this.cache.watch(this.lastWatch={query:this.document,variables:e,optimistic:!0,watcher:this,callback:function(e){return t.setDiff(e)}}))},e.prototype.resetLastWrite=function(){this.lastWrite=void 0},e.prototype.shouldWrite=function(e,t){var r=this.lastWrite;return!(r&&r.dmCount===as.get(this.cache)&&gi(t,r.variables)&&gi(e.data,r.result.data))},e.prototype.markResult=function(e,t,r){var n=this;this.graphQLErrors=Yn(e.errors)?e.errors:[],this.reset(),"no-cache"===t.fetchPolicy?this.diff={result:e.data,complete:!0}:this.stopped||0===r||(hs(e,t.errorPolicy)?this.cache.performTransaction((function(i){if(n.shouldWrite(e,t.variables))i.writeQuery({query:n.document,data:e.data,variables:t.variables,overwrite:1===r}),n.lastWrite={result:e,variables:t.variables,dmCount:as.get(n.cache)};else if(n.diff&&n.diff.complete)return void(e.data=n.diff.result);var o=i.diff({query:n.document,variables:t.variables,returnPartialData:!0,optimistic:!0});n.stopped||n.updateWatch(t.variables),n.diff=o,o.complete&&(e.data=o.result)})):this.lastWrite=void 0)},e.prototype.markReady=function(){return this.networkError=null,this.networkStatus=ki.ready},e.prototype.markError=function(e){return this.networkStatus=ki.error,this.lastWrite=void 0,this.reset(),e.graphQLErrors&&(this.graphQLErrors=e.graphQLErrors),e.networkError&&(this.networkError=e.networkError),e},e}();function hs(e,t){void 0===t&&(t="none");var r="ignore"===t||"all"===t,n=!Xn(e);return!n&&r&&e.data&&(n=!0),n}var ds=Object.prototype.hasOwnProperty,ps=function(){function e(e){var t=e.cache,r=e.link,n=e.queryDeduplication,i=void 0!==n&&n,o=e.onBroadcast,s=e.ssrMode,a=void 0!==s&&s,c=e.clientAwareness,l=void 0===c?{}:c,u=e.localState,h=e.assumeImmutableResults;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(Zn?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map,this.cache=t,this.link=r,this.queryDeduplication=i,this.clientAwareness=l,this.localState=u||new ss({cache:t}),this.ssrMode=a,this.assumeImmutableResults=!!h,(this.onBroadcast=o)&&(this.mutationStore=Object.create(null))}return e.prototype.stop=function(){var e=this;this.queries.forEach((function(t,r){e.stopQueryNoBroadcast(r)})),this.cancelPendingFetches("production"===process.env.NODE_ENV?new Ir(13):new Ir("QueryManager stopped while query was in flight"))},e.prototype.cancelPendingFetches=function(e){this.fetchCancelFns.forEach((function(t){return t(e)})),this.fetchCancelFns.clear()},e.prototype.mutate=function(e){var t=e.mutation,n=e.variables,i=e.optimisticResponse,a=e.updateQueries,c=e.refetchQueries,l=void 0===c?[]:c,u=e.awaitRefetchQueries,h=void 0!==u&&u,d=e.update,p=e.reobserveQuery,f=e.errorPolicy,v=void 0===f?"none":f,y=e.fetchPolicy,m=e.context;return o(this,void 0,void 0,(function(){var e,o,c;return s(this,(function(s){switch(s.label){case 0:return"production"===process.env.NODE_ENV?Ar(t,14):Ar(t,"mutation option is required. You must specify your GraphQL document in the mutation option."),"production"===process.env.NODE_ENV?Ar(!y||"no-cache"===y,15):Ar(!y||"no-cache"===y,"Mutations only support a 'no-cache' fetchPolicy. If you don't want to disable the cache, remove your fetchPolicy setting to proceed with the default mutation behavior."),e=this.generateMutationId(),t=this.transform(t).document,n=this.getVariables(t,n),this.transform(t).hasClientExports?[4,this.localState.addExportedVariables(t,n,m)]:[3,2];case 1:n=s.sent(),s.label=2;case 2:return o=this.mutationStore&&(this.mutationStore[e]={mutation:t,variables:n,loading:!0,error:null}),i&&this.markMutationOptimistic(i,{mutationId:e,document:t,variables:n,errorPolicy:v,context:m,updateQueries:a,update:d}),this.broadcastQueries(),c=this,[2,new Promise((function(s,u){var f;return $n(c.getObservableFromLink(t,r(r({},m),{optimisticResponse:i}),n,!1),(function(r){if(Xn(r)&&"none"===v)throw new Oi({graphQLErrors:r.errors});if(o&&(o.loading=!1,o.error=null),f=r,"no-cache"!==y)try{return c.markMutationResult({mutationId:e,result:r,document:t,variables:n,errorPolicy:v,context:m,updateQueries:a,update:d,reobserveQuery:p})}catch(e){throw new Oi({networkError:e})}})).subscribe({error:function(t){o&&(o.loading=!1,o.error=t),i&&c.cache.removeOptimistic(e),c.broadcastQueries(),u(t instanceof Oi?t:new Oi({networkError:t}))},complete:function(){i&&c.cache.removeOptimistic(e),c.broadcastQueries(),"function"==typeof l&&(l=l(f));var t=c.refetchQueries(l);Promise.all(h?t:[]).then((function(){"ignore"===v&&f&&Xn(f)&&delete f.errors,s(f)}),u)}})}))]}}))}))},e.prototype.markMutationResult=function(e,t){var r=this;if(void 0===t&&(t=this.cache),hs(e.result,e.errorPolicy)){var n=[{result:e.result.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}],i=e.updateQueries;i&&this.queries.forEach((function(o,s){var a=o.observableQuery,c=a&&a.queryName;if(c&&ds.call(i,c)){var l=i[c],u=r.queries.get(s),h=u.document,d=u.variables,p=t.diff({query:h,variables:d,returnPartialData:!0,optimistic:!1}),f=p.result;if(p.complete&&f){var v=l(f,{mutationResult:e.result,queryName:h&&en(h)||void 0,queryVariables:d});v&&n.push({result:v,dataId:"ROOT_QUERY",query:h,variables:d})}}}));var o=[];return t.batch({transaction:function(t){n.forEach((function(e){return t.write(e)}));var r=e.update;r&&r(t,e.result,{context:e.context,variables:e.variables})},optimistic:!1,onDirty:e.reobserveQuery&&function(t,r){if(t.watcher instanceof us){var n=t.watcher.observableQuery;if(n)return o.push(e.reobserveQuery(n,r)),!1}}}),Promise.all(o).then((function(){}))}return Promise.resolve()},e.prototype.markMutationOptimistic=function(e,t){var n=this,i="function"==typeof e?e(t.variables):e;return this.cache.recordOptimisticTransaction((function(e){try{n.markMutationResult(r(r({},t),{result:{data:i}}),e)}catch(e){"production"===process.env.NODE_ENV||Ar.error(e)}}),t.mutationId)},e.prototype.fetchQuery=function(e,t,r){return this.fetchQueryObservable(e,t,r).promise},e.prototype.getQueryStore=function(){var e=Object.create(null);return this.queries.forEach((function(t,r){e[r]={variables:t.variables,networkStatus:t.networkStatus,networkError:t.networkError,graphQLErrors:t.graphQLErrors}})),e},e.prototype.resetErrors=function(e){var t=this.queries.get(e);t&&(t.networkError=void 0,t.graphQLErrors=[])},e.prototype.transform=function(e){var t,r=this.transformCache;if(!r.has(e)){var n=this.cache.transformDocument(e),i=(t=this.cache.transformForLink(n),un([dn],Xr(t))),o=this.localState.clientQuery(n),s=i&&this.localState.serverQuery(i),a={document:n,hasClientExports:jr(n),hasForcedResolvers:this.localState.shouldForceResolvers(n),clientQuery:o,serverQuery:s,defaultVars:nn(Zr(n))},c=function(e){e&&!r.has(e)&&r.set(e,a)};c(e),c(n),c(o),c(s)}return r.get(e)},e.prototype.getVariables=function(e,t){return r(r({},this.transform(e).defaultVars),t)},e.prototype.watchQuery=function(e){void 0===(e=r(r({},e),{variables:this.getVariables(e.query,e.variables)})).notifyOnNetworkStatusChange&&(e.notifyOnNetworkStatusChange=!1);var t=new us(this.cache),n=new Ii({queryManager:this,queryInfo:t,options:e});return this.queries.set(n.queryId,t),t.init({document:e.query,observableQuery:n,variables:e.variables}),n},e.prototype.query=function(e){var t=this;"production"===process.env.NODE_ENV?Ar(e.query,16):Ar(e.query,"query option is required. You must specify your GraphQL document in the query option."),"production"===process.env.NODE_ENV?Ar("Document"===e.query.kind,17):Ar("Document"===e.query.kind,'You must wrap the query string in a "gql" tag.'),"production"===process.env.NODE_ENV?Ar(!e.returnPartialData,18):Ar(!e.returnPartialData,"returnPartialData option only supported on watchQuery."),"production"===process.env.NODE_ENV?Ar(!e.pollInterval,19):Ar(!e.pollInterval,"pollInterval option only supported on watchQuery.");var r=this.generateQueryId();return this.fetchQuery(r,e).finally((function(){return t.stopQuery(r)}))},e.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},e.prototype.generateRequestId=function(){return this.requestIdCounter++},e.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},e.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryInStoreNoBroadcast=function(e){var t=this.queries.get(e);t&&t.stop()},e.prototype.clearStore=function(){return this.cancelPendingFetches("production"===process.env.NODE_ENV?new Ir(20):new Ir("Store reset while query was in flight (not completed in link chain)")),this.queries.forEach((function(e){e.observableQuery?e.networkStatus=ki.loading:e.stop()})),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset()},e.prototype.resetStore=function(){var e=this;return this.clearStore().then((function(){return e.reFetchObservableQueries()}))},e.prototype.reFetchObservableQueries=function(e){var t=this;void 0===e&&(e=!1);var r=[];return this.queries.forEach((function(n,i){var o=n.observableQuery;if(o&&o.hasObservers()){var s=o.options.fetchPolicy;o.resetLastResults(),"cache-only"===s||!e&&"standby"===s||r.push(o.refetch()),t.getQuery(i).setDiff(null)}})),this.broadcastQueries(),Promise.all(r)},e.prototype.setObservableQuery=function(e){this.getQuery(e.queryId).setObservableQuery(e)},e.prototype.startGraphQLSubscription=function(e){var t=this,r=e.query,n=e.fetchPolicy,i=e.errorPolicy,o=e.variables,s=e.context,a=void 0===s?{}:s;r=this.transform(r).document,o=this.getVariables(r,o);var c=function(e){return t.getObservableFromLink(r,a,e).map((function(o){if("no-cache"!==n&&(hs(o,i)&&t.cache.write({query:r,result:o.data,dataId:"ROOT_SUBSCRIPTION",variables:e}),t.broadcastQueries()),Xn(o))throw new Oi({graphQLErrors:o.errors});return o}))};if(this.transform(r).hasClientExports){var l=this.localState.addExportedVariables(r,o,a).then(c);return new Ln((function(e){var t=null;return l.then((function(r){return t=r.subscribe(e)}),e.error),function(){return t&&t.unsubscribe()}}))}return c(o)},e.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},e.prototype.removeQuery=function(e){this.fetchCancelFns.delete(e),this.getQuery(e).stop(),this.queries.delete(e)},e.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach((function(e){return e.notify()}))},e.prototype.getLocalState=function(){return this.localState},e.prototype.getObservableFromLink=function(e,t,n,i){var o,s,a=this;void 0===i&&(i=null!==(o=null==t?void 0:t.queryDeduplication)&&void 0!==o?o:this.queryDeduplication);var c=this.transform(e).serverQuery;if(c){var l=this.inFlightLinkObservables,u=this.link,h={query:c,variables:n,operationName:en(c)||void 0,context:this.prepareContext(r(r({},t),{forceFetch:!i}))};if(t=h.context,i){var d=l.get(c)||new Map;l.set(c,d);var p=JSON.stringify(n);if(!(s=d.get(p))){var f=new Gn([ci(u,h)]);d.set(p,s=f),f.cleanup((function(){d.delete(p)&&d.size<1&&l.delete(c)}))}}else s=new Gn([ci(u,h)])}else s=new Gn([Ln.of({data:{}})]),t=this.prepareContext(t);var v=this.transform(e).clientQuery;return v&&(s=$n(s,(function(e){return a.localState.runResolvers({document:v,remoteResult:e,context:t,variables:n})}))),s},e.prototype.getResultsFromLink=function(e,t,r){var n=e.lastRequestId=this.generateRequestId();return $n(this.getObservableFromLink(e.document,r.context,r.variables),(function(i){var o=Yn(i.errors);if(n>=e.lastRequestId){if(o&&"none"===r.errorPolicy)throw e.markError(new Oi({graphQLErrors:i.errors}));e.markResult(i,r,t),e.markReady()}var s={data:i.data,loading:!1,networkStatus:e.networkStatus||ki.ready};return o&&"ignore"!==r.errorPolicy&&(s.errors=i.errors),s}),(function(t){var r=t.hasOwnProperty("graphQLErrors")?t:new Oi({networkError:t});throw n>=e.lastRequestId&&e.markError(r),r}))},e.prototype.fetchQueryObservable=function(e,t,r){var n=this;void 0===r&&(r=ki.loading);var i=this.transform(t.query).document,o=this.getVariables(i,t.variables),s=this.getQuery(e),a=t.fetchPolicy,c=void 0===a?"cache-first":a,l=t.errorPolicy,u=void 0===l?"none":l,h=t.returnPartialData,d=void 0!==h&&h,p=t.notifyOnNetworkStatusChange,f=void 0!==p&&p,v=t.context,y=void 0===v?{}:v,m=Object.assign({},t,{query:i,variables:o,fetchPolicy:c,errorPolicy:u,returnPartialData:d,notifyOnNetworkStatusChange:f,context:y}),b=function(e){return m.variables=e,n.fetchQueryByPolicy(s,m,r)};this.fetchCancelFns.set(e,(function(e){Promise.resolve().then((function(){return g.cancel(e)}))}));var g=new Gn(this.transform(m.query).hasClientExports?this.localState.addExportedVariables(m.query,m.variables,m.context).then(b):b(m.variables));return g.cleanup((function(){n.fetchCancelFns.delete(e);var r=t.nextFetchPolicy;r&&(t.nextFetchPolicy=void 0,t.fetchPolicy="function"==typeof r?r.call(t,t.fetchPolicy||"cache-first"):r)})),g},e.prototype.refetchQueries=function(e){var t=this,r=[];return Yn(e)&&e.forEach((function(e){if("string"==typeof e)t.queries.forEach((function(t){var n=t.observableQuery;n&&n.hasObservers()&&n.queryName===e&&r.push(n.refetch())}));else{var n={query:e.query,variables:e.variables,fetchPolicy:"network-only"};e.context&&(n.context=e.context),r.push(t.query(n))}})),r},e.prototype.fetchQueryByPolicy=function(e,t,n){var i=this,o=t.query,s=t.variables,a=t.fetchPolicy,c=t.refetchWritePolicy,l=t.errorPolicy,u=t.returnPartialData,h=t.context,d=t.notifyOnNetworkStatusChange,p=e.networkStatus;e.init({document:o,variables:s,networkStatus:n});var f=function(){return e.getDiff(s)},v=function(t,n){void 0===n&&(n=e.networkStatus||ki.loading);var a=t.result;"production"===process.env.NODE_ENV||!Yn(t.missing)||gi(a,{})||u||"production"===process.env.NODE_ENV||Ar.warn("Missing cache result fields: "+t.missing.map((function(e){return e.path.join(".")})).join(", "),t.missing);var c=function(e){return Ln.of(r({data:e,loading:Ci(n),networkStatus:n},t.complete?null:{partial:!0}))};return a&&i.transform(o).hasForcedResolvers?i.localState.runResolvers({document:o,remoteResult:{data:a},context:h,variables:s,onlyRunForcedResolvers:!0}).then((function(e){return c(e.data||void 0)})):c(a)},y="no-cache"===a?0:n===ki.refetch&&"merge"!==c?1:2,m=function(){return i.getResultsFromLink(e,y,{variables:s,context:h,fetchPolicy:a,errorPolicy:l})},b=d&&"number"==typeof p&&p!==n&&Ci(n);switch(a){default:case"cache-first":return(g=f()).complete?[v(g,e.markReady())]:u||b?[v(g),m()]:[m()];case"cache-and-network":var g;return(g=f()).complete||u||b?[v(g),m()]:[m()];case"cache-only":return[v(f(),e.markReady())];case"network-only":return b?[v(f()),m()]:[m()];case"no-cache":return b?[v(e.getDiff()),m()]:[m()];case"standby":return[]}},e.prototype.getQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new us(this.cache)),this.queries.get(e)},e.prototype.prepareContext=function(e){void 0===e&&(e={});var t=this.localState.prepareContext(e);return r(r({},t),{clientAwareness:this.clientAwareness})},e}(),fs=!1;function vs(e,t){return ei(e,t,t.variables&&{variables:r(r({},e.variables),t.variables)})}var ys,ms=function(){function e(e){var t=this;this.defaultOptions={},this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var r=e.uri,n=e.credentials,i=e.headers,o=e.cache,s=e.ssrMode,a=void 0!==s&&s,c=e.ssrForceFetchDelay,l=void 0===c?0:c,u=e.connectToDevTools,h=void 0===u?"object"==typeof window&&!window.__APOLLO_CLIENT__&&"production"!==process.env.NODE_ENV:u,d=e.queryDeduplication,p=void 0===d||d,f=e.defaultOptions,v=e.assumeImmutableResults,y=void 0!==v&&v,m=e.resolvers,b=e.typeDefs,g=e.fragmentMatcher,_=e.name,w=e.version,E=e.link;if(E||(E=r?new pi({uri:r,credentials:n,headers:i}):ai.empty()),!o)throw"production"===process.env.NODE_ENV?new Ir(10):new Ir("To initialize Apollo Client, you must specify a 'cache' property in the options object. \nFor more information, please visit: https://go.apollo.dev/c/docs");if(this.link=E,this.cache=o,this.disableNetworkFetches=a||l>0,this.queryDeduplication=p,this.defaultOptions=f||{},this.typeDefs=b,l&&setTimeout((function(){return t.disableNetworkFetches=!1}),l),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),h&&"object"==typeof window&&(window.__APOLLO_CLIENT__=this),!fs&&"production"!==process.env.NODE_ENV&&(fs=!0,"undefined"!=typeof window&&window.document&&window.top===window.self&&!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__)){var S=window.navigator,N=S&&S.userAgent,k=void 0;"string"==typeof N&&(N.indexOf("Chrome/")>-1?k="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":N.indexOf("Firefox/")>-1&&(k="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),k&&Ar.log("Download the Apollo DevTools for a better development experience: "+k)}this.version="3.4.0-beta.24",this.localState=new ss({cache:o,client:this,resolvers:m,fragmentMatcher:g}),this.queryManager=new ps({cache:this.cache,link:this.link,queryDeduplication:p,ssrMode:a,clientAwareness:{name:_,version:w},localState:this.localState,assumeImmutableResults:y,onBroadcast:h?function(){t.devToolsHookCb&&t.devToolsHookCb({action:{},state:{queries:t.queryManager.getQueryStore(),mutations:t.queryManager.mutationStore||{}},dataWithOptimisticResults:t.cache.extract(!0)})}:void 0})}return e.prototype.stop=function(){this.queryManager.stop()},e.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=vs(this.defaultOptions.watchQuery,e)),!this.disableNetworkFetches||"network-only"!==e.fetchPolicy&&"cache-and-network"!==e.fetchPolicy||(e=r(r({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},e.prototype.query=function(e){return this.defaultOptions.query&&(e=vs(this.defaultOptions.query,e)),"production"===process.env.NODE_ENV?Ar("cache-and-network"!==e.fetchPolicy,11):Ar("cache-and-network"!==e.fetchPolicy,"The cache-and-network fetchPolicy does not work with client.query, because client.query can only return a single result. Please use client.watchQuery to receive multiple results from the cache and the network, or consider using a different fetchPolicy, such as cache-first or network-only."),this.disableNetworkFetches&&"network-only"===e.fetchPolicy&&(e=r(r({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},e.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=vs(this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},e.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.cache.readQuery(e,t)},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.cache.readFragment(e,t)},e.prototype.writeQuery=function(e){this.cache.writeQuery(e),this.queryManager.broadcastQueries()},e.prototype.writeFragment=function(e){this.cache.writeFragment(e),this.queryManager.broadcastQueries()},e.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},e.prototype.__requestRaw=function(e){return ci(this.link,e)},e.prototype.resetStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore()})).then((function(){return Promise.all(e.resetStoreCallbacks.map((function(e){return e()})))})).then((function(){return e.reFetchObservableQueries()}))},e.prototype.clearStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore()})).then((function(){return Promise.all(e.clearStoreCallbacks.map((function(e){return e()})))}))},e.prototype.onResetStore=function(e){var t=this;return this.resetStoreCallbacks.push(e),function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.onClearStore=function(e){var t=this;return this.clearStoreCallbacks.push(e),function(){t.clearStoreCallbacks=t.clearStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},e.prototype.refetchQueries=function(e){return Promise.all(this.queryManager.refetchQueries(e))},e.prototype.extract=function(e){return this.cache.extract(e)},e.prototype.restore=function(e){return this.cache.restore(e)},e.prototype.addResolvers=function(e){this.localState.addResolvers(e)},e.prototype.setResolvers=function(e){this.localState.setResolvers(e)},e.prototype.getResolvers=function(){return this.localState.getResolvers()},e.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},e.prototype.setLink=function(e){this.link=this.queryManager.link=e},e}();ys="log",Dr[Pr],Pr=Math.max(0,Dr.indexOf(ys)),Cr.resetCaches,Cr.disableFragmentWarnings,Cr.enableExperimentalFragmentVariables,Cr.disableExperimentalFragmentVariables;const bs=new ms({cache:new os,uri:"http://localhost:4000/",version:"1.3",queryDeduplication:!1,defaultOptions:{watchQuery:{fetchPolicy:"cache-and-network"}}});class gs{get shoppingCart(){const e=localStorage.getItem(gs.sKey);let t={};return e&&(t=JSON.parse(e)),t}getShoppingCartIds(){return Object.keys(this.shoppingCart)}getCartItems(e){return this.shoppingCart[e]}deleteItemFromShoppingCart(e){const{shoppingCart:t}=this;delete t[e],localStorage.setItem(gs.sKey,JSON.stringify(t))}addToShoppingCart(e){const{shoppingCart:t}=this;t[e]=t[e]?t[e]+1:1,localStorage.setItem(gs.sKey,JSON.stringify(t))}getTotalItems(){return Object.keys(this.shoppingCart).reduce(((e,t)=>e+this.shoppingCart[t]),0)}updateCount(e,t){const{shoppingCart:r}=this;r[e]=t,localStorage.setItem(gs.sKey,JSON.stringify(r))}}gs.sKey="shoppingCart";const _s=new gs,ws=Cr`
  query vehicleQuery($id: ID!) {
    vehicle(id: $id) {
      model
      make
      licensed
      year_model
      price
      location {
        warehouse {
          long
          lat
        }
        location
      }
    }
  }
`;let Es=class extends he{constructor(){super(...arguments),this.id=""}attributeChangedCallback(e,t,r){var n,i;switch(super.attributeChangedCallback(e,t,r),e){case"id":r&&(null===(i=null===(n=this.shadowRoot)||void 0===n?void 0:n.querySelector("button"))||void 0===i||i.click(),bs.query({query:ws,variables:{id:r}}).then((e=>{var t;this.vehicle=null===(t=e.data)||void 0===t?void 0:t.vehicle})))}}_closeDialog(e){var t;const r=new CustomEvent("close-dialog",{bubbles:!0});this.dispatchEvent(r),null===(t=e.target)||void 0===t||t.dispatchEvent(new Event("close-overlay",{bubbles:!0}))}_addToCart(){_s.addToShoppingCart(this.id);const e=new CustomEvent("car-added-to-cart",{bubbles:!0});this.dispatchEvent(e)}render(){var e,t,r,n,i,o,s,a,c,l,u,h;return K`<lion-dialog .config="${{placementMode:"global"}}">${this.id} <button slot="invoker" style="display:none"></button><div slot="content" class="dialog"><button class="close-button" @click="${e=>this._closeDialog(e)}">x</button><dl><dt>${null===(e=this.vehicle)||void 0===e?void 0:e.model}<dd><label>Make:</label> ${null===(t=this.vehicle)||void 0===t?void 0:t.make}</dd><dd><label>Year:</label> ${null===(r=this.vehicle)||void 0===r?void 0:r.year_model}</dd><dd><label>Price:</label> ${null===(n=this.vehicle)||void 0===n?void 0:n.price}</dd><dd><label>Location in warehouse</label> long: ${null===(s=null===(o=null===(i=this.vehicle)||void 0===i?void 0:i.location)||void 0===o?void 0:o.warehouse)||void 0===s?void 0:s.long}, lat:${null===(l=null===(c=null===(a=this.vehicle)||void 0===a?void 0:a.location)||void 0===c?void 0:c.warehouse)||void 0===l?void 0:l.lat}<br> at ${null===(h=null===(u=this.vehicle)||void 0===u?void 0:u.location)||void 0===h?void 0:h.location}</dd></dt></dl><button @click="${()=>this._addToCart()}" class="add-to-cart"><lion-icon icon-id="lion-garage:misc:shoppingCart"></lion-icon>add to cart</button></div></lion-dialog>`}};Es.styles=le`button{background:0 0;margin-left:auto}`,i([oe()],Es.prototype,"vehicle",void 0),i([oe({type:String})],Es.prototype,"id",void 0),Es=i([ne("lion-car")],Es);let Ss=class extends he{constructor(){super(...arguments),this.cars=[],this.ids=[],this.shoppingCartCars=[],this._updateEvent=new CustomEvent("update-cart",{bubbles:!0}),this._getItemInCart=e=>_s.getCartItems(e)}update(e){super.update(e),e.get("ids")&&(this.shoppingCartCars=this.cars.filter((e=>this.ids.includes(e.id))),this.total=this.shoppingCartCars.reduce(((e,t)=>e.plus(t.price)),new it(0)).toNumber())}_updateCount(e,t){const{value:r}=e.currentTarget;Number(r)<0||r.indexOf("-")>-1||!r?e.currentTarget.value="0":(_s.updateCount(t,+r),this.dispatchEvent(this._updateEvent))}_checkZeroCountForId(e,t){const{value:r}=e.currentTarget;(0===Number(r)||r.indexOf("-")>-1||!r)&&this._delete(t)}_delete(e){_s.deleteItemFromShoppingCart(e),this.ids=_s.getShoppingCartIds(),this.dispatchEvent(this._updateEvent)}render(){var e,t;return K`<main><h1>Shopping cart</h1>${(null===(e=this.shoppingCartCars)||void 0===e?void 0:e.length)?K`<table><tr><th>Count</th><th>Model</th><th>Make</th><th>Price</th><th></th></tr>${this.shoppingCartCars.map((e=>K`<tr><td><input type="number" .value="${this._getItemInCart(e.id)}" @change="${t=>this._updateCount(t,e.id)}" @blur="${t=>this._checkZeroCountForId(t,e.id)}"></td><td>${e.model}</td><td>${e.make}</td><td class="price">${e.price.toLocaleString()}</td><td><button @click="${()=>this._delete(e.id)}"><lion-icon icon-id="lion-garage:misc:bin"></lion-icon></button></td></tr>`))}<tr><td colspan="3" class="price">Total:</td><td class="price"><strong>${null===(t=this.total)||void 0===t?void 0:t.toLocaleString()}</strong></td><td></td></tr></table><button @click="${()=>alert("to be continued to checkout ...")}" class="continue-to-checkout">Continue to Checkout</button>`:K`<p>Your cart is empty</p>`}</main>`}};Ss.styles=le`td,th{padding:.5rem}tr:nth-child(even) td{background:#f0f0f0}// todo add to the theme? tr:last-child td{background:#fff}tr:last-child td{border-top:3px solid}th{border-bottom:1px solid}table{border-collapse:collapse;width:100%}h1{margin:0 0 .5rem 0}td:first-child,td:last-child{text-align:center}td:first-child{width:50px}td button{border:none;line-height:1rem;font-size:var(--body-font-size);background:0 0;padding:.3rem}td button:not([disabled]){cursor:pointer}td button[disabled]{opacity:.5}.price,td:first-child.price{text-align:right}button.continue-to-checkout{background:0 0;border:1px solid var(--button-border-color);font-size:var(--body-font-size);padding:1rem;cursor:pointer;display:block;margin:2rem auto}button.continue-to-checkout:active{background:#eee}input[type=number]{width:50px;text-align:right;border:1px solid var(--button-border-color)}`,i([oe()],Ss.prototype,"cars",void 0),i([oe()],Ss.prototype,"ids",void 0),i([oe()],Ss.prototype,"shoppingCartCars",void 0),i([oe()],Ss.prototype,"total",void 0),Ss=i([ne("lion-shopping-cart")],Ss);let Ns=Te.get("@lion/icon::icons::0.5.x")||new class{constructor(){this.__iconResolvers=new Map}addIconResolver(e,t){if(this.__iconResolvers.has(e))throw new Error(`An icon resolver has already been registered for namespace: ${e}`);this.__iconResolvers.set(e,t)}removeIconResolver(e){this.__iconResolvers.delete(e)}resolveIcon(e,t,r){const n=this.__iconResolvers.get(e);if(n)return n(t,r);throw new Error(`Could not find any icon resolver for namespace ${e}.`)}resolveIconForId(e){const t=e.split(":");if(3!==t.length)throw new Error(`Incorrect iconId: ${e}. Format: <namespace>:<iconset>:<icon>`);return this.resolveIcon(t[0],t[1],t[2])}};Ns.addIconResolver("lion-garage",((e,t)=>{switch(e){case"misc":return import("./iconset-misc-6367c01d.js").then((e=>e.default[t]));default:throw new Error(`Unknown iconset ${e}`)}})),customElements.define("lion-icon",class extends we{static get properties(){return{svg:{attribute:!1},ariaLabel:{type:String,attribute:"aria-label",reflect:!0},iconId:{type:String,attribute:"icon-id"},role:{type:String,attribute:"role",reflect:!0}}}static get styles(){return[ge`:host{box-sizing:border-box;display:inline-block;width:1em;height:1em}:host([hidden]){display:none}:host:first-child{margin-left:0}:host:last-child{margin-right:0}::slotted(svg){display:block;width:100%;height:100%}`]}constructor(){super(),this.role="img",this.ariaLabel="",this.iconId="",this.__svg=N}update(e){super.update(e),e.has("ariaLabel")&&this._onLabelChanged(),e.has("iconId")&&this._onIconIdChanged(e.get("iconId"))}render(){return K`<slot></slot>`}connectedCallback(){this._onLabelChanged(),super.connectedCallback()}set svg(e){this.__svg=e,null==e?this._renderSvg(N):this._renderSvg(function(e){const t=e&&e.default?e.default:e;return"function"==typeof t?t(K):t}(e))}get svg(){return this.__svg}_onLabelChanged(){this.ariaLabel?this.setAttribute("aria-hidden","false"):(this.setAttribute("aria-hidden","true"),this.removeAttribute("aria-label"))}_renderSvg(e){!function(e){if(!(e===N||e instanceof T))throw new Error('icon accepts only lit-html templates or functions like "tag => tag`<svg>...</svg>`"')}(e),Q(e,this),this.firstElementChild&&this.firstElementChild.setAttribute("aria-hidden","true")}get _iconManager(){return Ns}async _onIconIdChanged(e){if(this.iconId){const e=this.iconId,t=await this._iconManager.resolveIconForId(e);this.iconId===e&&(this.svg=t)}else e&&(this.svg=N)}});let ks=class extends he{constructor(){super(),this.vehicles=[],this.cartIds=[],this.selectedCarId="",this.itemsInCart=0;const e=Cr`
      query {
        allVehicles {
          id
          model
          make
          licensed
          date_added
          price
        }
      }
    `;bs.query({query:e}).then((e=>{this.vehicles=e.data.allVehicles.map((e=>({...e}))).sort(((e,t)=>e.date_added<=t.date_added?1:-1))}))}_updateCart(){this.cartIds=_s.getShoppingCartIds(),this.itemsInCart=_s.getTotalItems()}_updateCartItems(){this.itemsInCart=_s.getTotalItems()}_selectedTabChanged(){var e;const t=(null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector("lion-tabs")).__selectedIndex;window.location.hash=`${t}`}firstUpdated(e){var t;super.firstUpdated(e);const r=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector("lion-tabs");r&&window.location.hash?r.__selectedIndex=+window.location.hash.replace("#",""):r&&this._selectedTabChanged()}render(){return this.cartIds=_s.getShoppingCartIds(),this.itemsInCart=_s.getTotalItems(),K`<lion-car id="${this.selectedCarId}" @close-dialog="${()=>{this.selectedCarId=""}}" @car-added-to-cart="${()=>this._updateCart()}"></lion-car><lion-tabs @selected-changed="${()=>this._selectedTabChanged()}}"><a slot="tab" aria-selected="true" href="#0"><lion-icon icon-id="lion-garage:misc:car"></lion-icon></a><lion-cars slot="panel" .cars="${this.vehicles}" @car-selected="${e=>{this.selectedCarId=e.detail.id}}"></lion-cars><p></p><a slot="tab" href="#1"><lion-icon icon-id="lion-garage:misc:shoppingCart"></lion-icon><span class="badge">${this.itemsInCart}</span></a><lion-shopping-cart slot="panel" .cars="${this.vehicles}" .ids="${this.cartIds}" @update-cart="${()=>this._updateCartItems()}"></lion-shopping-cart><p></p></lion-tabs><p class="open-wc">made via <a target="_blank" rel="noopener noreferrer" href="https://github.com/open-wc">open-wc</a>.</p>`}};ks.styles=le`[slot=panel]{border-top:1px solid;padding:1rem;height:calc(100vh - 6.5rem);overflow:auto}[slot=tab]{padding:.5rem 1rem;cursor:pointer;position:relative}[slot=tab][selected=true]{background-color:#eee}a{color:var(--base-color)}.open-wc{font-size:var(--caption-font-size);margin:.5rem;text-align:right;display:block}.badge{background-color:#000;font-size:var(--caption-font-size);color:#fff;border-radius:.5rem;position:absolute;display:block;padding:.1rem;min-width:14px;text-align:center;top:3px;right:5px}`,i([oe()],ks.prototype,"vehicles",void 0),i([oe()],ks.prototype,"cartIds",void 0),i([oe()],ks.prototype,"selectedCarId",void 0),i([oe()],ks.prototype,"itemsInCart",void 0),ks=i([ne("lion-garage")],ks);export{K as h};
